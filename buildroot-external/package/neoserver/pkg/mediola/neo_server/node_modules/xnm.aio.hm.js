var xnm=xnm||{};xnm.aio=xnm.aio||{};xnm.aio.hm=xnm.aio.hm||{};xnm.aio.hm.Util=function(){var a={"&amp;":"&","&quot;":'"',"&lt;":"<","&gt;":">"};return{formatFloatString:function(a){return"undefined"==typeof a||null==a||""==a?"?":parseFloat(a).toFixed(1)},decodeXml:function(c){return c.replace(/(&quot;|&lt;|&gt;|&amp;)/g,function(c,b){return a[b]})}}}();
xnm.aio.hm.MHMCCU=function(a,c,d,b,f,e,g,h){var k=require("x.logger.js");this._logger=k?k.getLogger("xnm.aio.hm.MHMCCU"):{log:function(){}};this.type=e?e:1;this.ip=a;this.port=d?d:80;this.username=g;this.password=c;this.tclport=b?b:8181;this.uuid=f;this.cloudmatic=h;this._cloudmaticState="off";this._statebuffer={}};xnm.aio.hm.MHMCCU._cloneJSONObj=function(a){a=JSON.stringify(a);return a=JSON.parse(a)};
xnm.aio.hm.MHMCCU.prototype={executeCommand:function(a,c,d){if(a)if(c){var b=null,f=1,e=a.type,g={type:a.type,address:a.address,"interface":a["interface"],channels:{}},h=a.address.indexOf(":");0<h&&(f=a.address.substr(h+1),g.address=a.address.substr(0,h));g["interface"]||(g["interface"]=a.data);"on"==c?"DIMMER"==a.type&&(c="dimRaw",b=100):"off"==c?"DIMMER"==a.type&&(c="dimRaw",b=0):"toggle"!=c&&(0==c.indexOf("dimTo")&&(c=c.replace(/dimTo/g,"")),0==c.indexOf("moveTo")&&(c=c.replace(/moveTo/g,"")),
b=c=c.replace(/%/g,""),"DIMMER"==a.type?c="dimRaw":"FHT80b"==a.subtype&&(c="themoRTempRaw",f=2,e="CLIMATECONTROL_REGULATOR"));XC.debugf(g);c={value:c,ext:b};switch(a.type){case xnm.aio.hm.DM.SYSVAR:this.executeCommandCreator(a,c,d);break;case xnm.aio.hm.DM.PROG:this.executeCommandCreator(a,c,d);break;default:g.channels[e]={address:f},this.executeCommandCreator(g,c,d)}}else d&&d(Error("command invalid"));else d&&d(Error("device invalid"))},executeCCUCommand:function(a,c){if(a){var d=null;"cloudmaticOn"==
a.value?this._cloudmaticState="on":"cloudmaticOff"==a.value?this._cloudmaticState="off":"cloudmaticToggle"==a.value?this._cloudmaticState="on"==this._cloudmaticState?"off":"on":d=Error("unknown command");c&&c(d)}else c&&c(Error("command invalid"))},getStates:function(a,c,d){if(c&&0!=c.length){for(var b=[],f=0;f<c.length;f++){var e=c[f];switch(e.type){case xnm.aio.hm.DM.SYSVAR:b.push(c[f]);break;case xnm.aio.hm.DM.PROG:break;default:var g=e.channelAddress,h=e.channelName,k={type:e.type,address:e.address,
"interface":e["interface"],channels:{}},m=e.address.indexOf(":");0<m&&(g=e.address.substr(m+1),k.address=e.address.substr(0,m));k["interface"]||(k["interface"]=e.data);h||(h=e.type);"SWITCH"==e.type?(k.channels.SWITCH={address:1},b.push({id:e.id,device:k,status:{value:"switchState"}}),"meteringSwitch"==e.subtype&&(k.channels.POWERMETER={address:2},b.push({id:e.id+":current",device:k,status:{value:"meterPower"}}))):"FHT80b"==e.subtype?(k.channels.WEATHER={address:1},k.channels.CLIMATECONTROL_REGULATOR=
{address:2},b.push({id:e.id+":C",device:k,status:{value:"weatherTemp"}}),b.push({id:e.id+":T",device:k,status:{value:"themoRSetTemp"}}),b.push({id:e.id+":M",device:k,status:{value:"themoRMode"}})):(k.channels[h]={address:g},"DIMMER"==e.type&&b.push({id:e.id,device:k,status:{value:"dimmerLevel"}}))}}this.getStatesCreator(a,b,d)}else d&&d(null,{})},executeCommandCreator:function(a,c,d){var b=this,f=function(a,b,c,d){this.device=a;this.command=b;this.channel=c;this.callback=d};f.prototype.execute=function(c,
d){var e=this;if(c)this.callback&&this.callback(c);else{var f;"CUxD"==a["interface"]?f=xnm.aio.hm.CUxDChannel[this.channel]:"HmIP-RF"==a["interface"]||"HmIP-HEATING"==a.type?f=xnm.aio.hm.HmIPChannel[m]:"HM-Sec-Sir-WM"!=a.type||"SWITCH_SENSOR_1"!=m&&"SWITCH_SENSOR_2"!=m||(f=xnm.aio.hm.Channel.SWITCH_SENSOR);f||(f=xnm.aio.hm.Channel[this.channel]);f.handleCommandResponse?f.handleCommandResponse(b,this.device,this.command,d,function(){setTimeout(function(){e.callback&&e.callback()},500)}):setTimeout(function(){e.callback&&
e.callback()},500)}};if(!a||a.ip)this.executeCCUCommand(c,d);else if(c){var e=null;switch(a.type){case xnm.aio.hm.DM.SYSVAR:if(!a["class"]||!xnm.aio.hm.SysVar[a["class"].toUpperCase()]){d&&d(Error("device class invalid"));break}if(!xnm.aio.hm.SysVar[a["class"].toUpperCase()].buildCommandScript){d&&d(Error("do not support command"));break}e=xnm.aio.hm.SysVar[a["class"].toUpperCase()].buildCommandScript(this,a,c);if(!e){d&&d(Error("command is invalid"));break}this._doRequest(e,!0,function(a){d&&d(a)});
break;case xnm.aio.hm.DM.PROG:e=xnm.aio.hm.Prog.buildCommandScript(this,a,c);if(!e){d&&d(Error("command is invalid"));break}this._doRequest(e,!0,function(a){d&&d(a)});break;default:if(a&&"BidCos-RF"==a["interface"]&&a.type&&xnm.aio.hm.BidCosDevice[a.type]){var g=xnm.aio.hm.BidCosDevice[a.type];if(g.executeCommand){g.executeCommand(this,a,c,d);break}}if(a&&"HmIP-RF"==a["interface"]&&a.type&&xnm.aio.hm.HmIPDevice[a.type]&&(g=xnm.aio.hm.HmIPDevice[a.type],g.executeCommand)){g.executeCommand(this,a,c,
d);break}if(a&&"HmIP-Wired"==a["interface"]){(g=xnm.aio.hm.HmIPDevice.resolveJSON(a))&&g.executeCommand?g.executeCommand(this,a,c,d):calblack&&d(Error("device json invalid"));break}if(a&&"VirtualDevices"==a["interface"]&&a.type&&xnm.aio.hm.VirtualDevice[a.type]&&(g=xnm.aio.hm.VirtualDevice[a.type])&&(g=new g,g.executeCommand)){g.executeCommand(this,a,c,d);break}if(!a.channels){d&&d(Error("device channels invalid"));break}if("DimmerKey"==a.type){e=xnm.aio.hm.DimmerKey;e=e.buildCommandScript(this,a,
c);if(!e){d&&d(Error("no correspondent channel for the command is found"));break}this._doRequestMarked(e,!0,{execute:function(a){setTimeout(function(){d&&d(a)},3E3)}});break}var h=a.channels,k=g=!1,m;for(m in h)if(h.hasOwnProperty(m)&&(e=null,"CUxD"==a["interface"]?e=xnm.aio.hm.CUxDChannel[m]:"HmIP-RF"==a["interface"]||"HmIP-HEATING"==a.type?e=xnm.aio.hm.HmIPChannel[m]:"HM-Sec-Sir-WM"!=a.type||"SWITCH_SENSOR_1"!=m&&"SWITCH_SENSOR_2"!=m||(e=xnm.aio.hm.Channel.SWITCH_SENSOR),e||(e=xnm.aio.hm.Channel[m]),
e&&(g=!0,e.buildCommandScript&&(e=e.buildCommandScript(this,a,a.channels[m],c))))){k=!0;c=new f(a,c,m,d);this._doRequestMarked(e,!0,c);break}if(!g){d&&d(Error("no correspondent channel is found"));break}k||d&&d(Error("no correspondent channel for the command is found"))}}else d&&d(Error("command invalid"))},buildScript:function(a){for(var c='var o;string states="";',d=0;d<a.length;d++){var b=a[d],c=c+('states = states # "'+d+'=";'),c=c+b.script;d<a.length-1&&(c+='states = states # "\\r@@@\\n";')}return c},
resolveStateResponse:function(a,c,d){var b=[];if(d)for(var f=0;f<d.length;f++){var e=d[f];b.push({id:e.alias,status:e.state})}for(d=0;d<a.length;d++){var e=a[d],f=e.alias,g=e.channel;if(e.device){var h=e.device;switch(h.type){case xnm.aio.hm.DM.SYSVAR:if(!h["class"]||!xnm.aio.hm.SysVar[h["class"].toUpperCase()]){b.push({id:f,status:"?"});continue}e=xnm.aio.hm.SysVar[h["class"].toUpperCase()].handleStatusResponse(c[d],e.status);b.push({id:f,status:e});break;case xnm.aio.hm.DM.PROG:b.push({id:f,status:"?"});
break;default:if(h&&"BidCos-RF"==h["interface"]&&h.type&&xnm.aio.hm.BidCosDevice[h.type]){var k=xnm.aio.hm.BidCosDevice[h.type];if(k.handleStatusResponse){e=k.handleStatusResponse(c[d],e.status);b.push({id:f,status:e});continue}}if(h&&"HmIP-RF"==h["interface"]&&h.type&&xnm.aio.hm.HmIPDevice[h.type]&&(k=xnm.aio.hm.HmIPDevice[h.type],k.handleStatusResponse)){e=k.handleStatusResponse(c[d],e.status);b.push({id:f,status:e});continue}if(h&&"HmIP-Wired"==h["interface"]){k=xnm.aio.hm.HmIPDevice.resolveJSON(h);
k.handleStatusResponse&&(e=k.handleStatusResponse(c[d],e.status),b.push({id:f,status:e}));continue}if(h&&"VirtualDevices"==h["interface"]&&h.type&&xnm.aio.hm.VirtualDevice[h.type]&&(k=xnm.aio.hm.VirtualDevice[h.type])&&(k=new k,k.handleStatusResponse)){e=k.handleStatusResponse(c[d],e.status);b.push({id:f,status:e});continue}k=null;"CUxD"==h["interface"]?k=xnm.aio.hm.CUxDChannel[g]:"HmIP-RF"==h["interface"]||"HmIP-HEATING"==h.type?k=xnm.aio.hm.HmIPChannel[g]:"HM-Sec-Sir-WM"!=h.type||"SWITCH_SENSOR_1"!=
g&&"SWITCH_SENSOR_2"!=g?"HM-WDS30-OT2-SM-2"!=h.type||"WEATHER_1"!=g&&"WEATHER_2"!=g&&"WEATHER_3"!=g&&"WEATHER_4"!=g||(k=xnm.aio.hm.Channel.WEATHER):k=xnm.aio.hm.Channel.SWITCH_SENSOR;k||(k=xnm.aio.hm.Channel[g]);if(!k){b.push({id:f,status:"?"});continue}if(!k.handleStatusResponse){b.push({id:f,status:c[f]});continue}e=k.handleStatusResponse(c[d],e.status);b.push({id:f,status:e})}}else b.push({id:f,status:"?"})}return b},resolveState:function(a,c,d){if(!(a&&a.channels&&c&&c.channel&&c.datapoint&&c["interface"]))return null;
var b=c.channel.indexOf(":");if(-1==b)return null;if(a&&"BidCos-RF"==a["interface"]&&a.type){var f=xnm.aio.hm.BidCosDevice[a.type];if(f&&f.resolveState)return f.resolveState(a,c,d)}if(a&&"HmIP-RF"==a["interface"]&&a.type&&(f=xnm.aio.hm.HmIPDevice[a.type])&&f.resolveState)return f.resolveState(a,c,d);if(a&&"HmIP-Wired"==a["interface"])return(f=xnm.aio.hm.HmIPDevice.resolveJSON(a))&&f.resolveState?f.resolveState(a,c,d):null;var b=c.channel.substr(b+1),e,g;for(g in a.channels)if(a.channels.hasOwnProperty(g)&&
a.channels[g].address==b){e=g;"HM-Sec-Sir-WM"!=a.type||"SWITCH_SENSOR_1"!=e&&"SWITCH_SENSOR_2"!=e?"HM-WDS30-OT2-SM-2"!=a.type||"WEATHER_1"!=e&&"WEATHER_2"!=e&&"WEATHER_3"!=e&&"WEATHER_4"!=e||(e="WEATHER"):e="SWITCH_SENSOR";break}if(!e)return null;var h;"BidCos-RF"==c["interface"]||"BidCos-Wired"==c["interface"]?h=xnm.aio.hm.Channel[e]:"HmIP-RF"==c["interface"]&&(h=xnm.aio.hm.HmIPChannel[e]);return h&&h.resolveState?h.resolveState(a,c,d):null},resolveDatapointInfo:function(a,c,d){if(!(a&&a["interface"]&&
a.type&&a.address&&c)||"SysVar"==a.type||"Prog"==a.type)return null;var b=null,f=null;if("BidCos-RF"==a["interface"]||"BidCos-Wired"==a["interface"])b=xnm.aio.hm.DM._getChannels(a),f=xnm.aio.hm.MAP;else if("HmIP-RF"==a["interface"])b=xnm.aio.hm.DM._getHmIPChannels(a),f=xnm.aio.hm.HMIP_MAP;else if("CUxD"==a["interface"])b=xnm.aio.hm.DM._getCUxDChannels(a),f=xnm.aio.hm.CUxDMAP;else return null;var e=null,g=null,h=null,k;for(k in b){var m=b[k],t=f[k];if(t){for(var v in m)if(m=t[v]){if(m=d?m.command:
m.status)for(var u=0;u<m.length;u++)if(m[u].ref.value==c){g=v;break}if(g)break}if(g){e=k;break}}}if(!e||!g)return null;for(k in a.channels)if(k==e){c=a.address;d=c.indexOf(":");-1!=d&&(c=c.substr(0,d));h=c+":"+a.channels[k].address;break}return h?{"interface":a["interface"],channel:h,channelType:e,datapoint:g}:null},getStatesCreator:function(a,c,d){for(var b=[],f=[],e=null,g=this,h=[],k=[],m=[],t=0;t<c.length;t++){var v=c[t],u=v.id,w=v.status,r=v.device;if(u&&r&&w)if(!r.type&&r.ip)"serviceMsg"==w.value?
h.push(v):"ccuTime"==w.value?k.push(v):"cloudmaticState"==w.value&&m.push(v);else switch(r.type){case xnm.aio.hm.DM.SYSVAR:if(!r["class"]||!xnm.aio.hm.SysVar[r["class"].toUpperCase()])continue;(e=xnm.aio.hm.SysVar[r["class"].toUpperCase()].buildStateScript(this,r,w))&&b.push({alias:u,script:e,device:r,status:w});break;case xnm.aio.hm.DM.PROG:continue;default:if(r&&"BidCos-RF"==r["interface"]&&r.type&&xnm.aio.hm.BidCosDevice[r.type]&&(v=xnm.aio.hm.BidCosDevice[r.type],v.buildStateScript&&(e=v.buildStateScript(this,
r,w)))){b.push({alias:u,script:e,device:r,channel:null,status:w});break}if(r&&"HmIP-RF"==r["interface"]&&r.type&&xnm.aio.hm.HmIPDevice[r.type]&&(v=xnm.aio.hm.HmIPDevice[r.type],v.buildStateScript&&(e=v.buildStateScript(this,r,w)))){b.push({alias:u,script:e,device:r,channel:null,status:w});break}if(r&&"HmIP-Wired"==r["interface"]){(v=xnm.aio.hm.HmIPDevice.resolveJSON(r))&&v.buildStateScript&&(e=v.buildStateScript(this,r,w))&&b.push({alias:u,script:e,device:r,channel:null,status:w});break}if(r&&"VirtualDevices"==
r["interface"]&&r.type&&(v=xnm.aio.hm.VirtualDevice[r.type])&&(v=new v,v.buildStateScript&&(e=v.buildStateScript(this,r,w)))){b.push({alias:u,script:e,device:r,channel:null,status:w});break}if(r.channels){var v=r.channels,x;for(x in v)if(v.hasOwnProperty(x)){var y=null;"CUxD"==r["interface"]?y=xnm.aio.hm.CUxDChannel[x]:"HmIP-RF"==r["interface"]||"HmIP-HEATING"==r.type?y=xnm.aio.hm.HmIPChannel[x]:"HM-Sec-Sir-WM"!=r.type||"SWITCH_SENSOR_1"!=x&&"SWITCH_SENSOR_2"!=x?"HM-WDS30-OT2-SM-2"!=r.type||"WEATHER_1"!=
x&&"WEATHER_2"!=x&&"WEATHER_3"!=x&&"WEATHER_4"!=x||(y=xnm.aio.hm.Channel.WEATHER):y=xnm.aio.hm.Channel.SWITCH_SENSOR;y||(y=xnm.aio.hm.Channel[x]);if(y&&y.getBufferedState){var p=y.getBufferedState(this._statebuffer,r,r.channels[x],w);if(null!=p&&"undefined"!=typeof p){f.push({alias:u,state:p});break}}if(y&&y.buildStateScript&&(e=y.buildStateScript(this,r,r.channels[x],w))){b.push({alias:u,script:e,device:r,channel:x,status:w});break}}}}}this.getCloudmaticStatus(a,m,function(c,p){"undefined"!=typeof a&&
null!=a&&"undefined"!=typeof a.reportStates&&null!=a.reportStates&&!c&&p&&0<p.length&&a.reportStates(null,p);g.getServiceMessageStatus(a,h,function(c,q){g.getCCUStatus(a,k,function(a,c){if(0===b.length){var n=g.resolveStateResponse([],[],f);c&&(n=n?n.concat(c):c);q&&(n=n?n.concat(q):q);p&&(n=n?n.concat(p):p);d&&d(null,n||[])}else e=g.buildScript(b),g._doRequest(e,!0,function(a,e){var n=null;if(a)d&&d(a);else{var h=e.indexOf("<states>"),k=e.lastIndexOf("</states");if(k>h+8)try{for(var n=e.substring(h+
8,k),n=xnm.aio.hm.Util.decodeXml(n),l=n.split("\r@@@\n"),n={},h=0;h<l.length;h++){var E=l[h].indexOf("=");if(0<E){var B=l[h].substr(0,E);n[B]=l[h].substr(E+1)}}n=g.resolveStateResponse(b,n,f);c&&(n=n?n.concat(c):c);q&&(n=n?n.concat(q):q);p&&(n=n?n.concat(p):p);d&&d(null,n)}catch(m){d&&d(Error("response format error"))}else d&&d(Error("response format error"))}})})})})},getDeviceList:function(a){this._logger.log("debug","get device list from ccu:"+this.ip);var c=this;this._getDevices(function(d,b){d?
a&&a(d):c._getSysvars(function(d,e){d?a&&a(d):c._getProgs(function(d,f){if(d)a&&a(d);else{var k={devices:[],sysvars:[],progs:[]},m,t,v=null;b&&b.devices&&(m=c._parseDevices(b.devices))&&0<m.length&&(k.devices=k.devices.concat(m));if(e&&e.systemvars)for(t in v=e.systemvars,v)if(v.hasOwnProperty(t)){a:{m=e.systemvars[t];var u=t;if(m.valuetype){var w=null;switch(m.valuetype){case "2":w="binary";break;case "4":w="float";break;case "16":w="integer";break;case "20":w="string";break;default:m=null;break a}var r=
{};r.sys=xnm.aio.hm.DM.SYS;r.id=m.name;r.type=xnm.aio.hm.DM.SYSVAR;r.address=u;r["class"]=w;m=r}else m=null}m&&k.sysvars.push(m)}if(f&&f.progs)for(t in v=f.progs,v)v.hasOwnProperty(t)&&(m=f.progs[t],u=t,m.name?(w={},w.sys=xnm.aio.hm.DM.SYS,w.id=m.name,w.address=u,w.type=xnm.aio.hm.DM.PROG,m=w):m=null,m&&k.progs.push(m));a(null,k)}})})})},_getDevices:function(a){this._logger.log("debug","list devices from ccu:"+this.ip);var c=this;this._doRequest(xnm.aio.hm.MHMCCU._SCRIPT_GET_DEVICES,!0,function(d,
b){if(d)c._logger.log("debug","list hm devices error:"+d.stack),a&&a(d);else{c._logger.log("debug",b);var f=c._xml2json(b);a(null,f)}},24E4)},_getSysvars:function(a){this._logger.log("debug","list variables from ccu:"+this.ip);var c=this;this._doRequest(xnm.aio.hm.MHMCCU._SCRIPT_GET_SYSVARS,!0,function(d,b){if(d)c._logger.log("debug","list variables error:"+d.stack),a&&a(d);else{c._logger.log("debug",b);var f=c._xml2json(b);a(null,f)}},24E4)},_getProgs:function(a){this._logger.log("debug","list programs from ccu:"+
this.ip);var c=this;this._doRequest(xnm.aio.hm.MHMCCU._SCRIPT_GET_PROGS,!0,function(d,b){if(d)c._logger.log("debug","list programs error:"+d.stack),a&&a(d);else{c._logger.log("debug",b);var f=c._xml2json(b);a(null,f)}},24E4)},_xml2json:function(a){if(!a)return null;var c=a.indexOf("<res>"),d=a.lastIndexOf("</res>");if(d<=c+5)return null;try{var b=a.substring(c+5,d),b=xnm.aio.hm.Util.decodeXml(b),b=this._processJsonStr(b);return JSON.parse(b)}catch(f){return null}},_processJsonStr:function(a){var c=
a.split("#[");if(1==c.length)return a;for(a=1;a<c.length;a++){var d=c[a].indexOf("]#");if(-1!=d){var b=c[a].substr(0,d),b=JSON.stringify(b);c[a]=c[a].substr(d+2);c[a]=b+c[a]}}c=c.join("");return c=c.replace(/\,(?!\s*?[\{\[\"\'\w])/g,"")},_parseDevices:function(a){var c,d=[],b;for(b in a)a.hasOwnProperty(b)&&(c=this._parseDevice(a[b]))&&0<c.length&&(d=d.concat(c));return d},_parseDevice:function(a){var c="HM-LC-Sw1-Ba-PCB HM-LC-Sw4-Ba-PCB HM-Sen-LI-O HM-Sec-SD HM-Sec-SD-Generic HM-Sec-Key HM-Sec-MDIR HM-Sen-MDIR-O HM-WDS40-TH-I HM-WDS40-TH-I-2 HM-WDS10-TH-O HM-WDS100-C6-O-2 HM-WDS100-C6-O HM-PB-6-WM55 HM-PB-2-WM55 HM-PB-4Dis-WM HM-SwI-3-FM HM-SCI-3-FM HM-PBI-4-FM HM-Sec-MDIR-2 HM-PB-2-WM55-2".split(" "),
d=function(a,b){var c=0,d;for(d in a)a.hasOwnProperty(d)&&a[d].hsstype==b&&c++;return c},b=function(a){return"WRAPPER"==a?!1:!xnm.aio.hm.CHANNEL[a]||"VIRTUAL_DIMMER"==a},f=function(a,b){if("CUxD"==a["interface"])if("WEATHER"==b.hsstype){var c;if(c=b.datapoints)a:{c=b.datapoints;for(var d=0;d<c.length;d++)if("BRIGHTNESS_WEST"==c[d]){c=!0;break a}c=!1}if(c)return"ENOCEAN_WEATHER2"}else if("SENSOR"==b.hsstype){if(a.channels.WEATHER&&a.channels.CLIMATECONTROL_REGULATOR&&a.channels.SWITCH)return"ENOCEAN_SENSOR_ERROR"}else if("SWITCH"==
b.hsstype&&a.channels.SWITCH&&a.channels.POWERMETER)return"ENOCEAN_Bidi_Switch2";return null},e=function(a){var b=[],d,e,f=a.channels,p;for(p in f)if(f.hasOwnProperty(p)&&(d=a.channels[p],d.address&&(e=d.address.indexOf(":"),-1!==e))){var q=d.address.substring(e+1);(0!=q||-1!=c.indexOf(a.hsstype))&&d.hsstype&&xnm.aio.hm.CHANNEL[d.hsstype]&&(e={},e.sys=xnm.aio.hm.DM.SYS,e.id=d.name?d.name:a.name,e.type=a.hsstype,e.address=d.address,e.rfAddr=a.rfAddr,e["interface"]=a["interface"],e.channels={},e.channels[d.hsstype]=
{id:d.name,address:q,room:d.room,group:d.func,datapoints:[]},b.push(e))}return b},g=function(a){var b=function(a,b){for(var c=[],d=0;d<b;d++){var e={};e.sys=xnm.aio.hm.DM.SYS;e.id=a.name;e.type=a.hsstype;e.address=a.address;e.rfAddr=a.rfAddr;e["interface"]=a["interface"];e.channels={};c.push(e)}var d=0,e=a.channels,f;for(f in e)if(e.hasOwnProperty(f)){var p=a.channels[f];if(p.address){var q=p.address.indexOf(":");if(-1!==q){var g=p.address.substring(q+1);p.hsstype&&("MAINTENANCE"==p.hsstype?c.forEach(function(a){a.channels[p.hsstype]=
{id:p.name,address:g,room:p.room,group:p.func}}):"KEY_TRANSCEIVER"==p.hsstype&&(c[d].id=c[d].id+":"+g,c[d].address=c[d].address+":"+g,c[d].channels[p.hsstype]={id:p.name,address:g,room:p.room,group:p.func},d++))}}}return c};if(!a.channels||!a.hsstype||!a["interface"])return null;if("HMIP-BSM"==a.hsstype.toUpperCase())return m(a);if("HMIP-FSM"==a.hsstype.toUpperCase())return t(a);if("HMIP-BDT"==a.hsstype.toUpperCase())return v(a);if("HMIP-PDT"==a.hsstype.toUpperCase())return u(a);if("HMIP-BROLL"==
a.hsstype.toUpperCase()||"HMIP-FROLL"==a.hsstype.toUpperCase())return r(a);if("HMIP-FBL"==a.hsstype.toUpperCase()||"HMIP-BBL"==a.hsstype.toUpperCase())return x(a);if(-1!=a.hsstype.toUpperCase().indexOf("HMIP-WRC"))return w(a);if(0==a.hsstype.toUpperCase().indexOf("HMIP-FAL"))return k(a);if("HMIP-SPDR"==a.hsstype.toUpperCase())return h(a);if("HMIP-SMI55"==a.hsstype.toUpperCase())return y(a);if("HMIP-MIOB"==a.hsstype.toUpperCase())return p(a);if("HMIP-SWD"==a.hsstype.toUpperCase())return F(a);var c=
[],e=d(a.channels,"SWITCH_TRANSMITTER"),f=d(a.channels,"SWITCH_VIRTUAL_RECEIVER"),q=d(a.channels,"KEY_TRANSCEIVER");if(1<e&&1<f)return null;if(1<q)return b(a,q);e={};e.sys=xnm.aio.hm.DM.SYS;e.id=a.name;e.type=a.hsstype;e.address=a.address;e.rfAddr=a.rfAddr;e["interface"]=a["interface"];e.channels={};var f=a.channels,q=!1,g;for(g in f)if(f.hasOwnProperty(g)&&(b=a.channels[g],b.address)){var n=b.address.indexOf(":");-1!==n&&(n=b.address.substring(n+1),b.hsstype&&xnm.aio.hm.HMIP_CHANNEL[b.hsstype]&&
!e.channels[b.hsstype]&&(q=!0,e.channels[b.hsstype]={id:b.name,address:n,room:b.room,group:b.func}))}q&&c.push(e);return c},h=function(a){var b={sys:"hm"};b.id=a.name;b.type=a.hsstype;b.address=a.address;b.rfAddr=a.rfAddr;b["interface"]=a["interface"];b.channels={};var c=a.channels,d;for(d in c)if(c.hasOwnProperty(d)&&(l=a.channels[d],l.address)){var e=l.address.indexOf(":");if(-1!==e&&(e=l.address.substring(e+1),l.hsstype&&-1!=["0","2","3"].indexOf(e))){var f=l.hsstype;-1!=["2","3"].indexOf(e)&&
(f=f+":"+e);b.channels[f]={id:l.name,address:e,room:l.room,group:l.func}}}return[b]},k=function(a){var b=[],c={};c.sys=xnm.aio.hm.DM.SYS;c.id=a.name;c.type=a.hsstype;c.address=a.address;c.rfAddr=a.rfAddr;c["interface"]=a["interface"];c.channels={};var d=a.channels,e;for(e in d)if(d.hasOwnProperty(e)&&(l=a.channels[e],l.address)){var f=l.address.indexOf(":");if(-1!==f&&(f=l.address.substring(f+1),l.hsstype)){var p=l.hsstype;if("CLIMATECONTROL_FLOOR_PUMP_TRANSCEIVER"==p||"CLIMATECONTROL_FLOOR_TRANSCEIVER"==
p){var q=JSON.parse(JSON.stringify(c));q.address=q.address+":"+f;q.id=q.id+"("+q.address+")";q.channels[p]={id:l.name,address:f,room:l.room,group:l.func};b.push(q)}}}return b},m=function(a){var b={};b.sys=xnm.aio.hm.DM.SYS;b.id=a.name;b.type=a.hsstype;b.address=a.address;b.rfAddr=a.rfAddr;b["interface"]=a["interface"];b.channels={};var c=a.channels,d;for(d in c)if(c.hasOwnProperty(d)&&(l=a.channels[d],l.address)){var e=l.address.indexOf(":");if(-1!==e&&(e=l.address.substring(e+1),l.hsstype&&-1!="034567".split("").indexOf(e))){var f=
l.hsstype;-1!=["4","5","6"].indexOf(e)&&(f=f+":"+e);b.channels[f]={id:l.name,address:e,room:l.room,group:l.func}}}return[b]},t=function(a){var b={};b.sys=xnm.aio.hm.DM.SYS;b.id=a.name;b.type=a.hsstype;b.address=a.address;b.rfAddr=a.rfAddr;b["interface"]=a["interface"];b.channels={};var c=a.channels,d;for(d in c)if(c.hasOwnProperty(d)&&(l=a.channels[d],l.address)){var e=l.address.indexOf(":");if(-1!==e&&(e=l.address.substring(e+1),l.hsstype&&-1!="012345".split("").indexOf(e))){var f=l.hsstype;-1!=
["2","3","4"].indexOf(e)&&(f=f+":"+e);b.channels[f]={id:l.name,address:e,room:l.room,group:l.func}}}return[b]},v=function(a){var b={};b.sys=xnm.aio.hm.DM.SYS;b.id=a.name;b.type=a.hsstype;b.address=a.address;b.rfAddr=a.rfAddr;b["interface"]=a["interface"];b.channels={};var c=a.channels,d;for(d in c)if(c.hasOwnProperty(d)&&(l=a.channels[d],l.address)){var e=l.address.indexOf(":");if(-1!==e&&(e=l.address.substring(e+1),l.hsstype&&-1!=["0","3","4","5","6"].indexOf(e))){var f=l.hsstype;-1!=["4","5","6"].indexOf(e)&&
(f=f+":"+e);b.channels[f]={id:l.name,address:e,room:l.room,group:l.func}}}return[b]},u=function(a){var b={};b.sys=xnm.aio.hm.DM.SYS;b.id=a.name;b.type=a.hsstype;b.address=a.address;b.rfAddr=a.rfAddr;b["interface"]=a["interface"];b.channels={};var c=a.channels,d;for(d in c)if(c.hasOwnProperty(d)&&(l=a.channels[d],l.address)){var e=l.address.indexOf(":");if(-1!==e&&(e=l.address.substring(e+1),l.hsstype&&-1!=["0","2","3","4","5"].indexOf(e))){var f=l.hsstype;-1!=["3","4","5"].indexOf(e)&&(f=f+":"+e);
b.channels[f]={id:l.name,address:e,room:l.room,group:l.func}}}return[b]},w=function(a){var b={};b.sys=xnm.aio.hm.DM.SYS;b.id=a.name;b.type=a.hsstype;b.address=a.address;b.rfAddr=a.rfAddr;b["interface"]=a["interface"];b.channels={};var c=a.channels,d;for(d in c)if(c.hasOwnProperty(d)&&(l=a.channels[d],l.address)){var e=l.address.indexOf(":");if(-1!==e){var e=l.address.substring(e+1),f=l.hsstype;if(f&&(0==e||"KEY_TRANSCEIVER"==f)){var p=f;"KEY_TRANSCEIVER"==f&&(p=f+":"+e);b.channels[p]={id:l.name,address:e,
room:l.room,group:l.func}}}}return[b]},r=function(a){var b={};b.sys=xnm.aio.hm.DM.SYS;b.id=a.name;b.type=a.hsstype;b.address=a.address;b.rfAddr=a.rfAddr;b["interface"]=a["interface"];b.channels={};var c=a.channels,d;for(d in c)if(c.hasOwnProperty(d)&&(l=a.channels[d],l.address)){var e=l.address.indexOf(":");if(-1!==e&&(e=l.address.substring(e+1),l.hsstype&&-1!=["0","3","4","5","6"].indexOf(e))){var f=l.hsstype;-1!=["4","5","6"].indexOf(e)&&(f=f+":"+e);b.channels[f]={id:l.name,address:e,room:l.room,
group:l.func}}}return[b]},x=function(a){var b={};b.sys=xnm.aio.hm.DM.SYS;b.id=a.name;b.type=a.hsstype;b.address=a.address;b.rfAddr=a.rfAddr;b["interface"]=a["interface"];b.channels={};var c=a.channels,d;for(d in c)if(c.hasOwnProperty(d)&&(l=a.channels[d],l.address)){var e=l.address.indexOf(":");if(-1!==e&&(e=l.address.substring(e+1),l.hsstype&&-1!=["0","3","4","5","6"].indexOf(e))){var f=l.hsstype;-1!=["4","5","6"].indexOf(e)&&(f=f+":"+e);b.channels[f]={id:l.name,address:e,room:l.room,group:l.func}}}return[b]},
y=function(a){var b=[],c={};c.sys=xnm.aio.hm.DM.SYS;c.id=a.name;c.type=a.hsstype;c.address=a.address;c.rfAddr=a.rfAddr;c["interface"]=a["interface"];c.channels={};var d=JSON.parse(JSON.stringify(c)),e=a.channels,f;for(f in e)if(e.hasOwnProperty(f)&&(l=a.channels[f],l.address)){var p=l.address.indexOf(":");if(-1!==p&&(p=l.address.substring(p+1),l.hsstype)){var q=l.hsstype;if("1"==p||"2"==p){var g=JSON.parse(JSON.stringify(d));g.address=g.address+":"+p;g.id=g.id+"("+g.address+")";g.channels[q]={id:l.name,
address:p,room:l.room,group:l.func};b.push(g)}else-1!=["0","3"].indexOf(p)&&(c.channels[q]={id:l.name,address:p,room:l.room,group:l.func})}}b.push(c);return b},p=function(a){var b=[],c={};c.sys=xnm.aio.hm.DM.SYS;c.id=a.name;c.type=a.hsstype;c.address=a.address;c.rfAddr=a.rfAddr;c["interface"]=a["interface"];c.channels={};var c=JSON.parse(JSON.stringify(c)),d=a.channels,e;for(e in d)if(d.hasOwnProperty(e)&&(l=a.channels[e],l.address)){var f=l.address.indexOf(":");if(-1!==f&&(f=l.address.substring(f+
1),l.hsstype)){var p=l.hsstype;if(-1!=["3","7","9","10","11"].indexOf(f)){var q=JSON.parse(JSON.stringify(c));q.address=q.address+":"+f;q.id=q.id+"("+q.address+")";q.channels[p]={id:l.name,address:f,room:l.room,group:l.func};b.push(q)}}}return b},q=function(a){var b,c;c={};c.sys=xnm.aio.hm.DM.SYS;c.id=a.name;c.type=a.hsstype;c.address=a.address;c.rfAddr=a.rfAddr;c["interface"]=a["interface"];c.channels={};var d=a.channels,e;for(e in d)if(d.hasOwnProperty(e)&&(b=a.channels[e],b.address)){var f=b.address.indexOf(":");
-1!==f&&(f=b.address.substring(f+1),0!=f&&b.hsstype&&(b={id:b.name,address:f,room:b.room,group:b.func,datapoints:[]},1==f?c.channels.SWITCH_SENSOR_1=b:2==f?c.channels.SWITCH_SENSOR_2=b:3==f?c.channels.SWITCH_PANIC=b:4==f&&(c.channels.ARMING=b)))}return c},z=function(a){var b,c;c={};c.sys=xnm.aio.hm.DM.SYS;c.id=a.name;c.type=a.hsstype;c.address=a.address;c.rfAddr=a.rfAddr;c["interface"]=a["interface"];c.channels={};var d=a.channels,e;for(e in d)if(d.hasOwnProperty(e)&&(b=a.channels[e],b.address)){var f=
b.address.indexOf(":");if(-1!==f&&(f=b.address.substring(f+1),b.hsstype)){var p={id:b.name,address:f,room:b.room,group:b.func,datapoints:[]};0==f?c.channels[b.hsstype]=p:1==f?c.channels.WEATHER_1=p:2==f?c.channels.WEATHER_2=p:3==f?c.channels.WEATHER_3=p:4==f&&(c.channels.WEATHER_4=p)}}return c},n=function(a){var b,c;c={};c.sys=xnm.aio.hm.DM.SYS;c.id=a.name;c.type=a.hsstype;c.address=a.address;c.rfAddr=a.rfAddr;c["interface"]=a["interface"];c.channels={};var d=a.channels,e;for(e in d)if(d.hasOwnProperty(e)&&
(b=a.channels[e],b.address)){var f=b.address.indexOf(":");-1!==f&&(f=b.address.substring(f+1),0!=f&&b.hsstype&&(c.channels[b.hsstype]={id:b.name,address:f,room:b.room,group:b.func,datapoints:[]}))}return c},A=function(a){var b,c;c={};c.sys=xnm.aio.hm.DM.SYS;c.id=a.name;c.type=a.hsstype;c.address=a.address;c.rfAddr=a.rfAddr;c["interface"]=a["interface"];c.channels={};var d=a.channels,e;for(e in d)if(d.hasOwnProperty(e)&&(b=a.channels[e],b.address)){var f=b.address.indexOf(":");-1!==f&&(f=b.address.substring(f+
1),0!=f&&b.hsstype&&(b={id:b.name,address:f,room:b.room,group:b.func,datapoints:[]},1==f?c.channels.KEY_1=b:2==f?c.channels.KEY_2=b:3==f&&(c.channels.MOD_EM8BIT_TRANSMITTER=b)))}return c},B=function(a){var b=a.hsstype;if("HmIPW-DRS"==b.substr(0,9)){var c=[],d,e;e={sys:"hm"};e.id=a.name;e.type=a.hsstype;e.address=a.address;e.interface=a.interface;e.channels={};var f=0,b=JSON.parse(JSON.stringify(e)),p=null,q=a.channels,g=!1,n;for(n in q)if(q.hasOwnProperty(n)&&(d=a.channels[n],d.hsstype&&("SWITCH_TRANSMITTER"==
d.hsstype&&(0!=f&&(c.push(b),b=JSON.parse(JSON.stringify(e)),g=!1,p&&(b.channels.MAINTENANCE=p)),f++),d.address))){var h=d.address.indexOf(":");if(-1!==h){"SWITCH_VIRTUAL_RECEIVER"!=d.hsstype||g||(b.id=d.name?d.name:b.id,g=!0);var h=d.address.substring(h+1),z={id:d.name,address:h,room:d.room,group:d.func};0==h?(p=z,b.channels.MAINTENANCE=p):b.channels[d.hsstype+":"+h]=z;if("SWITCH_WEEK_PROFILE"==d.hsstype){for(var A=0;A<c.length;A++)c[A].channels[d.hsstype+":"+h]=z;c.push(b)}}}return c}if("HmIPW-DRD"==
b.substr(0,9)){c=[];e={sys:"hm"};e.id=a.name;e.type=a.hsstype;e.address=a.address;e.interface=a.interface;e.channels={};f=0;b=JSON.parse(JSON.stringify(e));p=null;q=a.channels;g=!1;for(d in q)if(q.hasOwnProperty(d)&&(n=a.channels[d],n.hsstype&&("DIMMER_TRANSMITTER"==n.hsstype&&(0!=f&&(c.push(b),b=JSON.parse(JSON.stringify(e)),g=!1,p&&(b.channels.MAINTENANCE=p)),f++),n.address&&(h=n.address.indexOf(":"),-1!==h&&("DIMMER_VIRTUAL_RECEIVER"!=n.hsstype||g||(b.id=n.name?n.name:b.id,g=!0),h=n.address.substring(h+
1),z={id:n.name,address:h,room:n.room,group:n.func},0==h?(p=z,b.channels.MAINTENANCE=p):b.channels[n.hsstype+":"+h]=z,"DIMMER_WEEK_PROFILE"==n.hsstype))))){for(A=0;A<c.length;A++)c[A].channels[n.hsstype+":"+h]=z;c.push(b)}return c}if("HmIPW-DRBL"==b.substr(0,10)){c=[];d={sys:"hm"};d.id=a.name;d.type=a.hsstype;d.address=a.address;d.interface=a.interface;d.channels={};f=0;b=JSON.parse(JSON.stringify(d));p=null;q=a.channels;g=!1;for(e in q)if(q.hasOwnProperty(e)&&(n=a.channels[e],n.hsstype&&("BLIND_TRANSMITTER"==
n.hsstype&&(0!=f&&(c.push(b),b=JSON.parse(JSON.stringify(d)),g=!1,p&&(b.channels.MAINTENANCE=p)),f++),n.address&&(h=n.address.indexOf(":"),-1!==h&&("BLIND_VIRTUAL_RECEIVER"!=n.hsstype||g||(b.id=n.name?n.name:b.id,g=!0),h=n.address.substring(h+1),z={id:n.name,address:h,room:n.room,group:n.func},0==h?(p=z,b.channels.MAINTENANCE=p):b.channels[n.hsstype+":"+h]=z,"BLIND_WEEK_PROFILE"==n.hsstype))))){for(A=0;A<c.length;A++)c[A].channels[n.hsstype+":"+h]=z;c.push(b)}return c}if("HmIPW-DRI"==b.substr(0,9)){c=
[];d={sys:"hm"};d.id=a.name;d.type=a.hsstype;d.address=a.address;d.interface=a.interface;d.channels={};e=0;b=JSON.parse(JSON.stringify(d));p=null;q=a.channels;g=!1;for(f in q)q.hasOwnProperty(f)&&(n=a.channels[f],n.hsstype&&("ALARM_COND_SWITCH_TRANSMITTER"==n.hsstype?c.push(b):("MULTI_MODE_INPUT_TRANSMITTER"==n.hsstype&&(0!=e&&(c.push(b),b=JSON.parse(JSON.stringify(d)),g=!1,p&&(b.channels.MAINTENANCE=p)),e++),n.address&&(h=n.address.indexOf(":"),-1!==h&&("MULTI_MODE_INPUT_TRANSMITTER"!=n.hsstype||
g||(b.id=n.name?n.name:b.id,g=!0),h=n.address.substring(h+1),z={id:n.name,address:h,room:n.room,group:n.func},0==h?(p=z,b.channels.MAINTENANCE=p):b.channels[n.hsstype+":"+h]=z)))));return c}if("HmIPW-FIO"==b.substr(0,9)){n=[];e={sys:"hm"};e.id=a.name;e.type=a.hsstype;e.address=a.address;e.interface=a.interface;e.channels={};f=0;b=!1;p=[];n=[];q=JSON.parse(JSON.stringify(e));g=null;h=a.channels;for(c in h)if(h.hasOwnProperty(c)&&(d=a.channels[c],d.hsstype&&d.address&&(z=d.address.indexOf(":"),-1!==
z)))if(z=d.address.substring(z+1),A={id:d.name,address:z,room:d.room,group:d.func},"MAINTENANCE"==d.hsstype)g=A,q.channels.MAINTENANCE=g;else if("MULTI_MODE_INPUT_TRANSMITTER"==d.hsstype)q.channels[d.hsstype+":"+z]=A,q.id=d.name?d.name:q.id,p.push(q),q=JSON.parse(JSON.stringify(e)),g&&(q.channels.MAINTENANCE=g);else if("SWITCH_TRANSMITTER"==d.hsstype)0!=f&&(n.push(q),q=JSON.parse(JSON.stringify(e)),b=!1,g&&(q.channels.MAINTENANCE=g)),f++,q.channels[d.hsstype+":"+z]=A;else if("SWITCH_VIRTUAL_RECEIVER"==
d.hsstype&&!b)q.channels[d.hsstype+":"+z]=A,q.id=d.name?d.name:q.id,b=!0;else if("SWITCH_WEEK_PROFILE"==d.hsstype){for(var k=0;k<n.length;k++)n[k].channels[d.hsstype+":"+z]=A;n.push(q)}return n.concat(p)}return null},F=function(a){var b={sys:"hm"};b.id=a.name;b.type=a.hsstype;b.address=a.address;b.rfAddr=a.rfAddr;b["interface"]=a["interface"];b.channels={};var c=a.channels,d;for(d in c)if(c.hasOwnProperty(d)&&(l=a.channels[d],l.address)){var e=l.address.indexOf(":");-1!==e&&(e=l.address.substring(e+
1),l.hsstype&&(b.channels[l.hsstype]={id:l.name,address:e,room:l.room,group:l.func}))}return[b]};if(!a.channels||!a["interface"])return null;if("VirtualDevices"==a["interface"]&&xnm.aio.hm.VirtualDevice)return xnm.aio.hm.VirtualDevice.parseDevice(a);if("HmIP-RF"==a["interface"])return g(a);if("HmIP-Wired"==a["interface"])return B(a);g=[];if("HM-Sec-Sir-WM"==a.hsstype)return(a=q(a))&&g.push(a),g;if("HM-WDS30-OT2-SM-2"==a.hsstype)return(a=z(a))&&g.push(a),g;if("HM-ES-TX-WM"==a.hsstype)return(a=n(a))&&
g.push(a),g;if("HM-MOD-EM-8Bit"==a.hsstype)return(a=A(a))&&g.push(a),g;q=function(a){var c=a.channels;if(!c)return 0;var d,e=0,f=0,p={},q;for(q in c)if(c.hasOwnProperty(q)&&(d=a.channels[q],d.address)){var n=d.address.indexOf(":");-1!==n&&0!=d.address.substring(n+1)&&d.hsstype&&!b(d.hsstype)&&(e+=1,p[d.hsstype]=!0)}if(0==e)return 0;for(var g in p)p.hasOwnProperty(g)&&(f+=1);return e>f?e:1}(a);if(0==q)return null;if(1<q&&"CUxD"!=a.interface)return e(a);var l,e={};e.sys=xnm.aio.hm.DM.SYS;e.id=a.name;
e.type=a.hsstype;e.address=a.address;e.rfAddr=a.rfAddr;e["interface"]=a["interface"];e.channels={};var q=a.channels,z=!1,C;for(C in q)if(q.hasOwnProperty(C)&&(l=a.channels[C],l.address&&(n=l.address.indexOf(":"),-1!==n&&(n=l.address.substring(n+1),(0!=n||-1!=c.indexOf(a.hsstype))&&l.hsstype)))){if("CUxD"==e["interface"]){if(!xnm.aio.hm.CUxDCHANNEL[l.hsstype]&&!xnm.aio.hm.CHANNEL[l.hsstype])continue}else if(b(l.hsstype))continue;e.channels[l.hsstype]&&((A=e.channels[l.hsstype],z=A.id,A=A.address,B=
f(e,l))?l.hsstype=B:(-1==e.address.indexOf(":")&&1==Object.keys(e.channels).length&&(e.address=e.address+":"+e.channels[l.hsstype].address),"CUxD"==e["interface"]&&(B=xnm.aio.hm.MHMCCU._resolveCUxDType(e))&&(e.cuxd=B),e.id=z?z:A,g.push(e),e={},e.sys=xnm.aio.hm.DM.SYS,e.id=a.name,e.type=a.hsstype,e.address=a.address+":"+n,e["interface"]=a["interface"],e.channels={}));var z=!0,n={id:l.name,address:n,room:l.room,group:l.func,datapoints:[]},D,A=n.datapoints;if("CUxD"==e["interface"])n.datapoints=l.datapoints;
else for(D in l.datapoints)l.datapoints.hasOwnProperty(D)&&(B=l.datapoints[D],B={name:B.name,valuetype:B.valuetype,operations:B.operations},A.push(B));e.channels[l.hsstype]=n}z&&g.push(e);"CUxD"==e["interface"]&&(B=xnm.aio.hm.MHMCCU._resolveCUxDType(e))&&(e.cuxd=B);return g},getCloudmaticStatus:function(a,c,d){if(!c||0>=c.length)d&&d(null,[]);else{a=[];for(var b=0;b<c.length;b++){var f=c[b];if(f){var e=f.id,f=f.status;if(e&&f)switch(f.value){case "cloudmaticState":a.push({id:e,status:this._cloudmaticState})}}}d(null,
a)}},getCCUStatus:function(a,c,d){!c||0>=c.length?d&&d(null,[]):(this._logger.log("debug","get ccu states:"+this.ip),this._doRequest('var ccutime=system.Date("%H:%M:%S").ToString();',!0,function(a,f){if(a)d&&d(a);else{if(!f)return null;var e=[],g=f.indexOf("<ccutime>"),h=f.lastIndexOf("</ccutime>");if(h<=g+9)return null;g=f.substring(g+9,h);g=xnm.aio.hm.Util.decodeXml(g);for(h=0;h<c.length;h++){var k=c[h];if(k){var m=k.id,k=k.status;if(m&&k)switch(k.value){case "ccuTime":e.push({id:m,status:g})}}}d&&
d(null,e)}}))},getServiceMessageStatus:function(a,c,d){!c||0>=c.length?d&&d(null,[]):this.getServiceMessage(function(a,f){if(a)d&&d(a);else if(f){for(var e="",g=[],h=0;h<f.length;h++)if(f[h].name&&f[h].error){var k="";switch(f[h].error){case "LOWBAT":k="low battery";break;case "UNREACH":k="communication was interrupted";break;case "STICKY_UNREACH":k="communication is interrupted";break;case "FAULT_REPORTING":k="reporing failure";break;case "ERROR":k="failure";break;default:k=f[h].error}e+=f[h].name+
": "+k+"\n"}for(h=0;h<c.length;h++){var m=c[h];if(m&&(k=m.id,m=m.status,k&&m))switch(m.value){case "serviceMsg":g.push({id:k,status:e})}}d(null,g)}else d&&d(null,[])})},getServiceMessage:function(a){this._doRequest(xnm.aio.hm.MHMCCU._SCRIPT_GET_SEVICE_MESSAGE,!0,function(c,d){if(c)a&&a(c);else{var b;if(d){b=d.indexOf("<res>");var f=d.lastIndexOf("</res>");f<=b+5?b=null:(b=d.substring(b+5,f),b=xnm.aio.hm.Util.decodeXml(b),b=JSON.parse(b))}else b=null;a(null,b)}})},toJSON:function(){return{sys:xnm.aio.hm.DM.SYS,
ip:this.ip,port:this.port,uuid:this.uuid,username:this.username,password:this.password,tclport:this.tclport,cloudmatic:this.cloudmatic,type:this.type}},equalsTo:function(a){return a&&a instanceof xnm.aio.hm.MHMCCU?this.ip==a.ip&&this.port==a.port&&this.username==a.username&&this.password==a.password:!1},_doRequestMarked:function(a,c,d){this._doRequest(a,c,function(a,c){d&&d.execute.call(d,a,c)},5E3)},_doRequest:function(a,c,d,b){if("on"==this._cloudmaticState)this._doCloudmaticRequest(a,c,d,b);else{var f=
this.port,e="/api/homematic.cgi";c&&(f=this.tclport,e="/tclrega.exe");var g=d;c={host:this.ip,port:f,path:e,method:"POST",headers:{"Content-Type":'text/xml; charset="ISO-8859-1"',"Content-Length":a.length,"User-Agent":"mediola",Connection:"close"}};if(this.username||this.password)c.auth=(this.username?this.username:"")+":"+(this.password?this.password:""),c.headers.Authorization="Basic "+(new Buffer((this.username?this.username:"")+":"+(this.password?this.password:""))).toString("base64");var h=this,
k="",m=require("http").request(c,function(a){200==a.statusCode?(a.setEncoding("binary"),a.on("data",function(a){k+=a}),a.on("end",function(){g&&g(null,k);g=null})):(h._logger.log("warn","Failed to post request to "+h.ip+" with status code:"+a.statusCode),g&&g(new TypeError("post request failed with status code:"+a.statusCode)),g=null)});m.setEncoding&&m.setEncoding("ISO-8859-1");if(m.setTimeout){c=6E4;if(null==b||"undefined"==typeof b)b=0;b=parseInt(b);c=0<=b?b:c;0<c&&m.setTimeout(c,function(){m.abort()})}if(m.on&&
"function"==typeof m.on)m.on("error",function(a){a||(a=Error("http request error"));g&&g(a);g=null});m.write(a);m.end()}},_doCloudmaticRequest:function(a,c,d,b){if(this.cloudmatic&&this.cloudmatic.id&&this.cloudmatic.username&&this.cloudmatic.password){var f=this.cloudmatic.id+".meine-homematic.de",e=this.port,g="/api/homematic.cgi";c&&(e=this.tclport,g="/tclrega.exe");var h=d;c={host:f,port:e,path:g,method:"POST",headers:{"Content-Type":'text/xml; charset="ISO-8859-1"',"Content-Length":a.length,
"User-Agent":"mediola",Connection:"close"}};if(this.cloudmatic.username||this.cloudmatic.password)c.auth=(this.cloudmatic.username?this.cloudmatic.username:"")+":"+(this.cloudmatic.password?this.cloudmatic.password:""),c.headers.Authorization="Basic "+(new Buffer((this.cloudmatic.username?this.cloudmatic.username:"")+":"+(this.cloudmatic.password?this.cloudmatic.password:""))).toString("base64");var k=this,m="",t=require("http").request(c,function(a){200==a.statusCode?(a.setEncoding("binary"),a.on("data",
function(a){m+=a}),a.on("end",function(){h&&h(null,m);h=null})):(k._logger.log("warn","Failed to post request to "+k.ip+" with status code:"+a.statusCode),h&&h(new TypeError("post request failed with status code:"+a.statusCode)),h=null)});t.setEncoding&&t.setEncoding("ISO-8859-1");if(t.setTimeout){c=6E4;if(null==b||"undefined"==typeof b)b=0;b=parseInt(b);c=0<b?b:c;1E4>c&&(c=1E4);0<c&&t.setTimeout(c,function(){t.abort()})}if(t.on&&"function"==typeof t.on)t.on("error",function(a){a||(a=Error("http request error"));
h&&h(a);h=null});t.write(a);t.end()}else d&&d(Error("cloudmatic config invalid"))}};
xnm.aio.hm.MHMCCU._resolveCUxDType=function(a){var c=function(a,b){for(var c=0;c<b.length;c++)if(b[c]==a)return!0;return!1};if(!a.type||!a.channels)return null;if(a.channels.SWITCH&&a.channels.POWERMETER)return"EnOcean_Bidi_Switch";if(a.channels.WEATHER&&a.channels.CLIMATECONTROL_REGULATOR&&a.channels.CLIMATECONTROL_VENT_DRIVE)return"EnOcean_Actuator";if(a.channels.WEATHER&&a.channels.CLIMATECONTROL_REGULATOR&&a.channels.SWITCH&&a.channels.SENSOR)return"EnOcean_Airconditioner";if(a.channels.MOTION_DETECTOR&&
a.channels.WEATHER&&a.channels.POWER)return"EnOcean_Motion";if(a.channels.KEY&&a.channels.SENSOR&&a.channels.POWER)return"EnOcean_PioTek_Tracker";if(a.channels.WEATHER&&a.channels.CLIMATECONTROL_REGULATOR&&a.channels.SWITCH)return"Thermostat_Device";if(a.channels.WEATHER&&a.channels.CLIMATECONTROL_REGULATOR)return"FHT80b";if(a.channels.CLIMATECONTROL_VENT_DRIVE)return"FHT80v";if(a.channels.CAPACITIVE_FILLING_LEVEL_SENSOR)return"KFM_100_S";if(a.channels.WRAPPER)return"Transform_Device";if(a.channels.KEY){if(c("KEYPRESS_TIME",
a.channels.KEY.datapoints))return"EnOcean_Key";if(c("CMD_RUNS",a.channels.KEY.datapoints))return"System_Key";if(c("MOTION",a.channels.KEY.datapoints))return"Universal_Key"}else if(a.channels.SWITCH){if(c("EVENTCTR",a.channels.SWITCH.datapoints))return"FS20_Switch_Sensor";if(c("TOGGLE",a.channels.SWITCH.datapoints))return"FS20_Switch";if(c("CMD_RUNS",a.channels.SWITCH.datapoints))return"System_Switch";if(c("MOTION",a.channels.SWITCH.datapoints))return"Universal_Switch";if(c("ENERGY_COUNTER",a.channels.SWITCH.datapoints)&&
c("POWER",a.channels.SWITCH.datapoints))return"EnOcean_Switch"}else{if(a.channels.DIMMER)return c("TOGGLE",a.channels.DIMMER.datapoints)?"FS20_Dimmer":c("CMD_RUNS",a.channels.DIMMER.datapoints)?"System_Dimmer":c("MOTION",a.channels.DIMMER.datapoints)?"Universal_Dimmer":c("SET_STATE",a.channels.DIMMER.datapoints)?"System_Multi_Dimmer":c("ENERGY_COUNTER",a.channels.DIMMER.datapoints)&&c("POWER",a.channels.DIMMER.datapoints)?"EnOcean_Dimmer":"FHT_Multiventil";if(a.channels.BLIND){if(c("CMD_RUNS",a.channels.BLIND.datapoints))return"System_Blind";
if(c("MOTION",a.channels.BLIND.datapoints))return"Universal_Blind";if(c("WORKING",a.channels.BLIND.datapoints)&&c("DIRECTION",a.channels.BLIND.datapoints))return"EnOcean_Blind"}else{if(a.channels.WEATHER)return c("HUMIDITYF",a.channels.WEATHER.datapoints)?"Temp/Hum_Sensor":c("RAINING",a.channels.WEATHER.datapoints)&&c("HUMIDITY",a.channels.WEATHER.datapoints)?"KS200/300":c("RAINING",a.channels.WEATHER.datapoints)||c("BRIGHTNESS_WEST",a.channels.WEATHER.datapoints)?"EnOcean_WeatherStation":c("BRIGHTNESS",
a.channels.WEATHER.datapoints)&&c("MEDIAN",a.channels.WEATHER.datapoints)?"EnOcean_Brightness":"Temperature_Sensor";if(a.channels.ROTARY_HANDLE_SENSOR)return"EnOcean_Handle";if(a.channels.SHUTTER_CONTACT)return c("EVENTCTR",a.channels.SHUTTER_CONTACT.datapoints)?"FS20_Contact":c("MOTION",a.channels.SHUTTER_CONTACT.datapoints)?"Universal_Shutter":"EnOcean_Contact";if(a.channels.MOTION_DETECTOR){if(c("EVENTCTR",a.channels.MOTION_DETECTOR.datapoints))return"FS20_Motion";if(c("MOTION",a.channels.MOTION_DETECTOR.datapoints))return"Universal_Motion"}else{if(a.channels.SENSOR)return c("INFO",
a.channels.SENSOR.datapoints)?"M-BUS_EnergyCam":c("EVENTCTR",a.channels.SENSOR.datapoints)?"FS20_Sensor":c("MAX5MINUTES",a.channels.SENSOR.datapoints)?"EM1000":c("LAST_TICKS",a.channels.SENSOR.datapoints)?"ESA1000/2000":c("DISTANCE",a.channels.SENSOR.datapoints)?"RS232_Water_Sensor":c("COUNTER",a.channels.SENSOR.datapoints)?"HM-Sec-SC"==a.type?"HMS_100_Contact":"HM-Sec-WDS"==a.type?"HMS_100_W/WD":"Security_Sensor":"FHT_Contact";if(a.channels.DANGER){if(c("EVENTCTR",a.channels.DANGER.datapoints))return"FS20_Alarm";
if(c("MOTION",a.channels.DANGER.datapoints))return"Universal_Alarm"}else{if(a.channels.EVENT_INTERFACE)return"FS20_Event_Trigger";if(a.channels.RELAIS)return"FS20_Relais";if(a.channels.WRAPPER)return"Transform_Device";if(a.channels.SYSTEM)return"System_Multi_Dimmer"}}}}return null};
xnm.aio.hm.MHMCCU._getDataPointAddress=function(a,c,d){if(!(a&&a["interface"]&&a.address&&"undefined"!=typeof c.address&&null!=c.address&&d))return null;var b=a.address,f=a.address.indexOf(":");-1!=f&&(b=a.address.substring(0,f));return a["interface"]+"."+b+":"+c.address+"."+d};xnm.aio.hm.MHMCCU._SCRIPT_GET_PROGS='!# Get the device list\r\nstring res = \'{\';\r\n\r\nstring sDevId;\r\nstring sChnId;\r\nstring sDptId;\r\nstring sRoomId;\r\nstring sFunctionId;\r\nobject oDevice;\r\nobject oChannel;\r\nobject oDatapoint;\r\nobject oRoom;\r\nstring sDevInterfaceId;\r\nstring sDevInterfaceName;\r\nboolean dFirst = true;\r\nboolean cFirst = true;\r\nboolean dpFirst = true;\r\nboolean hasRoom = true;\r\ninteger dptCount = 0;\r\n\r\nres = res # \'"progs":{\';\r\ndFirst = true;\r\nforeach(sDevId, dom.GetObject(ID_PROGRAMS).EnumUsedIDs()) {\r\n\tif (dFirst) {\r\n\t\tdFirst=false;\r\n\t} else {\r\n\t\tres = res # \',\';\r\n\t}\r\n\toDevice = dom.GetObject(sDevId);\r\n\r\n  res = res # \'"\' # sDevId # \'":{"name":#[\' # oDevice.Name();\r\n  res = res # \']#,"active":"\' # oDevice.Active() # \'"\';\r\n\r\n  res = res # \'}\';\r\n}\r\n\r\nres = res # \'}}\';\r\nsDevId="";\r\nsChnId="";\r\nsDptId="";\r\nsRoomId="";\r\nsFunctionId="";\r\noDevice="";\r\noChannel="";\r\noDatapoint="";\r\noRoom="";\r\nsDevInterfaceId="";\r\nsDevInterfaceName="";\r\ndFirst="";\r\ncFirst="";\r\ndpFirst="";\r\nsValue="";\r\n';
xnm.aio.hm.MHMCCU._SCRIPT_GET_SYSVARS='!# Get the device list\r\nstring res = \'{\';\r\n\r\nstring sDevId;\r\nstring sChnId;\r\nstring sDptId;\r\nstring sRoomId;\r\nstring sFunctionId;\r\nobject oDevice;\r\nobject oChannel;\r\nobject oDatapoint;\r\nobject oRoom;\r\nstring sDevInterfaceId;\r\nstring sDevInterfaceName;\r\nboolean dFirst = true;\r\nboolean cFirst = true;\r\nboolean dpFirst = true;\r\nboolean hasRoom = true;\r\ninteger dptCount = 0;\r\n\r\nres = res # \'"systemvars":{\';\r\ndFirst = true;\r\nstring sValue;\r\nforeach(sDevId, dom.GetObject(ID_SYSTEM_VARIABLES).EnumUsedIDs()) {\r\n\tif (dFirst) {\r\n\t\tdFirst=false;\r\n\t} else {\r\n\t\tres = res # \',\';\r\n\t}\r\n\toDevice = dom.GetObject(sDevId);\r\n\r\n  res = res # \'"\' # sDevId # \'":{"name":#[\' # oDevice.Name();\r\n  res = res # \']#,"valuetype":"\' # oDevice.ValueType();\r\n  res = res # \'"}\';\r\n}\r\nres = res # \'}\';\r\nres = res # \'}\';\r\nsDevId="";\r\nsChnId="";\r\nsDptId="";\r\nsRoomId="";\r\nsFunctionId="";\r\noDevice="";\r\noChannel="";\r\noDatapoint="";\r\noRoom="";\r\nsDevInterfaceId="";\r\nsDevInterfaceName="";\r\ndFirst="";\r\ncFirst="";\r\ndpFirst="";\r\nsValue="";\r\n';
xnm.aio.hm.MHMCCU._SCRIPT_GET_DEVICES='!# Get the device list\r\nstring res = \'{\';\r\n\r\nstring sDevId;\r\nstring sChnId;\r\nstring sDptId;\r\nstring sRoomId;\r\nstring sFunctionId;\r\nobject oDevice;\r\nobject oChannel;\r\nobject oDatapoint;\r\nobject oRoom;\r\nstring sDevInterfaceId;\r\nstring sDevInterfaceName;\r\nboolean dFirst = true;\r\nboolean cFirst = true;\r\nboolean dpFirst = true;\r\nboolean hasRoom = true;\r\ninteger dptCount = 0;\r\n\r\nres = res # \'"devices":{\';\r\nforeach(sDevId, root.Devices().EnumUsedIDs()) {\r\n\tif (dFirst) {\r\n\t\tdFirst=false;\r\n\t} else {\r\n\t\tres = res # \',\';\r\n\t}\r\n\toDevice = dom.GetObject(sDevId);\r\n\tsDevInterfaceId = oDevice.Interface();\r\n    sDevInterfaceName = dom.GetObject(sDevInterfaceId).Name();\r\n\tres = res # \'"\' # sDevId # \'":{"name":#[\' # oDevice.Name();\r\n\tres = res # \']#,"typename":"\' # oDevice.TypeName();\r\n\tres = res # \'","hsstype":"\' # oDevice.HssType();\r\n\tres = res # \'","address":"\' # oDevice.Address();\r\n\tres = res # \'","interface":"\' # sDevInterfaceName;\r\n\tres = res # \'","channels":{\';\r\n\r\n\tcFirst = true;\r\n\tforeach(sChnId, oDevice.Channels()) {\r\n\t\tif (cFirst) {\r\n\t\t\tcFirst=false;\r\n\t\t} else {\r\n\t\t\tres = res # \',\';\r\n\t\t}\r\n\t\tres = res # \'"\' # sChnId# \'":{\';\r\n\t\toChannel = dom.GetObject(sChnId);\r\n\t\tres = res # \'"hsstype":"\' # oChannel.HssType();\r\n\t\tres = res # \'","name":#[\' # oChannel.Name();\r\n\t\tsFunctionId = oChannel.ChnFunction();\r\n\t\tres = res # \']#,"func":"\' # dom.GetObject(sFunctionId);\r\n\t\tres = res # \'","room":[\';\r\n\r\n        hasRoom = false;\r\n\t\tforeach(sRoomId, oChannel.ChnRoom()) {\r\n\t\t  oRoom = dom.GetObject(sRoomId);\r\n\t\t  res = res # \'#[\' # oRoom.Name();\r\n          res = res # \']#,\';\r\n          hasRoom = true;\r\n\t\t}\r\n\t\tif (hasRoom) {\r\n\t\t  res = res.Substr(0, res.Length()-1);\r\n\t\t}\r\n\t\tres = res # \']\';\r\n\t\tres = res # \',"address":"\' # oChannel.Address() # \'"\';\r\n\r\n        !read datapoint for CUxD device\r\n        if (sDevInterfaceName == \'CUxD\') {\r\n          res = res # \',"datapoints":[\';\r\n          !dpFirst = false;\r\n          dptCount = 0;\r\n          foreach(sDptId, oChannel.DPs()) {\r\n            oDatapoint = dom.GetObject(sDptId);\r\n            if (oDatapoint.TypeName() == "HSSDP") {\r\n              dptCount = dptCount + 1;\r\n            }\r\n          }\r\n          foreach(sDptId, oChannel.DPs()) {\r\n            oDatapoint = dom.GetObject(sDptId);\r\n            if (oDatapoint.TypeName() == "HSSDP") {\r\n                res = res # \'"\' # oDatapoint.HssType() # \'"\';\r\n                dptCount = dptCount - 1;\r\n                if (dptCount > 0) {\r\n                    res = res # \',\';\r\n                }\r\n            }\r\n            !dpFirst = true;\r\n          }\r\n          !if (dpFirst) {\r\n          !  res = res.Substr(0, res.Length()-1);\r\n          !}\r\n          res = res # \']\';\r\n        }\r\n        !res = res # \'","datapoints":{\';\r\n        !dpFirst = true;\r\n        !foreach(sDptId, oChannel.DPs()) {\r\n        !    if (dpFirst) {\r\n        !        dpFirst=false;\r\n        !    } else {\r\n        !    \tres = res # \',\';\r\n        !    }\r\n        !    res = res # \'"\' # sDptId# \'":{\';\r\n        !    oDatapoint = dom.GetObject(sDptId);\r\n        !    res = res # \'"name":"\' # oDatapoint.Name();\r\n        !    res = res # \'","typename":"\' # oDatapoint.TypeName();\r\n        !    res = res # \'","valuetype":"\' # oDatapoint.ValueType();\r\n        !    res = res # \'","operations":"\' # oDatapoint.Operations() # \'"}\';\r\n        !}\r\n        !res = res # \'}}\';\r\n        res = res # \'}\';\r\n\t}\r\n\tres = res # \'}}\';\r\n}\r\nres = res # \'}\';\r\n\r\nres = res # \'}\';\r\nsDevId="";\r\nsChnId="";\r\nsDptId="";\r\nsRoomId="";\r\nsFunctionId="";\r\noDevice="";\r\noChannel="";\r\noDatapoint="";\r\noRoom="";\r\nsDevInterfaceId="";\r\nsDevInterfaceName="";\r\ndFirst="";\r\ncFirst="";\r\ndpFirst="";\r\nsValue="";\r\n';
xnm.aio.hm.MHMCCU._SCRIPT_GET_SEVICE_MESSAGE='! get service message from ccu\r\n! message errors:\r\n! FAULT_REPORTING: communication failure\r\n! STICKY_UNREACH: communication is interrupted\r\n! UNREACH: communication was interrupted\r\n! ERROR: failure\r\n!\r\n\r\nstring sTmp;\r\nstring sdesc;\r\nboolean hasMessage;\r\nobject sdev;\r\nobject ch;\r\nobject trigDP;\r\nobject oTmp;\r\nobject oTmpArray = dom.GetObject(ID_SERVICES);\r\nstring res = "[";\r\nif(oTmpArray) {\r\n  foreach(sTmp, oTmpArray.EnumIDs()){\r\n    object oTmp = dom.GetObject(sTmp);\r\n    if(oTmp){\r\n      if( oTmp.IsTypeOf( OT_ALARMDP ) && ( oTmp.AlState() == asOncoming ) ){\r\n        hasMessage = true;\r\n        trigDP = dom.GetObject(oTmp.AlTriggerDP());\r\n        ch = dom.GetObject(trigDP.Channel());\r\n        sdev = dom.GetObject(ch.Device());\r\n        sdesc = trigDP.AlDestMapDP().Name().StrValueByIndex(".", 2 );\r\n        res = res # \'{"name":"\'+sdev.Name()#\'","channel":"\'#ch.Address()#\'","error":"\'+sdesc+\'"},\';\r\n      }\r\n    }\r\n  }\r\n}\r\nif (hasMessage) {\r\n  res = res.Substr(0, res.Length()-1);\r\n}\r\nres = res # "]";\r\nsTmp="";\r\nsdesc="";\r\nhasMessage="";\r\nsdev="";\r\nch="";\r\ntrigDP="";\r\noTmp="";\r\noTmpArray="";';
xnm.aio.hm.TYPE={"HM-PB-4Dis-WM":0,"ZEL STG RM DWT 10":0,"263 155":0,"HM-PB-4Dis-WM-2":0,ASH550I:1,ASH550:1,"HM-WDS10-TH-O":1,"263 158":1,"HM-WDS20-TH-O":1,"HM-WDS40-TH-I":1,"263 157":1,"IS-WDS-TH-OD-S-R3":1,"HM-WDS40-TH-I-2":1,"HM-LC-Bl1-SM":2,"HM-LC-Bl1-FM":2,"HM-LC-Bl1-PB-FM":2,"ZEL STG RM FEP 230V":2,"263 146":2,"HM-LC-BlX":2,"HM-LC-Bl1-SM-2":2,"HM-LC-Bl1-FM-2":2,"HM-LC-Bl1PBU-FM":2,"263 147":2,"HM-CC-RT-DN":3,"HM-CC-RT-DN-BoM":4,"HM-CC-TC":5,"ZEL STG RM FWT":5,"HM-CC-VD":6,"ZEL STG RM FSA":6,
CENTRAL:7,"HM-RCV-50":7,"HM-OU-CF-Pl":8,"HM-OU-CFM-Pl":9,"HM-OU-CFM-TW":9,"HM-OU-CM-PCB":10,"HM-LC-Dim1L-Pl":11,"HM-LC-Dim1L-Pl-2":11,"HM-LC-Dim1L-CV":11,"263 132":11,"HM-LC-Dim2L-CV":11,"HM-LC-Dim2L-SM":11,"HSS-DX":11,"HM-LC-Dim1L-Pl-3":11,"HM-LC-Dim1L-CV-2":11,"HM-LC-Dim2L-SM-2":11,"HM-LC-Dim1PWM-CV":12,"HM-LC-Dim1PWM-CV-2":12,"HM-LC-Dim1TPBU-FM":13,"HM-LC-Dim1TPBU-FM-2":13,"263 133":13,"HM-LC-Dim1T-Pl":13,"HM-LC-Dim1T-CV":13,"HM-LC-Dim1T-FM":13,"HM-LC-Dim1T-Pl-3":13,"HM-LC-Dim1T-CV-2":13,"HM-LC-Dim1T-FM-2":13,
"HM-LC-Dim2T-SM":13,"HM-LC-Dim2T-SM-2":13,"HM-LC-Dim1T-Pl-2":13,"263 134":13,"HM-Dis-WM55":14,"HM-MOD-EM-8":15,"HM-ES-PMSw1-Pl":16,"HM-ES-PMSw1-Pl-DN-R1":16,"HM-ES-PMSw1-Pl-DN-R2":16,"HM-ES-PMSw1-Pl-DN-R3":16,"HM-ES-PMSw1-Pl-DN-R4":16,"HM-ES-PMSw1-Pl-DN-R5":16,"HM-ES-PMSw1-DR":16,"HM-ES-PMSw1-SM":16,"HM-Dis-TD-T":17,"HM-LC-Sw4-Ba-PCB":55,"HM-MOD-Re-8":26,"HM-LC-Sw1-Ba-PCB":55,"HM-Sec-Key":18,"HM-Sec-Key-S":18,"HM-Sec-Key-O":18,"HM-Sec-Key-Generic":18,KS550:19,KS888:19,KS550Tech:19,KS550LC:19,"HM-WDS100-C6-O":19,
"HM-WDS100-C6-O-2":19,"HM-OU-LED16":20,"HM-OU-X":20,"HM-PB-2-WM55-2":21,"HM-PB-2-WM55":21,"ZEL STG RM WT 2":21,"263 135":21,"HM-PB-2-FM":21,"HM-PBI-4-FM":21,"ZEL STG RM FST UP4":21,"263 145":21,"HM-PBI-X":21,"HM-RC-4-2":21,"HM-RC-4-3":21,"HM-PB-6-WM55":21,"HM-RC-8":21,"HM-RC-4":21,"HM-RC-4-B":21,"HM-RC-P1":21,"HM-RC-Sec3":21,"HM-RC-Sec3-B":21,"HM-RC-Key3":21,"HM-RC-Key3-B":21,"HM-PB-4-WM":21,"HM-PB-2-WM":21,"RC-H":21,atent:21,"ZEL STG RM HS 4":21,"HM-RC-X":21,"BRC-H":21,"HM-RC-SB-X":21,"HM-RC-12":21,
"HM-RC-12-B":21,"HM-RC-12-SW":21,"HM-RC-Key4-2":22,"HM-RC-Sec4-2":22,"HM-RC-19":23,"HM-RC-19-B":23,"HM-RC-19-SW":23,"HM-Sen-RD-O":24,"HM-Sec-RHS":25,"ZEL STG RM FDK":25,"HM-Sec-xx":25,"HM-LC-Sw1-Pl":26,"HM-LC-Sw1-Pl-2":26,"HM-LC-Sw1-SM":26,"HM-LC-Sw2-SM":26,"HM-LC-Sw4-SM":26,"HM-LC-Sw4-PCB":26,"HM-LC-Sw4-WM":26,"HM-LC-Sw1-FM":26,"263 130":26,"HM-LC-Sw2-FM":26,"HM-LC-Sw1-PB-FM":26,"HM-LC-Sw2-PB-FM":26,"HM-LC-Sw4-DR":26,"HM-LC-Sw2-DR":26,"ZEL STG RM FZS":26,"ZEL STG RM FZS-2":26,"HM-LC-SwX":26,"HM-LC-Sw1PBU-FM":26,
"263 131":26,"HM-LC-Sw1-Pl-3":26,"HM-LC-Sw1-SM-2":26,"HM-LC-Sw4-SM-2":26,"HM-LC-Sw4-PCB-2":26,"HM-LC-Sw4-WM-2":26,"HM-LC-Sw1-FM-2":26,"HM-LC-Sw2-FM-2":26,"HM-LC-Sw4-DR-2":26,"HM-LC-Sw2-DR-2":26,"HM-LC-Sw1-Pl-OM54":26,"HM-LC-Sw1-SM-ATmega168":26,"HM-LC-Sw4-SM-ATmega168":26,S550IA:27,"HM-WDS30-T-O":27,"HM-Sec-SC":28,"ZEL STG RM FFK":28,"HM-Sec-SC-2":28,"HM-SCI-3-FM":29,"HM-CC-SCD":30,"263 160":30,"HM-Sec-MDIR-2":31,"HM-Sec-MDIR":31,"263 162":31,"HM-Sec-MD":31,"HM-Sec-SD":32,"HM-Sec-SD-Generic":32,"HM-Sec-SD-2":58,
"HM-Sec-SFA-SM":33,"HM-Sen-MDIR-SM":34,"HM-Sen-MDIR-O":34,"HM-MD":34,"HM-Sen-MDIR-O-2":34,"HM-Sen-EP":35,"HM-Sen-X":35,"HM-Sen-Wa-Od":36,"HM-SwI-3-FM":37,"ZEL STG RM FSS UP3":37,"263 144":37,"HM-SwI-X":37,"HM-TC-IT-WM-W-EU":38,"HM-Sec-TiS":39,"HM-WDS30-OT2-SM":40,"HM-WDS30-OT2-SM-2":40,"HM-Sec-WDS":41,"HM-Sec-WDS-2":41,"HM-Sec-Win":42,"HM-Sec-Win-Generic":42,WS550:43,WS888:43,WS550Tech:43,WS550LCB:43,WS550LCW:43,"HM-WDC7000":43,"HMW-IO-12-Sw14-DR":44,"HMW-IO-12-Sw7-DR":45,"HMW-IO-12-FM":46,"HMW-IO-4-FM":46,
"HMW-LC-Bl1-DR":47,"HMW-LC-Dim1L-DR":48,"HMW-LC-Sw2-DR":49,"HMW-Sen-SC-12-DR":50,"HMW-Sen-SC-12-FM":50,"HM-CC-VG-1":51,"HM-ES-TX-WM":52,"HM-LC-RGBW-WM":53,"HM-Sec-SD-2-Team":54,"HM-Sen-LI-O":56,"HM-Sec-SCo":28,"HM-Sec-Sir-WM":57,"HM-LC-AO-SM":11,"HM-Sec-SD-Team":59,"HM-LC-Ja1PBU-FM":60,"HM-MOD-EM-8bit":61,"HM-LC-DW-WM":62};
xnm.aio.hm.CATAGORY=[{catagory:"Display-Wandtaster AP",channels:{MAINTENANCE:0,KEY:1}},{catagory:"Temperatur-Feuchte-Sensor",channels:{MAINTENANCE:0,WEATHER:2}},{catagory:"Funk- Jalousieaktor",channels:{BLIND:0}},{catagory:"Heizk\u00f6rperthermostat",channels:{CLIMATECONTROL_RT_TRANSCEIVER:0}},{catagory:"Heizk\u00f6rperthermostat",channels:{CLIMATECONTROL_RT_TRANSCEIVER:1}},{catagory:"Funk- Wandthermostat",channels:{CLIMATECONTROL_REGULATOR:0,WEATHER:2}},{catagory:"Funk- Ventilsteuerung",channels:{CLIMATECONTROL_VENT_DRIVE:0}},
{catagory:"HomeMatic Zentrale und virtuelle Fernbedienung",channels:{VIRTUAL_KEY:0}},{catagory:"Funk- Gong mit Signalleuchte",channels:{SIGNAL_LED:0,SIGNAL_CHIME:0}},{catagory:"MP3 Funk-Gong mit Signalleuchte und Speicher",channels:{SIGNAL_LED:1,SIGNAL_CHIME:1}},{catagory:"Funk-Gongmodul MP3 mit Speicher",channels:{SIGNAL_CHIME:1}},{catagory:"Funk-Anschnitt-Dimmaktor",channels:{DIMMER:1}},{catagory:"Funk-PWM-Dimmaktor",channels:{DIMMER:2,VIRTUAL_DIMMER:0}},{catagory:"Funk-Abschnitt-Dimmaktor",channels:{DIMMER:3,
VIRTUAL_DIMMER:1}},{catagory:"Display-Statusanzeige AP",channels:{KEY:2}},{catagory:"HomeMatic 8-Kanal Sendemodul",channels:{KEY:1,SHUTTER_CONTACT:2}},{catagory:"Funk-Schaltaktor mit Leistungsmessung",channels:{SWITCH:1,POWERMETER:0,CONDITION_POWER:0,CONDITION_CURRENT:0,CONDITION_VOLTAGE:0,CONDITION_FREQUENCY:0}},{catagory:"Funk- Schaltaktor Bat",channels:{STATUS_INDICATOR:0}},{catagory:"KeyMatic",channels:{MAINTENANCE:0,KEYMATIC:0}},{catagory:"Funk- Kombisensor",channels:{MAINTENANCE:0,WEATHER:4}},
{catagory:"Statusanzeige 16Kanal LED",channels:{KEY:3}},{catagory:"Funk- Wandsender/Tasterschnittstelle/Handsender/Fernbedienung",channels:{MAINTENANCE:0,KEY:1}},{catagory:"Funk-Handsender Key/Sec V2",channels:{KEY:0}},{catagory:"Funk- Fernbedienung 19 Tasten mit Display",channels:{KEY:1,CENTRAL_KEY:0,DISPLAY:0}},{catagory:"HomeMatic Regensensor",channels:{RAINDETECTOR:0,RAINDETECTOR_HEAT:0}},{catagory:"Funk- Fenster-/Drehgriffkontakt",channels:{ROTARY_HANDLE_SENSOR:0}},{catagory:"Funk- Schaltaktor",
channels:{SWITCH:1}},{catagory:"Temperatur-Sensor",channels:{WEATHER:0}},{catagory:"Funk- T\u00fcr-/Fensterkontakt",channels:{SHUTTER_CONTACT:1}},{catagory:"Funk-Schlie\u00dfer-Kontakt-Interface",channels:{MAINTENANCE:0,SHUTTER_CONTACT:0}},{catagory:"CO2-Sensor",channels:{SENSOR_FOR_CARBON_DIOXIDE:0}},{catagory:"Funk-Bewegungsmelder",channels:{MAINTENANCE:0,MOTION_DETECTOR:1}},{catagory:"Funk-Rauchmelder",channels:{MAINTENANCE:0,SMOKE_DETECTOR:0}},{catagory:"Alarm-Sirenen",channels:{ALARMACTUATOR:0}},
{catagory:"Funk-Bewegungsmelder",channels:{MAINTENANCE:0,MOTION_DETECTOR:0}},{catagory:"HM Sensor for Electronic Pulses",channels:{PULSE_SENSOR:0}},{catagory:"HomeMatic Kapazitiver F\u00fcllstandsmesser",channels:{CAPACITIVE_FILLING_LEVEL_SENSOR:0}},{catagory:"Funk-Schalterschnittstelle",channels:{MAINTENANCE:0,SWITCH_INTERFACE:0}},{catagory:"Wandthermostat",channels:{THERMALCONTROL_TRANSMIT:0,WEATHER_TRANSMIT:0}},{catagory:"Tilt-Sensor",channels:{TILT_SENSOR:0}},{catagory:"Temperaturdifferenz-Sensor",
channels:{WEATHER:1}},{catagory:"Funk-Wassermelder",channels:{WATERDETECTIONSENSOR:0}},{catagory:"WinMatic",channels:{WINMATIC:0,AKKU:0}},{catagory:"Funk-Wetterstation",channels:{WEATHER:3}},{catagory:"I/O-Modul 12 Eing\u00e4nge 14 Schaltausg\u00e4nge",channels:{DIGITAL_OUTPUT:0,DIGITAL_ANALOG_OUTPUT:0,DIGITAL_INPUT:0,DIGITAL_ANALOG_INPUT:0}},{catagory:"I/O-Modul 12 Eing\u00e4nge 7 Schaltausg\u00e4nge Hutschienenmontage",channels:{KEY:0,SWITCH:0}},{catagory:"4/12fach I/O-Modul Unterputzmontage",channels:{INPUT_OUTPUT:0}},
{catagory:"Jalousieaktor 1fach Hutschienenmontage",channels:{KEY:0,BLIND:0}},{catagory:"Dimmaktor 1fach Hutschienenmontage",channels:{KEY:0,DIMMER:0}},{catagory:"Schaltaktor 2fach Hutschienenmontage",channels:{KEY:0,SWITCH:0}},{catagory:"Schlie\u00dferkontakt-Sensor",channels:{SENSOR:0}},{catagory:"Gruppe 1",channels:{CLIMATECONTROL_RT_TRANSCEIVER:2,SHUTTER_CONTACT:2}},{catagory:"Energiez\u00e4hler-Sensor",channels:{POWERMETER_IGL:0}},{catagory:"Funk-RGBW-Controller",channels:{DIMMER:4,RGBW_COLOR:0,
RGBW_AUTOMATIC:0}},{catagory:"Funk-Rauchmelder 2 Gruppe",channels:{SMOKE_DETECTOR_TEAM_V2:0}},{catagory:"Funk- Schaltaktor Bat",channels:{MAINTENANCE:0,SWITCH:1}},{catagory:"Light Intensity Sensor",channels:{MAINTENANCE:0,LUXMETER:0}},{catagory:"Funk-Innensirene",channels:{SWITCH_SENSOR:0,SWITCH_PANIC:0,ARMING:0}},{catagory:"Funk-Rauchmelder 2",channels:{SMOKE_DETECTOR:1}},{catagory:"Funk-Rauchmelder Gruppe",channels:{SMOKE_DETECTOR_TEAM:0}},{catagory:"Funk-Jalousieaktor",channels:{JALOUSIE:0}},{catagory:"Funk-Sendemodul 8-bit",
channels:{KEY:1,MOD_EM8BIT_TRANSMITTER:0}},{catagory:"Funk-Conrtoller f\u00fcr Dual-White-LEDs",channels:{DUAL_WHITE_BRIGHTNESS:0,DUAL_WHITE_COLOR:0}}];
xnm.aio.hm.CHANNEL={KEY:{_level:0,datapoints:[{PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"we"},INSTALL_TEST:{type:"action",access:"e"}},{PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"we"},PRESS_LONG_RELEASE:{type:"action",access:"e"},PRESS_CONT:{type:"action",access:"e"},INSTALL_TEST:{type:"action",access:"e"}},{PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"we"},PRESS_LONG_RELEASE:{type:"action",access:"e"},PRESS_CONT:{type:"action",
access:"e"},INSTALL_TEST:{type:"action",access:"e"},SUBMIT:{type:"string",access:"w"}},{PRESS_SHORT:{type:"action",access:"we"},LED_STATUS:{type:"option",access:"rwe",values:{0:"OFF",1:"RED",2:"GREEN",3:"ORANGE"}},ALL_LEDS:{type:"string",access:"w"},LED_SLEEP_MODE:{type:"option",access:"w",values:{0:"OFF",1:"ON"}},INSTALL_TEST:{type:"action",access:"we"}}]},CENTRAL_KEY:{_level:1,datapoints:[{PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"we"},PRESS_LONG_RELEASE:{type:"action",
access:"e"},PRESS_CONT:{type:"action",access:"e"},INSTALL_TEST:{type:"action",access:"e"}}]},DISPLAY:{_level:2,datapoints:[{TEXT:{type:"string",access:"w"},BULB:{type:"action",access:"w"}}]},VIRTUAL_KEY:{_level:3,datapoints:[{PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"we"},LEVEL:{type:"float",access:"w",min:0,max:1,unit:"100%"}}]},INPUT_OUTPUT:{_level:4,datapoints:[{PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"we"},INSTALL_TEST:{type:"action",
access:"e"}}]},SWITCH:{_level:5,datapoints:[{STATE:{type:"boolean",access:"rwe"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}},{STATE:{type:"boolean",access:"rwe"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}}]},SWITCH_INTERFACE:{_level:6,datapoints:[{PRESS:{type:"action",access:"we"},INSTALL_TEST:{type:"action",
access:"we"}}]},DIMMER:{_level:7,datapoints:[{LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},INSTALL_TEST:{type:"action",access:"w"}},{LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},RAMP_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},ON_TIME:{type:"float",access:"w",
min:0,max:8.58259456E7,unit:"s"},RAMP_STOP:{type:"action",access:"w"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},ERROR:{type:"option",access:"re",values:{0:"NO_ERROR",1:"LOAD_FAILURE"}},INSTALL_TEST:{type:"action",access:"w"}},{LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},LEVEL_REAL:{type:"float",access:"re",min:0,max:1,unit:"100%"},
RAMP_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},RAMP_STOP:{type:"action",access:"w"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},ERROR_REDUCED:{type:"boolean",access:"re"},ERROR_OVERHEAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}},{LEVEL:{type:"float",access:"rwe",min:0,max:1,
unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},LEVEL_REAL:{type:"float",access:"re",min:0,max:1,unit:"100%"},RAMP_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},RAMP_STOP:{type:"action",access:"w"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},ERROR_REDUCED:{type:"boolean",access:"re"},ERROR_OVERLOAD:{type:"boolean",
access:"re"},ERROR_OVERHEAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}},{LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},RAMP_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},RAMP_STOP:{type:"action",access:"w"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",
2:"DOWN",3:"UNDEFINED"}},INSTALL_TEST:{type:"action",access:"w"}}]},VIRTUAL_DIMMER:{_level:8,datapoints:[{LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},LEVEL_REAL:{type:"float",access:"re",min:0,max:1,unit:"100%"},RAMP_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},RAMP_STOP:{type:"action",access:"w"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},
DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},ERROR_REDUCED:{type:"boolean",access:"re"},ERROR_OVERHEAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}},{LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},LEVEL_REAL:{type:"float",access:"re",min:0,max:1,unit:"100%"},RAMP_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},
RAMP_STOP:{type:"action",access:"w"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},ERROR_REDUCED:{type:"boolean",access:"re"},ERROR_OVERLOAD:{type:"boolean",access:"re"},ERROR_OVERHEAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}}]},BLIND:{_level:9,datapoints:[{LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},STOP:{type:"action",access:"w"},INHIBIT:{type:"boolean",
access:"rwe"},WORKING:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},INSTALL_TEST:{type:"action",access:"w"}}]},KEYMATIC:{_level:10,datapoints:[{STATE:{type:"boolean",access:"rwe"},OPEN:{type:"action",access:"w"},RELOCK_DELAY:{type:"float",access:"w",min:0,max:65535,unit:"s",special:{"111600.0":"NOT_USED"}},STATE_UNCERTAIN:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},
INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"},ERROR:{type:"option",access:"re",values:{0:"NO_ERROR",1:"CLUTCH_FAILURE",2:"MOTOR_ABORTED"}}}]},WINMATIC:{_level:11,datapoints:[{LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%",special:{"-0.005":"LOCKED"}},RELOCK_DELAY:{type:"float",access:"w",min:0,max:65535,unit:"s",special:{"111600.0":"NOT_USED"}},SPEED:{type:"float",access:"w",min:0,max:1,unit:"100%"},STOP:{type:"action",
access:"w"},STATE_UNCERTAIN:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},ERROR:{type:"option",access:"re",values:{0:"NO_ERROR",1:"MOTOR_TURN_ERROR",2:"MOTOR_TILT_ERROR"}}}]},CLIMATECONTROL_RT_TRANSCEIVER:{_level:12,datapoints:[{CONTROL_MODE:{type:"option",access:"re",values:{0:"AUTO-MODE",1:"MANU-MODE",2:"PARTY-MODE",3:"BOOST-MODE"}},FAULT_REPORTING:{type:"option",
access:"re",values:{0:"NO_FAULT",1:"VALVE_TIGHT",2:"ADJUSTING_RANGE_TOO_LARGE",3:"ADJUSTING_RANGE_TOO_SMALL",4:"COMMUNICATION_ERROR",5:"",6:"LOWBAT",7:"VALVE_ERROR_POSITION"}},BATTERY_STATE:{type:"float",access:"re",min:1.5,max:4.6,unit:"V"},VALVE_STATE:{type:"integer",access:"re",min:0,max:99,unit:"%"},BOOST_STATE:{type:"integer",access:"re",min:0,max:30,unit:"min"},ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-10,max:56,unit:"\u00b0C"},SET_TEMPERATURE:{type:"float",access:"rwe",min:4.5,max:30.5,
unit:"\u00b0C"},AUTO_MODE:{type:"action",access:"w"},MANU_MODE:{type:"float",access:"w",min:4.5,max:30.5,unit:"\u00b0C"},BOOST_MODE:{type:"action",access:"w"},COMFORT_MODE:{type:"action",access:"w"},LOWERING_MODE:{type:"action",access:"w"},PARTY_MODE_SUBMIT:{type:"string",access:"w"},PARTY_TEMPERATURE:{type:"float",access:"rw",min:5,max:30,unit:"\u00b0C"},PARTY_START_TIME:{type:"integer",access:"rw",min:0,max:1410,unit:"minutes"},PARTY_START_DAY:{type:"integer",access:"rw",min:1,max:31,unit:"day"},
PARTY_START_MONTH:{type:"integer",access:"rw",min:1,max:12,unit:"month"},PARTY_START_YEAR:{type:"integer",access:"rw",min:0,max:99,unit:"year"},PARTY_STOP_TIME:{type:"integer",access:"rw",min:0,max:1410,unit:"minutes"},PARTY_STOP_DAY:{type:"integer",access:"rw",min:1,max:31,unit:"day"},PARTY_STOP_MONTH:{type:"integer",access:"rw",min:1,max:12,unit:"month"},PARTY_STOP_YEAR:{type:"integer",access:"rw",min:0,max:99,unit:"year"}},{CLEAR_WINDOW_OPEN_SYMBOL:{type:"integer",access:"w",min:0,max:1},SET_SYMBOL_FOR_HEATING_PHASE:{type:"integer",
access:"w",min:0,max:1},CONTROL_MODE:{type:"option",access:"re",values:{0:"AUTO-MODE",1:"MANU-MODE",2:"PARTY-MODE",3:"BOOST-MODE"}},FAULT_REPORTING:{type:"option",access:"re",values:{0:"NO_FAULT",1:"VALVE_TIGHT",2:"ADJUSTING_RANGE_TOO_LARGE",3:"ADJUSTING_RANGE_TOO_SMALL",4:"COMMUNICATION_ERROR",5:"",6:"LOWBAT",7:"VALVE_ERROR_POSITION"}},WINDOW_STATE:{type:"boolean",access:"re"},BATTERY_STATE:{type:"float",access:"re",min:1.5,max:4.6,unit:"V"},VALVE_STATE:{type:"integer",access:"re",min:0,max:99,unit:"%"},
BOOST_TIME:{type:"integer",access:"re",min:0,max:30,unit:"min"},ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-10,max:56,unit:"\u00b0C"},SET_TEMPERATURE:{type:"float",access:"rwe",min:4.5,max:30.5,unit:"\u00b0C"},AUTO_MODE:{type:"action",access:"w"},MANU_MODE:{type:"float",access:"w",min:4.5,max:30.5,unit:"\u00b0C"},BOOST_MODE:{type:"action",access:"w"},COMFORT_MODE:{type:"action",access:"w"},LOWERING_MODE:{type:"action",access:"w"},PARTY_MODE_SUBMIT:{type:"string",access:"w"},PARTY_TEMPERATURE:{type:"float",
access:"rw",min:5,max:30,unit:"\u00b0C"},PARTY_START_TIME:{type:"integer",access:"rw",min:0,max:1410,unit:"minutes"},PARTY_START_DAY:{type:"integer",access:"rw",min:1,max:31,unit:"day"},PARTY_START_MONTH:{type:"integer",access:"rw",min:1,max:12,unit:"month"},PARTY_START_YEAR:{type:"integer",access:"rw",min:0,max:99,unit:"year"},PARTY_STOP_TIME:{type:"integer",access:"rw",min:0,max:1410,unit:"minutes"},PARTY_STOP_DAY:{type:"integer",access:"rw",min:1,max:31,unit:"day"},PARTY_STOP_MONTH:{type:"integer",
access:"rw",min:1,max:12,unit:"month"},PARTY_STOP_YEAR:{type:"integer",access:"rw",min:0,max:99,unit:"year"}},{CONTROL_MODE:{type:"option",access:"re",values:{0:"AUTO-MODE",1:"MANU-MODE",2:"PARTY-MODE",3:"BOOST-MODE"}},ACTUAL_HUMIDITY:{type:"float",access:"re",min:0,max:99,unit:"%"},BOOST_MODE:{type:"action",access:"w"},AUTO_MODE:{type:"action",access:"w"},SET_TEMPERATURE:{type:"float",access:"rwe",min:4.5,max:30.5,unit:"\u00b0C"},ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-10,max:56,unit:"\u00b0C"},
MANU_MODE:{type:"float",access:"w",min:4.5,max:30.5,unit:"\u00b0C"},COMFORT_MODE:{type:"action",access:"w"},LOWERING_MODE:{type:"action",access:"w"},PARTY_TEMPERATURE:{type:"float",access:"rw",min:5,max:30,unit:"\u00b0C"},PARTY_MODE_SUBMIT:{type:"string",access:"w"},PARTY_START_TIME:{type:"integer",access:"rw",min:0,max:1410,unit:"minutes"},PARTY_START_DAY:{type:"integer",access:"rw",min:1,max:31,unit:"day"},PARTY_START_MONTH:{type:"integer",access:"rw",min:1,max:12,unit:"month"},PARTY_START_YEAR:{type:"integer",
access:"rw",min:0,max:99,unit:"year"},PARTY_STOP_TIME:{type:"integer",access:"rw",min:0,max:1410,unit:"minutes"},PARTY_STOP_DAY:{type:"integer",access:"rw",min:1,max:31,unit:"day"},PARTY_STOP_MONTH:{type:"integer",access:"rw",min:1,max:12,unit:"month"},PARTY_STOP_YEAR:{type:"integer",access:"rw",min:0,max:99,unit:"year"}}]},THERMALCONTROL_TRANSMIT:{_level:13,datapoints:[{CONTROL_MODE:{type:"option",access:"re",values:{0:"AUTO-MODE",1:"MANU-MODE",2:"PARTY-MODE",3:"BOOST-MODE"}},LOWBAT_REPORTING:{type:"boolean",
access:"re"},COMMUNICATION_REPORTING:{type:"boolean",access:"re"},WINDOW_OPEN_REPORTING:{type:"boolean",access:"re"},BATTERY_STATE:{type:"float",access:"re",min:1.5,max:4.6,unit:"V"},BOOST_STATE:{type:"integer",access:"re",min:0,max:30,unit:"min"},ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-10,max:50,unit:"\u00b0C"},ACTUAL_HUMIDITY:{type:"float",access:"re",min:0,max:99,unit:"%"},SET_TEMPERATURE:{type:"float",access:"rwe",min:4.5,max:30.5,unit:"\u00b0C"},AUTO_MODE:{type:"action",access:"w"},
MANU_MODE:{type:"float",access:"w",min:4.5,max:30.5,unit:"\u00b0C"},BOOST_MODE:{type:"action",access:"w"},COMFORT_MODE:{type:"action",access:"w"},LOWERING_MODE:{type:"action",access:"w"},PARTY_MODE_SUBMIT:{type:"string",access:"rw"},PARTY_TEMPERATURE:{type:"float",access:"rw",min:5,max:30,unit:"\u00b0C"},PARTY_START_TIME:{type:"integer",access:"rw",min:0,max:1410,unit:"minutes"},PARTY_START_DAY:{type:"integer",access:"rw",min:1,max:31,unit:"day"},PARTY_START_MONTH:{type:"integer",access:"rw",min:1,
max:12,unit:"month"},PARTY_START_YEAR:{type:"integer",access:"rw",min:0,max:99,unit:"year"},PARTY_STOP_TIME:{type:"integer",access:"rw",min:0,max:1410,unit:"minutes"},PARTY_STOP_DAY:{type:"integer",access:"rw",min:1,max:31,unit:"day"},PARTY_STOP_MONTH:{type:"integer",access:"rw",min:1,max:12,unit:"month"},PARTY_STOP_YEAR:{type:"integer",access:"rw",min:0,max:99,unit:"year"}}]},CLIMATECONTROL_REGULATOR:{_level:14,datapoints:[{SETPOINT:{type:"float",access:"rwe",min:6,max:30,unit:"\u00b0C",special:{"0.0":"VENT_CLOSED",
"100.0":"VENT_OPEN"}},ADJUSTING_COMMAND:{type:"integer",access:"re",min:0,max:4},ADJUSTING_DATA:{type:"integer",access:"re",min:0,max:250},STATE:{type:"boolean",access:"w"}}]},CLIMATECONTROL_VENT_DRIVE:{_level:15,datapoints:[{VALVE_STATE:{type:"integer",access:"re",min:0,max:99,unit:"%"},ERROR:{type:"option",access:"re",values:{0:"NO_ERROR",1:"VALVE_DRIVE_BLOCKED",2:"VALVE_DRIVE_LOOSE",3:"ADJUSTING_RANGE_TO_SMALL",4:"LOWBAT"}}}]},SIGNAL_LED:{_level:16,datapoints:[{STATE:{type:"boolean",access:"rwe"},
ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}},{STATE:{type:"boolean",access:"rwe"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"},SUBMIT:{type:"string",access:"w"}}]},SIGNAL_CHIME:{_level:17,datapoints:[{STATE:{type:"boolean",access:"rwe"},
ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}},{STATE:{type:"boolean",access:"rwe"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"},SUBMIT:{type:"string",access:"w"}}]},WEATHER:{_level:18,datapoints:[{TEMPERATURE:{type:"float",access:"re",
min:-40,max:80,unit:"\u00b0C"}},{TEMPERATURE:{type:"float",access:"re",min:-150,max:150,unit:"\u00b0C"},LOWBAT:{type:"boolean",access:"re"}},{TEMPERATURE:{type:"float",access:"re",min:-40,max:80,unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"re",min:0,max:99,unit:"%"}},{TEMPERATURE:{type:"float",access:"re",min:-40,max:80,unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"re",min:0,max:99,unit:"%"},AIR_PRESSURE:{type:"integer",access:"re",min:500,max:1100,unit:"hPa"}},{TEMPERATURE:{type:"float",access:"re",
min:-40,max:80,unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"re",min:0,max:99,unit:"%"},RAINING:{type:"boolean",access:"re"},RAIN_COUNTER:{type:"float",access:"re",min:0,max:9666.265,unit:"mm"},WIND_SPEED:{type:"float",access:"re",min:0,max:1638.3,unit:"km/h"},WIND_DIRECTION:{type:"integer",access:"re",min:0,max:355,unit:"degree"},WIND_DIRECTION_RANGE:{type:"integer",access:"re",min:0,max:67,unit:"degree"},SUNSHINEDURATION:{type:"integer",access:"re",min:0,max:255},BRIGHTNESS:{type:"integer",access:"re",
min:0,max:255}}]},WEATHER_TRANSMIT:{_level:19,datapoints:[{TEMPERATURE:{type:"float",access:"re",min:-10,max:50,unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"re",min:0,max:99,unit:"%"}}]},RAINDETECTOR:{_level:20,datapoints:[{STATE:{type:"option",access:"re",values:{0:"DRY",1:"RAIN"}},INSTALL_TEST:{type:"action",access:"e"}}]},RAINDETECTOR_HEAT:{_level:21,datapoints:[{STATE:{type:"boolean",access:"rwe"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},
WORKING:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}}]},ROTARY_HANDLE_SENSOR:{_level:22,datapoints:[{STATE:{type:"option",access:"re",values:{0:"CLOSED",1:"TILTED",3:"OPEN"}},ERROR:{type:"option",access:"re",values:{0:"NO_ERROR",1:"SABOTAGE"}},LOWBAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}}]},SHUTTER_CONTACT:{_level:23,datapoints:[{STATE:{type:"boolean",access:"re"},LOWBAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}},{STATE:{type:"boolean",
access:"re"},ERROR:{type:"option",access:"re",values:{0:"NO_ERROR",1:"SABOTAGE"}},LOWBAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}},{STATE:{type:"boolean",access:"re"}}]},SENSOR_FOR_CARBON_DIOXIDE:{_level:24,datapoints:[{STATE:{type:"option",access:"re",values:{0:"LEVEL_NORMAL",1:"LEVEL_ADDED",2:"LEVEL_ADDED_STRONG"}},INSTALL_TEST:{type:"action",access:"e"}}]},MOTION_DETECTOR:{_level:25,datapoints:[{BRIGHTNESS:{type:"integer",access:"re",min:0,max:255},NEXT_TRANSMISSION:{type:"integer",
access:"rw"},MOTION:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}},{BRIGHTNESS:{type:"integer",access:"re",min:0,max:255},NEXT_TRANSMISSION:{type:"integer",access:"rw"},MOTION:{type:"boolean",access:"re"},ERROR:{type:"option",access:"re",values:{0:"NO_ERROR",1:"SABOTAGE"}},INSTALL_TEST:{type:"action",access:"e"}}]},SMOKE_DETECTOR:{_level:26,datapoints:[{STATE:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}},{STATE:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",
access:"e"},LOWBAT:{type:"boolean",access:"re"}}]},ALARMACTUATOR:{_level:27,datapoints:[{STATE:{type:"boolean",access:"rwe"},ERROR_POWER:{type:"option",access:"re",values:{0:"NO_ERROR",1:"POWER_FAILURE"}},ERROR_SABOTAGE:{type:"option",access:"re",values:{0:"NO_ERROR",1:"SABOTAGE"}},ERROR_BATTERY:{type:"option",access:"re",values:{0:"NO_ERROR",1:"BATTERY_DEFECT"}},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},
LOWBAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}}]},PULSE_SENSOR:{_level:28,datapoints:[{SEQUENCE_OK:{type:"action",access:"we"},INSTALL_TEST:{type:"action",access:"e"}}]},CAPACITIVE_FILLING_LEVEL_SENSOR:{_level:29,datapoints:[{FILLING_LEVEL:{type:"integer",access:"re",min:0,max:100,unit:"%"},INSTALL_TEST:{type:"action",access:"e"}}]},TILT_SENSOR:{_level:30,datapoints:[{STATE:{type:"boolean",access:"re"},LOWBAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}}]},
WATERDETECTIONSENSOR:{_level:31,datapoints:[{STATE:{type:"option",access:"re",values:{0:"DRY",1:"WET",2:"WATER"}},LOWBAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}}]},AKKU:{_level:32,datapoints:[{LEVEL:{type:"float",access:"re",min:0,max:1,unit:"100%"},STATUS:{type:"option",access:"re",values:{0:"TRICKLE_CHARGE",1:"CHARGE",2:"DISCHARGE",3:"STATE_UNKNOWN"}}}]},DIGITAL_OUTPUT:{_level:33,datapoints:[{STATE:{type:"boolean",access:"rwe"}}]},DIGITAL_ANALOG_OUTPUT:{_level:34,datapoints:[{STATE:{type:"boolean",
access:"rwe"},FREQUENCY:{type:"float",access:"rwe",min:0,max:5E4,unit:"mHz"}}]},DIGITAL_INPUT:{_level:35,datapoints:[{STATE:{type:"boolean",access:"rwe"},FREQUENCY:{type:"float",access:"re",min:0,max:35E4,unit:"mHz"}}]},DIGITAL_ANALOG_INPUT:{_level:36,datapoints:[{STATE:{type:"boolean",access:"rwe"},VALUE:{type:"float",access:"re",min:0,max:1E3}}]},SENSOR:{_level:37,datapoints:[{SENSOR:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}}]},POWERMETER:{_level:38,datapoints:[{BOOT:{type:"boolean",
access:"re"},ENERGY_COUNTER:{type:"float",access:"re",min:0,max:838860.7,unit:"Wh"},POWER:{type:"float",access:"re",min:0,max:167772.15,unit:"W"},CURRENT:{type:"float",access:"re",min:0,max:65535,unit:"mA"},VOLTAGE:{type:"float",access:"re",min:0,max:6553.5,unit:"V"},FREQUENCY:{type:"float",access:"re",min:48.72,max:51.27,unit:"Hz"}}]},CONDITION_POWER:{_level:39,datapoints:[{DECISION_VALUE:{type:"integer",access:"re",min:0,max:255}}]},CONDITION_CURRENT:{_level:40,datapoints:[{DECISION_VALUE:{type:"integer",
access:"re",min:0,max:255}}]},CONDITION_VOLTAGE:{_level:41,datapoints:[{DECISION_VALUE:{type:"integer",access:"re",min:0,max:255}}]},CONDITION_FREQUENCY:{_level:42,datapoints:[{DECISION_VALUE:{type:"integer",access:"re",min:0,max:255}}]},STATUS_INDICATOR:{_level:43,datapoints:[{STATE:{type:"boolean",access:"rwe"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}}]},POWERMETER_IGL:{_level:44,
datapoints:[{BOOT:{type:"boolean",access:"re"},GAS_ENERGY_COUNTER:{type:"float",access:"re",min:0,max:2147483.647,unit:"m3"},GAS_POWER:{type:"float",access:"re",min:0,max:16777.215,unit:"m3"},ENERGY_COUNTER:{type:"float",access:"re",min:0,max:838860.7,unit:"Wh"},POWER:{type:"float",access:"re",min:0,max:167772.15,unit:"W"}}]},RGBW_COLOR:{_level:44,datapoints:[{COLOR:{type:"integer",access:"rwe",min:0,max:255}}]},RGBW_AUTOMATIC:{_level:45,datapoints:[{PROGRAM:{type:"integer",access:"rwe",min:0,max:255}}]},
SMOKE_DETECTOR_TEAM_V2:{_level:46,datapoints:[{STATE:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"e"}}]},MAINTENANCE:{_level:47,datapoints:[{LOWBAT:{type:"boolean",access:"re"}}]},LUXMETER:{_level:48,datapoints:[{LUX:{type:"float",access:"re",min:0,max:1E5,unit:"Lux"}}]},SWITCH_SENSOR:{_level:49,datapoints:[{STATE:{type:"boolean",access:"rwe"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},
ERROR_SABOTAGE:{type:"option",access:"re",values:{0:"NO_ERROR",1:"SABOTAGE"}},LOWBAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}}]},SWITCH_PANIC:{_level:50,datapoints:[{STATE:{type:"boolean",access:"rwe"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},ERROR_SABOTAGE:{type:"option",access:"re",values:{0:"NO_ERROR",1:"SABOTAGE"}},LOWBAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",
access:"w"}}]},ARMING:{_level:51,datapoints:[{ARMSTATE:{type:"option",access:"rwe",values:{0:"DISARMED",1:"EXTSENS_ARMED",2:"ALLSENS_ARMED",3:"ALARM_BLOCKED"}},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},ERROR_SABOTAGE:{type:"option",access:"re",values:{0:"NO_ERROR",1:"SABOTAGE"}},LOWBAT:{type:"boolean",access:"re"},INSTALL_TEST:{type:"action",access:"w"}}]},SMOKE_DETECTOR_TEAM:{_level:52,datapoints:[{STATE:{type:"boolean",
access:"re"},INSTALL_TEST:{type:"action",access:"e"}}]},JALOUSIE:{_level:53,datapoints:[{LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},STOP:{type:"action",access:"w"},INHIBIT:{type:"boolean",access:"rwe"},WORKING:{type:"boolean",access:"re"},DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},INSTALL_TEST:{type:"action",access:"w"},LEVEL_SLATS:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},WORKING_SLATS:{type:"boolean",access:"re"},DIRECTION_SLATS:{type:"option",
access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},LEVEL_COMBINED:{type:"string",access:"w"}}]},MOD_EM8BIT_TRANSMITTER:{_level:54,datapoints:[{STATE:{type:"integer",access:"re",min:0,max:255},LOWBAT:{type:"boolean",access:"re"}}]},DUAL_WHITE_BRIGHTNESS:{_level:55,datapoints:[{DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},ERROR_OVERHEAT:{type:"boolean",access:"re"},ERROR_REDUCED:{type:"boolean",access:"re"},INHIBIT:{type:"boolean",access:"rwe"},INSTALL_TEST:{type:"action",
access:"w"},LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},LEVEL_REAL:{type:"float",access:"re",min:0,max:1,unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},RAMP_STOP:{type:"action",access:"w"},RAMP_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},WORKING:{type:"boolean",access:"re"}}]},DUAL_WHITE_COLOR:{_level:56,datapoints:[{DIRECTION:{type:"option",access:"re",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}},
INHIBIT:{type:"boolean",access:"rwe"},INSTALL_TEST:{type:"action",access:"w"},LEVEL:{type:"float",access:"rwe",min:0,max:1,unit:"100%"},LEVEL_REAL:{type:"float",access:"re",min:0,max:1,unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},ON_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},RAMP_STOP:{type:"action",access:"w"},RAMP_TIME:{type:"float",access:"w",min:0,max:8.58259456E7,unit:"s"},WORKING:{type:"boolean",access:"re"}}]}};
xnm.aio.hm.MAP={KEY:{PRESS_SHORT:{command:[{type:"enum",name:"short press",ref:{value:"pressShort"}}]},PRESS_LONG:{command:[{type:"enum",name:"long press",ref:{value:"pressLong"}}]},SUBMIT:{command:[{type:"string",name:"set value",ref:{value:"setValue",ext:"%s"}}]},LED_STATUS:{command:[{type:"enum",name:"off",ref:{value:"ledOff"}},{type:"enum",name:"red",ref:{value:"ledRed"}},{type:"enum",name:"green",ref:{value:"ledGreen"}},{type:"enum",name:"orange",ref:{value:"ledOrange"}}],status:[{type:"enum",
name:"led status",ref:{value:"ledStatus",options:["off","red","green","orange"]}}]},ALL_LEDS:{command:[{type:"string",name:"set value",ref:{value:"setAllLed",ext:"%s"}}]},LED_SLEEP_MODE:{command:[{type:"enum",name:"led sleep mode off",ref:{value:"sleepModeOff"}},{type:"enum",name:"led sleep mode on",ref:{value:"sleepModeOn"}}]}},CENTRAL_KEY:{PRESS_SHORT:{command:[{type:"enum",name:"short press",ref:{value:"pressShort"}}]},PRESS_LONG:{command:[{type:"enum",name:"long press",ref:{value:"pressLong"}}]}},
VIRTUAL_KEY:{PRESS_SHORT:{command:[{type:"enum",name:"short press",ref:{value:"pressShort"}}]},PRESS_LONG:{command:[{type:"enum",name:"long press",ref:{value:"pressLong"}}]}},INPUT_OUTPUT:{PRESS_SHORT:{command:[{type:"enum",name:"short press",ref:{value:"pressShort"}}]},PRESS_LONG:{command:[{type:"enum",name:"long press",ref:{value:"pressLong"}}]}},SWITCH:{STATE:{command:[{type:"enum",name:"on",ref:{value:"on"}},{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"toggle",ref:{value:"toggle"}}],
status:[{type:"enum",name:"switch status",ref:{value:"switchState",options:["off","on"]}}]}},SWITCH_INTERFACE:{PRESS:{command:[{type:"enum",name:"press",ref:{value:"press"}}]}},DIMMER:{LEVEL:{command:[{type:"enum",name:"off",ref:{value:"dimOff"}},{type:"enum",name:"dim up",ref:{value:"dimUp"}},{type:"enum",name:"dim down",ref:{value:"dimDown"}},{type:"enum",name:"dim to",ref:{value:"dimTo",ext:"%d",extMeta:"0-100"}},{type:"int",name:"dim to",ref:{value:"dimRaw",ext:"%d",extMeta:"0-100"}},{type:"enum",
name:"toggle to",ref:{value:"toggleTo",ext:"%e",extMeta:"10% 20% 30% 40% 50% 60% 70% 80% 90% 100%".split(" ")}}],status:[{type:"int",name:"dimmer status",ref:{value:"dimmerLevel"}}]},OLD_LEVEL:{command:[{type:"enum",name:"on",ref:{value:"dimOn"}}]},DIRECTION:{status:[{type:"enum",name:"dim direction",ref:{value:"dimmerDirection",options:["none","up","down","undefined"]}}]}},BLIND:{LEVEL:{command:[{type:"enum",name:"move up",ref:{value:"blindUp"}},{type:"enum",name:"move down",ref:{value:"blindDown"}},
{type:"enum",name:"step up",ref:{value:"blindStepUp"}},{type:"enum",name:"step down",ref:{value:"blindStepDown"}},{type:"enum",name:"move to",ref:{value:"blindTo",ext:"%d",extMeta:"0-100"}},{type:"int",name:"move to",ref:{value:"blindRaw",ext:"%d",extMeta:"0-100"}}],status:[{type:"int",name:"blind status",ref:{value:"blindLevel"}},{type:"enum",name:"position description",ref:{value:"blindPosDes",options:["top","middle","bottom"]}}]},STOP:{command:[{type:"enum",name:"stop",ref:{value:"blindStop"}}]},
DIRECTION:{status:[{type:"enum",name:"blind direction",ref:{value:"blindDirection",options:["none","up","down","undefined"]}}]}},KEYMATIC:{STATE:{command:[{type:"enum",name:"unlock",ref:{value:"keyOpen"}},{type:"enum",name:"lock",ref:{value:"keyLock"}}],status:[{type:"enum",name:"lock status",ref:{value:"keyState",options:["open","lock"]}}]},OPEN:{command:[{type:"enum",name:"open",ref:{value:"keyOpenDo"}}]}},WINMATIC:{LEVEL:{command:[{type:"enum",name:"move up",ref:{value:"windowUp"}},{type:"enum",
name:"move down",ref:{value:"windowDown"}},{type:"enum",name:"move to",ref:{value:"windowTo",ext:"%d",extMeta:"0-100"}},{type:"enum",name:"lock",ref:{value:"winLock"}},{type:"int",name:"move to",ref:{value:"windowRaw",ext:"%d",extMeta:"0-100"}}],status:[{type:"int",name:"window status",ref:{value:"winLevel"}}]},STOP:{command:[{type:"enum",name:"stop",ref:{value:"winStop"}}]},DIRECTION:{status:[{type:"enum",name:"window direction",ref:{value:"winDirection",options:["none","up","down","undefined"]}}]},
ERROR:{status:[{type:"enum",name:"window error",ref:{value:"winError",options:["no_error","motor_turn_error","motor_tilt_error"]}}]}},CLIMATECONTROL_RT_TRANSCEIVER:{CONTROL_MODE:{status:[{type:"enum",name:"mode",ref:{value:"themoMode",options:["auto","manu","party","boost"]}}]},FAULT_REPORTING:{status:[{type:"enum",name:"fault reporting",ref:{value:"themoFault",options:"no_fault valve_tight adjusting_range_too_large adjusting_range_too_small communication_error low_bat valve_error_position".split(" ")}},
{type:"enum",name:"low battery",ref:{value:"themoLowbat",options:["true","false"]}}]},BATTERY_STATE:{status:[{type:"float",name:"battery state",ref:{value:"themoBattery"}}]},VALVE_STATE:{status:[{type:"int",name:"valve state",ref:{value:"themoValve"}}]},BOOST_STATE:{status:[{type:"int",name:"boost state",ref:{value:"themoBoost"}}]},ACTUAL_TEMPERATURE:{status:[{type:"float",name:"actual temperature",ref:{value:"themoActualTemp",extMeta:"-10.0-56.0",scale:"0.1"}}]},ACTUAL_HUMIDITY:{status:[{type:"float",
name:"actual humidity",ref:{value:"themoActualHum"}}]},SET_TEMPERATURE:{command:[{type:"enum",name:"temperature up",ref:{value:"themoTempUp"}},{type:"enum",name:"temperature down",ref:{value:"themoTempDown"}},{type:"enum",name:"off",ref:{value:"themoTempOff"}},{type:"float",name:"temperature to",ref:{value:"themoTempRaw",ext:"%f",extMeta:"4.5-30.5",scale:"0.5"}}],status:[{type:"float",name:"set temperature",ref:{value:"themoSetTemp",extMeta:"4.5-30.5",scale:"0.5"}}]},AUTO_MODE:{command:[{type:"enum",
name:"set auto mode",ref:{value:"themoAutoMode"}}]},MANU_MODE:{command:[{type:"enum",name:"set manual mode",ref:{value:"themoManuMode",ext:"%f",extMeta:"4.5-30.5"}}]},BOOST_MODE:{command:[{type:"enum",name:"set boost mode",ref:{value:"themoBoostMode"}}]},COMFORT_MODE:{command:[{type:"enum",name:"set comfort mode",ref:{value:"themoComfortMode"}}]},LOWERING_MODE:{command:[{type:"enum",name:"set lowering mode",ref:{value:"themoLoweringMode"}}]},WINDOW_STATE:{status:[{type:"enum",name:"window state",
ref:{value:"themoWinState",options:["open","close"]}}]}},THERMALCONTROL_TRANSMIT:{CONTROL_MODE:{status:[{type:"enum",name:"mode",ref:{value:"themoTMode",options:["auto","manu","party","boost"]}}]},LOWBAT_REPORTING:{status:[{type:"enum",name:"low battery",ref:{value:"themoTLowbat",options:["true","false"]}}]},COMMUNICATION_REPORTING:{status:[{type:"enum",name:"communication",ref:{value:"themoTComm",options:["true","false"]}}]},WINDOW_OPEN_REPORTING:{status:[{type:"enum",name:"window open",ref:{value:"themoTWin",
options:["open","close"]}}]},BATTERY_STATE:{status:[{type:"float",name:"battery state",ref:{value:"themoTBattery",extMeta:"1.5-4.6",scale:"0.1"}}]},BOOST_STATE:{status:[{type:"int",name:"boost state",ref:{value:"themoTBoost"}}]},ACTUAL_TEMPERATURE:{status:[{type:"float",name:"actual temperature",ref:{value:"themoTActualTemp",extMeta:"-10.0-50.0",scale:"0.1"}}]},ACTUAL_HUMIDITY:{status:[{type:"int",name:"actual humidity",ref:{value:"themoTActualHum"}}]},SET_TEMPERATURE:{command:[{type:"enum",name:"temperature up",
ref:{value:"themoTTempUp"}},{type:"enum",name:"temperature down",ref:{value:"themoTTempDown"}},{type:"enum",name:"off",ref:{value:"themoTTempOff"}},{type:"float",name:"temperature to",ref:{value:"themoTTempRaw",ext:"%f",extMeta:"4.5-30.5",scale:"0.5"}}],status:[{type:"float",name:"set temperature",ref:{value:"themoTSetTemp",extMeta:"4.5-30.5",scale:"0.5"}}]},AUTO_MODE:{command:[{type:"enum",name:"set auto mode",ref:{value:"themoTAutoMode"}}]},MANU_MODE:{command:[{type:"enum",name:"set manual mode",
ref:{value:"themoTManuMode",ext:"%f",extMeta:"4.5-30.5"}}]},BOOST_MODE:{command:[{type:"enum",name:"set boost mode",ref:{value:"themoTBoostMode"}}]},COMFORT_MODE:{command:[{type:"enum",name:"set comfort mode",ref:{value:"themoTComfortMode"}}]},LOWERING_MODE:{command:[{type:"enum",name:"set lowering mode",ref:{value:"themoTLoweringMode"}}]}},CLIMATECONTROL_REGULATOR:{SETPOINT:{command:[{type:"enum",name:"temperature up",ref:{value:"themoRTempUp"}},{type:"enum",name:"temperature down",ref:{value:"themoRTempDown"}},
{type:"enum",name:"close",ref:{value:"themoRTempClose"}},{type:"float",name:"temperature to",ref:{value:"themoRTempRaw",ext:"%f",extMeta:"6-30",scale:"0.5"}}],status:[{type:"float",name:"set temperature",ref:{value:"themoRSetTemp",extMeta:"6-30",scale:"0.5"}}]}},CLIMATECONTROL_VENT_DRIVE:{VALVE_STATE:{status:[{type:"int",name:"valve state",ref:{value:"valveState"}}]},ERROR:{status:[{type:"enum",name:"valve error",ref:{value:"valveError",options:["no_error","valve_drive_blocked","valve_drive_loose",
"adjusting_range_to_small","low_bat"]}}]}},SIGNAL_LED:{STATE:{command:[{type:"enum",name:"led on",ref:{value:"signalLedOn"}},{type:"enum",name:"led off",ref:{value:"signalLedOff"}},{type:"enum",name:"led toggle",ref:{value:"signalLedToggle"}}],status:[{type:"enum",name:"led state",ref:{value:"signalLedState",options:["on","off"]}}]},SUBMIT:{command:[{type:"string",name:"set led",ref:{value:"setSignalLed",ext:"%s"}}]}},SIGNAL_CHIME:{STATE:{command:[{type:"enum",name:"chime on",ref:{value:"signalChimeOn"}},
{type:"enum",name:"chime off",ref:{value:"signalChimeOff"}},{type:"enum",name:"chime toggle",ref:{value:"signalChimeToggle"}}],status:[{type:"enum",name:"chime state",ref:{value:"signalChimeState",options:["on","off"]}}]},SUBMIT:{command:[{type:"string",name:"set chime",ref:{value:"setSignalChime",ext:"%s"}}]}},WEATHER:{TEMPERATURE:{status:[{type:"float",name:"temperature",ref:{value:"weatherTemp",extMeta:"-40.0-80.0",scale:"0.1"}}]},HUMIDITY:{status:[{type:"int",name:"humidity",ref:{value:"weatherHum"}}]},
AIR_PRESSURE:{status:[{type:"int",name:"air pressure",ref:{value:"weatherAirP"}}]},LOWBAT:{status:[{type:"enum",name:"low battery",ref:{value:"weatherLowbat",options:["true","false"]}}]},RAINING:{status:[{type:"enum",name:"raining",ref:{value:"weatherRaining",options:["true","false"]}}]},RAIN_COUNTER:{status:[{type:"float",name:"rain counter",ref:{value:"weatherRainCounter",extMeta:"0.0-9666.265",scale:"0.01"}}]},WIND_SPEED:{status:[{type:"float",name:"wind speed",ref:{value:"weatherWindS",extMeta:"0.0-1638.3",
scale:"0.1"}}]},WIND_DIRECTION:{status:[{type:"enum",name:"wind direction",ref:{value:"weatherWindD",options:"N NO O SO S SW W NW".split(" ")}},{type:"int",name:"wind direction degree",ref:{value:"weatherWindDRaw",extMeta:"0-355"}}]},WIND_DIRECTION_RANGE:{status:[{type:"int",name:"wind direction range",ref:{value:"weatherWindDRRaw",extMeta:"0-67"}}]},SUNSHINEDURATION:{status:[{type:"int",name:"sunshine duration",ref:{value:"weatherSunD"}}]},BRIGHTNESS:{status:[{type:"int",name:"brightness",ref:{value:"weatherBright"}}]}},
WEATHER_TRANSMIT:{TEMPERATURE:{status:[{type:"float",name:"temperature",ref:{value:"weatherTTemp",extMeta:"-10.0-50.0",scale:"0.1"}}]},HUMIDITY:{status:[{type:"int",name:"humidity",ref:{value:"weatherTHum"}}]}},RAINDETECTOR:{STATE:{status:[{type:"enum",name:"rain state",ref:{value:"rainState",options:["dry","rain"]}}]}},RAINDETECTOR_HEAT:{STATE:{command:[{type:"enum",name:"on",ref:{value:"rainHeatOn"}},{type:"enum",name:"off",ref:{value:"rainHeatOff"}},{type:"enum",name:"toggle",ref:{value:"rainHeatToggle"}}],
status:[{type:"enum",name:"heater state",ref:{value:"rainHeatState",options:["on","off"]}}]}},ROTARY_HANDLE_SENSOR:{STATE:{status:[{type:"enum",name:"handle state",ref:{value:"handleState",options:["closed","tilted","open"]}}]},ERROR:{status:[{type:"enum",name:"handle error",ref:{value:"handleError",options:["no_error","sabotage"]}}]},LOWBAT:{status:[{type:"enum",name:"handle low battery",ref:{value:"handleLowbat",options:["true","false"]}}]}},SHUTTER_CONTACT:{STATE:{status:[{type:"enum",name:"shutter state",
ref:{value:"shutterState",options:["closed","open"]}}]},ERROR:{status:[{type:"enum",name:"shutter error",ref:{value:"shutterError",options:["no_error","sabotage"]}}]},LOWBAT:{status:[{type:"enum",name:"shutter low battery",ref:{value:"shutterLowbat",options:["true","false"]}}]}},SENSOR_FOR_CARBON_DIOXIDE:{STATE:{status:[{type:"enum",name:"co2 state",ref:{value:"co2State",options:["normal","added","added_strong"]}}]}},MOTION_DETECTOR:{BRIGHTNESS:{status:[{type:"int",name:"brightness",ref:{value:"motionBright"}}]},
MOTION:{status:[{type:"enum",name:"state",ref:{value:"motionState",options:["on","off"]}}]},ERROR:{status:[{type:"enum",name:"error",ref:{value:"motionError",options:["no_error","sabotage"]}}]}},SMOKE_DETECTOR:{STATE:{status:[{type:"enum",name:"state",ref:{value:"smokeState",options:["on","off"]}}]},LOWBAT:{status:[{type:"enum",name:"battery low",ref:{value:"smokeLowbat",options:["true","false"]}}]}},SMOKE_DETECTOR_TEAM:{STATE:{status:[{type:"enum",name:"state",ref:{value:"smokeGroup1State",options:["on",
"off"]}}]}},SMOKE_DETECTOR_TEAM_V2:{STATE:{status:[{type:"enum",name:"state",ref:{value:"smokeGroupState",options:["on","off"]}}]}},ALARMACTUATOR:{STATE:{command:[{type:"enum",name:"on",ref:{value:"alarmOn"}},{type:"enum",name:"off",ref:{value:"alarmOff"}},{type:"enum",name:"toggle",ref:{value:"alarmToggle"}}],status:[{type:"enum",name:"state",ref:{value:"alarmState",options:["on","off"]}}]},ERROR_POWER:{status:[{type:"enum",name:"power error",ref:{value:"alarmErrPower",options:["no_error","power_failure"]}}]},
ERROR_SABOTAGE:{status:[{type:"enum",name:"sabotage error",ref:{value:"alarmErrSabo",options:["no_error","sabotage"]}}]},ERROR_BATTERY:{status:[{type:"enum",name:"battery error",ref:{value:"alarmErrBat",options:["no_error","barttery_defect"]}}]},LOWBAT:{status:[{type:"enum",name:"battery low",ref:{value:"alarmLowbat",options:["true","false"]}}]}},PULSE_SENSOR:{SEQUENCE_OK:{command:[{type:"enum",name:"sequence ok",ref:{value:"seqOk"}}]}},CAPACITIVE_FILLING_LEVEL_SENSOR:{FILLING_LEVEL:{status:[{type:"int",
name:"level",ref:{value:"fillingLevel"}}]}},TILT_SENSOR:{STATE:{status:[{type:"enum",name:"state",ref:{value:"tiltState",options:["on","off"]}}]},LOWBAT:{status:[{type:"enum",name:"battery low",ref:{value:"tiltLowbat",options:["true","false"]}}]}},WATERDETECTIONSENSOR:{STATE:{status:[{type:"enum",name:"state",ref:{value:"waterState",options:["dry","wet","water"]}}]},LOWBAT:{status:[{type:"enum",name:"battery low",ref:{value:"waterLowbat",options:["true","false"]}}]}},AKKU:{LEVEL:{status:[{type:"float",
name:"level",ref:{value:"akkuLevel",extMeta:"0.0-1.0",scale:"0.1"}}]},STATUS:{status:[{type:"enum",name:"status",ref:{value:"akkuStatus",options:["trickle_charge","charge","discharge","state_unknow"]}}]}},DIGITAL_OUTPUT:{STATE:{command:[{type:"enum",name:"on",ref:{value:"digOutOn"}},{type:"enum",name:"off",ref:{value:"digOutOff"}},{type:"enum",name:"toggle",ref:{value:"digOutToggle"}}],status:[{type:"enum",name:"state",ref:{value:"digOutState",options:["on","off"]}}]}},DIGITAL_ANALOG_OUTPUT:{STATE:{command:[{type:"enum",
name:"on",ref:{value:"daOutOn"}},{type:"enum",name:"off",ref:{value:"daOutOff"}},{type:"enum",name:"toggle",ref:{value:"daOutToggle"}}],status:[{type:"enum",name:"state",ref:{value:"daOutState",options:["on","off"]}}]},FREQUENCY:{command:[{type:"enum",name:"set frequency",ref:{value:"setOutFreq",ext:"%f"}},{type:"float",name:"set frequency",ref:{value:"setOutFreqRaw",ext:"%f",extMeta:"0.0-50000.0",scale:"0.1"}}],status:[{type:"float",name:"state",ref:{value:"daOutFreq",extMeta:"0.0-50000.0",scale:"0.1"}}]}},
DIGITAL_INPUT:{FREQUENCY:{status:[{type:"float",name:"freq state",ref:{value:"digInFreq",extMeta:"0.0-350000.0",scale:"0.1"}}]},STATE:{status:[{type:"enum",name:"on/off state",ref:{value:"digInState",options:["on","off"]}}]}},DIGITAL_ANALOG_INPUT:{VALUE:{status:[{type:"float",name:"state",ref:{value:"daInValue",extMeta:"0.0-1000.0",scale:"0.1"}}]},STATE:{status:[{type:"enum",name:"on/off state",ref:{value:"daInState",options:["on","off"]}}]}},SENSOR:{SENSOR:{status:[{type:"enum",name:"state",ref:{value:"sensorState",
options:["on","off"]}}]}},POWERMETER:{BOOT:{status:[{type:"enum",name:"boot status",ref:{value:"meterBoot",options:["true","false"]}}]},ENERGY_COUNTER:{status:[{type:"float",name:"energy counter",ref:{value:"meterEnergyCounter",extMeta:"0.0-838860.7",scale:"0.1"}}]},POWER:{status:[{type:"float",name:"power",ref:{value:"meterPower",extMeta:"0.0-167772.15",scale:"0.01"}}]},CURRENT:{status:[{type:"float",name:"current",ref:{value:"meterCurrent",extMeta:"0.0-65535.0",scale:"0.1"}}]},VOLTAGE:{status:[{type:"float",
name:"voltage",ref:{value:"meterVoltage",extMeta:"0.0-6553.5",scale:"0.1"}}]},FREQUENCY:{status:[{type:"float",name:"frequency",ref:{value:"meterFrequency",extMeta:"48.72-51.27",scale:"0.01"}}]}},POWERMETER_IGL:{BOOT:{status:[{type:"enum",name:"boot status",ref:{value:"iglBoot",options:["true","false"]}}]},GAS_ENERGY_COUNTER:{status:[{type:"float",name:"gas energy counter",ref:{value:"iglGasEnergy",extMeta:"0.000-2147483.647",scale:"0.001"}}]},GAS_POWER:{status:[{type:"float",name:"gas power",ref:{value:"iglGasPower",
extMeta:"0.00-16777.215",scale:"0.01"}}]},ENERGY_COUNTER:{status:[{type:"float",name:"energy counter",ref:{value:"iglEnergy",extMeta:"0.0-838860.7",scale:"0.1"}}]},POWER:{status:[{type:"float",name:"power",ref:{value:"iglPower",extMeta:"0.00-167772.15",scale:"0.01"}}]}},RGBW_COLOR:{COLOR:{command:[{type:"int",name:"color",ref:{value:"color",ext:"%d",extMeta:"0-255"}},{type:"enum",name:"white",ref:{value:"white"}},{type:"rgb",name:"rgb color",ref:{value:"rgb",ext:"%s"}}],status:[{type:"int",name:"color",
ref:{value:"colorState",extMeta:"0-255"}}]}},RGBW_AUTOMATIC:{PROGRAM:{command:[{type:"int",name:"program",ref:{value:"program",ext:"%d",extMeta:"0-255"}}],status:[{type:"int",name:"program",ref:{value:"programState",extMeta:"0-255"}}]}},STATUS_INDICATOR:{STATE:{command:[{type:"enum",name:"on",ref:{value:"statusIndiOn"}},{type:"enum",name:"off",ref:{value:"statusIndiOff"}},{type:"enum",name:"toggle",ref:{value:"statusIndiToggle"}}],status:[{type:"enum",name:"state",ref:{value:"statusIndiState",options:["on",
"off"]}}]}},MAINTENANCE:{LOWBAT:{status:[{type:"enum",name:"battery low",ref:{value:"maintLowbat",options:["true","false"]}}]}},LUXMETER:{LUX:{status:[{type:"float",name:"light intensity",ref:{value:"luxState",extMeta:"0.00-100000.00",scale:"0.01"}}]}},SWITCH_SENSOR:{STATE:{command:[{type:"enum",name:"on",ref:{value:"switchSensorOn"}},{type:"enum",name:"off",ref:{value:"switchSensorOff"}},{type:"enum",name:"toggle",ref:{value:"switchSensorToggle"}}],status:[{type:"enum",name:"status",ref:{value:"switchSensorState",
options:["off","on"]}}]}},SWITCH_PANIC:{STATE:{command:[{type:"enum",name:"on",ref:{value:"switchPanicOn"}},{type:"enum",name:"off",ref:{value:"switchPanicOff"}},{type:"enum",name:"toggle",ref:{value:"switchPanicToggle"}}],status:[{type:"enum",name:"status",ref:{value:"switchPanicState",options:["off","on"]}}]}},ARMING:{STATE:{command:[{type:"enum",name:"disarmed",ref:{value:"armingDisarm"}},{type:"enum",name:"internal armed",ref:{value:"armingIntern"}},{type:"enum",name:"all armed",ref:{value:"armingAll"}},
{type:"enum",name:"block alarm",ref:{value:"armingBlock"}}],status:[{type:"enum",name:"status",ref:{value:"armingState",options:["disarmed","internal_armed","all_armed","alarm_blocked"]}}]},ERROR_SABOTAGE:{status:[{type:"enum",name:"sabotage error",ref:{value:"armingErrSabo",options:["no_error","sabotage"]}}]},LOWBAT:{status:[{type:"enum",name:"low battery",ref:{value:"armingLowbat",options:["true","false"]}}]}},JALOUSIE:{LEVEL:{command:[{type:"enum",name:"move up",ref:{value:"jalUp"}},{type:"enum",
name:"move down",ref:{value:"jalDown"}},{type:"enum",name:"step up",ref:{value:"jalStepUp"}},{type:"enum",name:"step down",ref:{value:"jalStepDown"}},{type:"int",name:"move to",ref:{value:"jalRaw",ext:"%d",extMeta:"0-100"}}],status:[{type:"int",name:"status",ref:{value:"jalLevel"}},{type:"enum",name:"position description",ref:{value:"jalPosDes",options:["top","middle","bottom"]}}]},STOP:{command:[{type:"enum",name:"stop",ref:{value:"jalStop"}}]},DIRECTION:{status:[{type:"enum",name:"direction",ref:{value:"jalDirection",
options:["none","up","down","undefined"]}}]},LEVEL_SLATS:{command:[{type:"enum",name:"lamella up",ref:{value:"jalLmlUp"}},{type:"enum",name:"lamella down",ref:{value:"jalLmlDown"}},{type:"enum",name:"lamella step up",ref:{value:"jalLmlStepUp"}},{type:"enum",name:"lamella step down",ref:{value:"jalLmlStepDown"}},{type:"int",name:"lamella to",ref:{value:"jalLmlRaw",ext:"%d",extMeta:"0-100"}}],status:[{type:"int",name:"lamella status",ref:{value:"jalLmlLevel"}}]}},SysVar:{binary:{command:[{type:"enum",
name:"on",ref:{value:"binaryOn"}},{type:"enum",name:"off",ref:{value:"binaryOff"}},{type:"enum",name:"toggle",ref:{value:"binaryToggle"}}],status:[{type:"enum",name:"state",ref:{value:"binaryState",options:["on","off"]}},{type:"string",name:"mapped state",ref:{value:"mappedState"}}]},"float":{command:[{type:"float",name:"set value",ref:{value:"rawFloatValue",ext:"%f",scale:"0.1"}}],status:[{type:"float",name:"state",ref:{value:"floatState",scale:"0.1"}}]},integer:{command:[{type:"int",name:"set value",
ref:{value:"rawIntValue",ext:"%d"}}],status:[{type:"int",name:"state",ref:{value:"intState"}},{type:"string",name:"mapped state",ref:{value:"mappedState"}}]},string:{command:[{type:"string",name:"set value",ref:{value:"rawStringValue",ext:"%s"}}],status:[{type:"string",name:"state",ref:{value:"stringState"}}]}},CCU:{command:[{type:"enum",name:"cloudmatic on",ref:{value:"cloudmaticOn"}},{type:"enum",name:"cloudmatic off",ref:{value:"cloudmaticOff"}},{type:"enum",name:"cloudmatic toggle",ref:{value:"cloudmaticToggle"}}],
status:[{type:"string",name:"service message",ref:{value:"serviceMsg"}},{type:"string",name:"ccu time",ref:{value:"ccuTime"}},{type:"enum",name:"cloudmatic state",ref:{value:"cloudmaticState",options:["on","off"]}}]},MOD_EM8BIT_TRANSMITTER:{STATE:{status:[{type:"int",name:"status",ref:{value:"state8bit"}}]},LOWBAT:{status:[{type:"enum",name:"low battery",ref:{value:"lowbat8bit",options:["true","false"]}}]}},DUAL_WHITE_BRIGHTNESS:{DIRECTION:{status:[{type:"enum",name:"dim direction",ref:{value:"dualWBDirection",
options:["none","up","down","undefined"]}}]},ERROR_OVERHEAT:{status:[{type:"enum",name:"overheat error",ref:{value:"dualWBErrHeat",options:["no_error","over_heat"]}}]},ERROR_REDUCED:{status:[{type:"enum",name:"reduced error",ref:{value:"dualWBErrReduced",options:["no_error","reduced"]}}]},LEVEL:{command:[{type:"enum",name:"off",ref:{value:"dualWBOff"}},{type:"enum",name:"dim up",ref:{value:"dualWBUp"}},{type:"enum",name:"dim down",ref:{value:"dualWBDown"}},{type:"int",name:"dim to",ref:{value:"dualWBTo",
ext:"%d",extMeta:"0-100"}},{type:"int",name:"toggle to",ref:{value:"dualWBToggleTo",ext:"%d",extMeta:"1-100"}}],status:[{type:"int",name:"level status",ref:{value:"dualWBLevel"}}]},OLD_LEVEL:{command:[{type:"enum",name:"on",ref:{value:"dualWBOn"}}]}},DUAL_WHITE_COLOR:{DIRECTION:{status:[{type:"enum",name:"color direction",ref:{value:"dualWCDirection",options:["none","up","down","undefined"]}}]},LEVEL:{command:[{type:"enum",name:"color off",ref:{value:"dualWCOff"}},{type:"enum",name:"color up",ref:{value:"dualWCUp"}},
{type:"enum",name:"color down",ref:{value:"dualWCDown"}},{type:"int",name:"color to",ref:{value:"dualWCTo",ext:"%d",extMeta:"0-100"}}],status:[{type:"int",name:"color status",ref:{value:"dualWCLevel"}}]},OLD_LEVEL:{command:[{type:"enum",name:"color on",ref:{value:"dualWCOn"}}]}}};
xnm.aio.hm.HM_Sec_Sir_WM_MAP={command:[{type:"enum",name:"internal alarm on",ref:{value:"switchSensorInOn"}},{type:"enum",name:"internal alarm off",ref:{value:"switchSensorInOff"}},{type:"enum",name:"internal alarm toggle",ref:{value:"switchSensorInToggle"}},{type:"enum",name:"external alarm on",ref:{value:"switchSensorExOn"}},{type:"enum",name:"external alarm off",ref:{value:"switchSensorExOff"}},{type:"enum",name:"external alarm toggle",ref:{value:"switchSensorExToggle"}},{type:"enum",name:"panic alarm on",
ref:{value:"switchPanicOn"}},{type:"enum",name:"panic alarm off",ref:{value:"switchPanicOff"}},{type:"enum",name:"panic alarm toggle",ref:{value:"switchPanicToggle"}},{type:"enum",name:"disarmed",ref:{value:"armingDisarm"}},{type:"enum",name:"internal armed",ref:{value:"armingIntern"}},{type:"enum",name:"all armed",ref:{value:"armingAll"}}],status:[{type:"enum",name:"internal alarm status",ref:{value:"switchSensorInState",options:["off","on"]}},{type:"enum",name:"external alarm status",ref:{value:"switchSensorExState",
options:["off","on"]}},{type:"enum",name:"panic alarm status",ref:{value:"switchPanicState",options:["off","on"]}},{type:"enum",name:"arming status",ref:{value:"armingState",options:["disarmed","internal_armed","all_armed","alarm_blocked"]}},{type:"enum",name:"sabotage error",ref:{value:"armingErrSabo",options:["no_error","sabotage"]}},{type:"enum",name:"low battery",ref:{value:"armingLowbat",options:["true","false"]}}]};
xnm.aio.hm.HM_WDS30_OT2_SM_2_MAP={status:[{type:"enum",name:"battery low",ref:{value:"maintLowbat",options:["true","false"]}},{type:"float",name:"temperature 1 (T1)",ref:{value:"weatherTemp1",extMeta:"-150.0-150.0",scale:"0.1"}},{type:"float",name:"temperature 2 (T2)",ref:{value:"weatherTemp2",extMeta:"-150.0-150.0",scale:"0.1"}},{type:"float",name:"temp. differ (T1 -T2)",ref:{value:"weatherTemp3",extMeta:"-150.0-150.0",scale:"0.1"}},{type:"float",name:"temp. differ (T2 -T1)",ref:{value:"weatherTemp4",
extMeta:"-150.0-150.0",scale:"0.1"}}]};
xnm.aio.hm.HM_ES_TX_WM_MAP={status:[{type:"enum",name:"ch1 boot status",ref:{value:"iec1Boot",options:["true","false"]}},{type:"float",name:"ch1 gas energy counter",ref:{value:"iec1GasEnergy",extMeta:"0.000-2147483.647",scale:"0.001"}},{type:"float",name:"ch1 gas power",ref:{value:"iec1GasPower",extMeta:"0.00-16777.215",scale:"0.01"}},{type:"float",name:"ch1 energy counter",ref:{value:"iec1Energy",extMeta:"0.0-838860.7",scale:"0.1"}},{type:"float",name:"ch1 power",ref:{value:"iec1Power",extMeta:"0.00-167772.15",
scale:"0.01"}},{type:"float",name:"ch1 iec energy counter",ref:{value:"iec1IecEnergy",extMeta:"0.0-838860.7",scale:"0.1"}},{type:"float",name:"ch1 iec power",ref:{value:"iec1IecPower",extMeta:"0.00-16777.215",scale:"0.01"}},{type:"enum",name:"ch2 boot status",ref:{value:"iec2Boot",options:["true","false"]}},{type:"float",name:"ch2 gas energy counter",ref:{value:"iec2GasEnergy",extMeta:"0.000-2147483.647",scale:"0.001"}},{type:"float",name:"ch2 gas power",ref:{value:"iec2GasPower",extMeta:"0.00-16777.215",
scale:"0.01"}},{type:"float",name:"ch2 energy counter",ref:{value:"iec2Energy",extMeta:"0.0-838860.7",scale:"0.1"}},{type:"float",name:"ch2 power",ref:{value:"iec2Power",extMeta:"0.00-167772.15",scale:"0.01"}},{type:"float",name:"ch2 iec energy counter",ref:{value:"iec12ecEnergy",extMeta:"0.0-838860.7",scale:"0.1"}},{type:"float",name:"ch2 iec power",ref:{value:"iec2IecPower",extMeta:"0.00-16777.215",scale:"0.01"}}]};
xnm.aio.hm.HM_MOD_EM_8BIT_MAP={command:[{type:"enum",name:"ch.1 short press",ref:{value:"ch1pressShort"}},{type:"enum",name:"ch.1 long press",ref:{value:"ch1pressLong"}},{type:"enum",name:"ch.2 short press",ref:{value:"ch2pressShort"}},{type:"enum",name:"ch.2 long press",ref:{value:"ch2pressLong"}}],status:[{type:"int",name:"state",ref:{value:"state8bit",extMeta:"0-255"}},{type:"enum",name:"low battery",ref:{value:"lowbat",options:["true","off"]}}],ipevt:[{type:"enum",name:"ch.1 short press",ref:{value:"ch1pressShort",
options:["true"]}},{type:"enum",name:"ch.1 long press",ref:{value:"ch1pressLong",options:["true"]}},{type:"enum",name:"ch.2 short press",ref:{value:"ch2pressShort",options:["true"]}},{type:"enum",name:"ch.2 long press",ref:{value:"ch2pressLong",options:["true"]}}]};
xnm.aio.hm.CUxDTYPE={Temperature_Sensor:{WEATHER:0},"Temp/Hum_Sensor":{WEATHER:1},"KS200/300":{WEATHER:2},FS20_Contact:{SHUTTER_CONTACT:0},FS20_Switch_Sensor:{SWITCH:0},FS20_Alarm:{DANGER:0},FS20_Event_Trigger:{EVENT_INTERFACE:0},FS20_Motion:{MOTION_DETECTOR:0},FS20_Sensor:{SENSOR:0},FS20_Switch:{SWITCH:1},FS20_Dimmer:{DIMMER:0},FS20_Relais:{RELAIS:0},EM1000:{SENSOR:1},"ESA1000/2000":{SENSOR:2},FHT80v:{CLIMATECONTROL_VENT_DRIVE:0},FHT80b:{CLIMATECONTROL_REGULATOR:0,WEATHER:0},FHT_Multiventil:{DIMMER:1},
FHT_Contact:{SENSOR:3},"HMS_100_W/WD":{SENSOR:4},Security_Sensor:{SENSOR:4},HMS_100_Contact:{SENSOR:4},KFM_100_S:{CAPACITIVE_FILLING_LEVEL_SENSOR:0},Transform_Device:{WRAPPER:0},Thermostat_Device:{WEATHER:3,CLIMATECONTROL_REGULATOR:1,SWITCH:2},System_Key:{KEY:1},System_Switch:{SWITCH:3},System_Dimmer:{DIMMER:2},System_Blind:{BLIND:0},System_Multi_Dimmer:{SYSTEM:0,DIMMER:3},RS232_Water_Sensor:{SENSOR:5},Universal_Key:{KEY:0},Universal_Switch:{SWITCH:4},Universal_Dimmer:{DIMMER:4},Universal_Shutter:{SHUTTER_CONTACT:1},
Universal_Motion:{MOTION_DETECTOR:1},Universal_Alarm:{DANGER:1},Universal_Blind:{BLIND:1},"M-BUS_EnergyCam":{SENSOR:6},EnOcean_Key:{KEY:2},EnOcean_Handle:{ROTARY_HANDLE_SENSOR:0},EnOcean_Contact:{SHUTTER_CONTACT:2},EnOcean_PioTek_Tracker:{KEY:2,SENSOR:7,POWER:0},EnOcean_Motion:{MOTION_DETECTOR:2,WEATHER:4,POWER:0},EnOcean_Brightness:{WEATHER:5},EnOcean_WeatherStation:{WEATHER:6,ENOCEAN_WEATHER2:0},EnOcean_Switch:{SWITCH:5},EnOcean_Dimmer:{DIMMER:5},EnOcean_Blind:{BLIND:2},EnOcean_Airconditioner:{WEATHER:0,
CLIMATECONTROL_REGULATOR:3,SWITCH:6,SENSOR:8,ENOCEAN_SENSOR_ERROR:0},EnOcean_Actuator:{WEATHER:0,CLIMATECONTROL_REGULATOR:2,CLIMATECONTROL_VENT_DRIVE:1},EnOcean_Bidi_Switch:{SWITCH:7,POWERMETER:0,ENOCEAN_Bidi_Switch2:0}};
xnm.aio.hm.CUxDCHANNEL={KEY:{_level:0,datapoints:[{STATE:{type:"boolean",access:"rw"},PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"w"},LEVEL:{type:"float",access:"rw"},STOP:{type:"action",access:"w"},OLD_LEVEL:{type:"action",access:"w"},MOTION:{type:"boolean",access:"r"},SEND_CMD:{type:"string",access:"w"},RCVS:{type:"string",access:"r"},RCVL:{type:"string",access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},{LEVEL:{type:"float",access:"rw"},
OLD_LEVEL:{type:"action",access:"w"},STOP:{type:"action",access:"w"},STATE:{type:"boolean",access:"rw"},CMD_RUNS:{type:"action",access:"w"},CMD_RUNL:{type:"action",access:"w"},CMD_SETS:{type:"string",access:"rw"},CMD_SETL:{type:"string",access:"rw"},CMD_RETS:{type:"string",access:"r"},CMD_RETL:{type:"string",access:"r"},CMD_QUERY_RET:{type:"action",access:"w"},CMD_EXEC:{type:"string",access:"w"},WORKING:{type:"boolean",access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},
{PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"w"},WORKING:{type:"boolean",access:"r"},KEYPRESS_TIME:{type:"float",access:"r"}}]},SWITCH:{_level:5,datapoints:[{STATE:{type:"boolean",access:"rw"},VALUE:{type:"integer",access:"rw"},ON_TIME:{type:"float",access:"rw",unit:"s"},WORKING:{type:"boolean",access:"r"},EVENTCTR:{type:"integer",access:"rw"},CONTROL:{type:"integer",access:"r"}},{STATE:{type:"boolean",access:"rw"},ON_TIME:{type:"float",access:"w",unit:"s"},TOGGLE:{type:"action",
access:"w"},WORKING:{type:"boolean",access:"r"},PROG_TIMER:{type:"float",access:"rw",unit:"s"}},{STATE:{type:"boolean",access:"r"}},{LEVEL:{type:"float",access:"rw"},OLD_LEVEL:{type:"action",access:"w"},STOP:{type:"action",access:"w"},STATE:{type:"boolean",access:"rw"},CMD_RUNS:{type:"action",access:"w"},CMD_RUNL:{type:"action",access:"w"},CMD_SETS:{type:"string",access:"rw"},CMD_SETL:{type:"string",access:"rw"},CMD_RETS:{type:"string",access:"r"},CMD_RETL:{type:"string",access:"r"},CMD_QUERY_RET:{type:"action",
access:"w"},CMD_EXEC:{type:"string",access:"w"},WORKING:{type:"boolean",access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},{STATE:{type:"boolean",access:"rw"},PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"w"},LEVEL:{type:"float",access:"rw"},STOP:{type:"action",access:"w"},OLD_LEVEL:{type:"action",access:"w"},MOTION:{type:"boolean",access:"r"},SEND_CMD:{type:"string",access:"w"},RCVS:{type:"string",access:"r"},RCVL:{type:"string",access:"r"},
CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},{STATE:{type:"boolean",access:"rw"},ON_TIME:{type:"float",access:"rw",unit:"s"},WORKING:{type:"boolean",access:"r"},POWER:{type:"float",access:"r"},ENERGY_COUNTER:{type:"float",access:"r"}},{STATE:{type:"boolean",access:"rw"}},{STATE:{type:"boolean",access:"rw"},ON_TIME:{type:"float",access:"w",unit:"s"},INHIBIT:{type:"boolean",access:"rw"},NIGHT_MODE:{type:"boolean",access:"w"},INFO_LED:{type:"integer",access:"w"},WORKING:{type:"boolean",
access:"r"},ERROR_OVERLOAD:{type:"boolean",access:"r"}}]},DIMMER:{_level:7,datapoints:[{LEVEL:{type:"float",access:"rw",min:0,max:1,unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},RAMP_TIME:{type:"float",access:"w",unit:"s"},ON_TIME:{type:"float",access:"w",unit:"s"},TOGGLE:{type:"action",access:"w"},WORKING:{type:"boolean",access:"r"},PROG_TIMER:{type:"float",access:"rw"},PROG_DIM_UP:{type:"float",access:"rw"},PROG_DIM_DOWN:{type:"float",access:"rw"}},{LEVEL:{type:"float",access:"rw",min:0,max:1,
unit:"100%"},OLD_LEVEL:{type:"action",access:"w"}},{LEVEL:{type:"float",access:"rw"},OLD_LEVEL:{type:"action",access:"w"},STOP:{type:"action",access:"w"},STATE:{type:"boolean",access:"rw"},CMD_RUNS:{type:"action",access:"w"},CMD_RUNL:{type:"action",access:"w"},CMD_SETS:{type:"string",access:"rw"},CMD_SETL:{type:"string",access:"rw"},CMD_RETS:{type:"string",access:"r"},CMD_RETL:{type:"string",access:"r"},CMD_QUERY_RET:{type:"action",access:"w"},CMD_EXEC:{type:"string",access:"w"},WORKING:{type:"boolean",
access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},{LEVEL:{type:"float",access:"rw"},OLD_LEVEL:{type:"action",access:"w"},SET_STATE:{type:"float",access:"w"}},{STATE:{type:"boolean",access:"rw"},PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"w"},LEVEL:{type:"float",access:"rw"},STOP:{type:"action",access:"w"},OLD_LEVEL:{type:"action",access:"w"},MOTION:{type:"boolean",access:"r"},SEND_CMD:{type:"string",access:"w"},RCVS:{type:"string",access:"r"},
RCVL:{type:"string",access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},{LEVEL:{type:"float",access:"rw",min:0,max:1,unit:"100%"},OLD_LEVEL:{type:"action",access:"w"},RAMP_TIME:{type:"float",access:"w",unit:"s"},ON_TIME:{type:"float",access:"w",unit:"s"},WORKING:{type:"boolean",access:"r"},POWER:{type:"float",access:"r"},ENERGY_COUNTER:{type:"float",access:"r"}}]},BLIND:{_level:9,datapoints:[{LEVEL:{type:"float",access:"rw"},OLD_LEVEL:{type:"action",access:"w"},STOP:{type:"action",
access:"w"},STATE:{type:"boolean",access:"rw"},CMD_RUNS:{type:"action",access:"w"},CMD_RUNL:{type:"action",access:"w"},CMD_SETS:{type:"string",access:"rw"},CMD_SETL:{type:"string",access:"rw"},CMD_RETS:{type:"string",access:"r"},CMD_RETL:{type:"string",access:"r"},CMD_QUERY_RET:{type:"action",access:"w"},CMD_EXEC:{type:"string",access:"w"},WORKING:{type:"boolean",access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},{STATE:{type:"boolean",access:"rw"},PRESS_SHORT:{type:"action",
access:"we"},PRESS_LONG:{type:"action",access:"w"},LEVEL:{type:"float",access:"rw"},STOP:{type:"action",access:"w"},OLD_LEVEL:{type:"action",access:"w"},MOTION:{type:"boolean",access:"r"},SEND_CMD:{type:"string",access:"w"},RCVS:{type:"string",access:"r"},RCVL:{type:"string",access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},{LEVEL:{type:"float",access:"rw"},STOP:{type:"action",access:"w"},RAMP_TIME:{type:"float",access:"w"},ON_TIME:{type:"float",access:"w"},WORKING:{type:"boolean",
access:"r"},DIRECTION:{type:"option",access:"r",values:{0:"NONE",1:"UP",2:"DOWN",3:"UNDEFINED"}}}]},CLIMATECONTROL_REGULATOR:{_level:14,datapoints:[{SETPOINT:{type:"float",access:"rw",min:0,max:99.5,unit:"\u00b0C",special:{"5.5":"OFF","30.5":"ON"}},STATE:{type:"boolean",access:"w",0:"VENT_CLOSED",1:"VENT_OPEN"},MODE_TEMPERATUR_REGULATOR:{type:"integer",access:"rw",special:{0:"AUTOMATIC",1:"MANUAL",2:"PARTY"}},TEMPERATUR_COMFORT_VALUE:{type:"float",access:"rw",min:0,max:99.5,unit:"\u00b0C"},TEMPERATUR_LOWERING_VALUE:{type:"float",
access:"rw",min:0,max:99.5,unit:"\u00b0C"},TEMPERATUR_WINDOW_OPEN_VALUE:{type:"float",access:"rw",min:0,max:99.5,unit:"\u00b0C"},PARTY_END_TIME:{type:"string",access:"rw"}},{SETPOINT:{type:"float",access:"rw",min:0,max:99.5,unit:"\u00b0C",special:{"5.5":"OFF","30.5":"ON"}},STATE:{type:"boolean",access:"r",0:"VENT_CLOSED",1:"VENT_OPEN"},LEVEL:{type:"float",access:"r"},SET_INVERT:{type:"boolean",access:"rw"}},{SETPOINT:{type:"float",access:"rw",min:0,max:99.5,unit:"\u00b0C",special:{"5.5":"OFF","30.5":"ON"}},
VALVE_STATE:{type:"integer",access:"w",min:0,max:100,unit:"%"},SUMMER_MODE:{type:"boolean",access:"rw"}},{SETPOINT:{type:"float",access:"rw",min:0,max:99.5,unit:"\u00b0C",special:{"5.5":"OFF","30.5":"ON"}}}]},CLIMATECONTROL_VENT_DRIVE:{_level:15,datapoints:[{VALVE_STATE:{type:"integer",access:"r",unit:"%"},VALVE_OFFSET_VALUE:{type:"float",access:"r",unit:"%"}},{VALVE_STATE:{type:"integer",access:"r",unit:"%"},TEMPERATURE:{type:"float",access:"r"},ALARM:{type:"boolean",access:"r"}}]},WEATHER:{_level:18,
datapoints:[{TEMPERATURE:{type:"float",access:"r",unit:"\u00b0C"}},{TEMPERATURE:{type:"float",access:"r",unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"r",unit:"%"},HUMIDITYF:{type:"float",access:"r",unit:"%"},DEW_POINT:{type:"float",access:"r",unit:"\u00b0C"},ABS_HUMIDITY:{type:"float",access:"r",unit:"g/m3"}},{TEMPERATURE:{type:"float",access:"r",unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"r",unit:"%"},RAINING:{type:"boolean",access:"r",unit:"%"},RAIN_CTR:{type:"float",access:"r",unit:"mm"},
WIND_SPEED:{type:"float",access:"r",unit:"km/h"},DEW_POINT:{type:"float",access:"r",unit:"\u00b0C"},ABS_HUMIDITY:{type:"float",access:"r",unit:"g/m3"}},{TEMPERATURE:{type:"float",access:"r",unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"r",unit:"%"},DEW_POINT:{type:"float",access:"r",unit:"\u00b0C"},ABS_HUMIDITY:{type:"float",access:"r",unit:"g/m3"},SET_TEMPERATURE:{type:"float",access:"w",unit:"\u00b0C"},SET_HUMIDITY:{type:"float",access:"w",unit:"%"},TEMP_MIN_24H:{type:"float",access:"r",unit:"\u00b0C"},
TEMP_MAX_24H:{type:"float",access:"r",unit:"\u00b0C"},HUM_MIN_24H:{type:"float",access:"r",unit:"%"},HUM_MAX_24H:{type:"float",access:"r",unit:"%"}},{TEMPERATURE:{type:"float",access:"r",unit:"\u00b0C"},BRIGHTNESS:{type:"integer",access:"r",unit:"lx"}},{BRIGHTNESS:{type:"integer",access:"r",unit:"lx"},MEDIAN:{type:"float",access:"r",unit:"lx"},MEAN:{type:"float",access:"r",unit:"lx"},BAT_VOLTAGE:{type:"float",access:"r"}},{BRIGHTNESS:{type:"integer",access:"r",unit:"lx"},WIND_SPEED:{type:"float",
access:"r",unit:"km/h"},RAINING:{type:"boolean",access:"r"},TEMPERATURE:{type:"float",access:"r",unit:"\u00b0C"}}]},ROTARY_HANDLE_SENSOR:{_level:22,datapoints:[{STATE:{type:"option",access:"re",values:{0:"CLOSED",1:"TILTED",2:"OPEN"}}}]},SHUTTER_CONTACT:{_level:23,datapoints:[{STATE:{type:"boolean",access:"rw"},VALUE:{type:"integer",access:"rw"},ON_TIME:{type:"float",access:"rw",unit:"s"},WORKING:{type:"boolean",access:"r"},EVENTCTR:{type:"integer",access:"rw"},CONTROL:{type:"integer",access:"r"}},
{STATE:{type:"boolean",access:"rw"},PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"w"},LEVEL:{type:"float",access:"rw"},STOP:{type:"action",access:"w"},OLD_LEVEL:{type:"action",access:"w"},MOTION:{type:"boolean",access:"r"},SEND_CMD:{type:"string",access:"w"},RCVS:{type:"string",access:"r"},RCVL:{type:"string",access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},{STATE:{type:"boolean",access:"r"}}]},MOTION_DETECTOR:{_level:25,datapoints:[{MOTION:{type:"boolean",
access:"rw"},VALUE:{type:"integer",access:"rw"},ON_TIME:{type:"float",access:"rw",unit:"s"},WORKING:{type:"boolean",access:"r"},EVENTCTR:{type:"integer",access:"rw"},CONTROL:{type:"integer",access:"r"}},{STATE:{type:"boolean",access:"rw"},PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"w"},LEVEL:{type:"float",access:"rw"},STOP:{type:"action",access:"w"},OLD_LEVEL:{type:"action",access:"w"},MOTION:{type:"boolean",access:"r"},SEND_CMD:{type:"string",access:"w"},RCVS:{type:"string",
access:"r"},RCVL:{type:"string",access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}},{MOTION:{type:"boolean",access:"r"},BRIGHTNESS:{type:"float",access:"r"}}]},CAPACITIVE_FILLING_LEVEL_SENSOR:{_level:29,datapoints:[{FILLING_LEVEL:{type:"float",access:"r"},FREQ:{type:"float",access:"r"}}]},SENSOR:{_level:37,datapoints:[{STATE:{type:"boolean",access:"rw"},VALUE:{type:"integer",access:"rw"},ON_TIME:{type:"float",access:"rw",unit:"s"},WORKING:{type:"boolean",access:"r"},
EVENTCTR:{type:"integer",access:"rw"},CONTROL:{type:"integer",access:"r"}},{COUNTER:{type:"integer",access:"r"},SUM:{type:"float",access:"r"},MEAN5MINUTES:{type:"float",access:"r"},MAX5MINUTES:{type:"float",access:"r"},SUM_1H:{type:"float",access:"r"},MAX_1H:{type:"float",access:"r"},SUM_24H:{type:"float",access:"r"},MAX_24H:{type:"float",access:"r"},MISS_24H:{type:"integer",access:"r"},METER:{type:"float",access:"r"},CONTROL:{type:"integer",access:"r"}},{COUNTER:{type:"integer",access:"r"},SUM:{type:"float",
access:"r"},LAST_VALUE:{type:"float",access:"r"},LAST_TICKS:{type:"float",access:"r"},UNITSPTURN:{type:"float",access:"r"},METER:{type:"float",access:"r"},SUM_1H:{type:"float",access:"r"},SUM_24H:{type:"float",access:"r"},CONTROL:{type:"integer",access:"r"}},{STATE:{type:"boolean",access:"r"}},{STATE:{type:"boolean",access:"r"},COUNTER:{type:"integer",access:"r"}},{DISTANCE:{type:"float",access:"r",unit:"cm"},F_PERCENT:{type:"integer",access:"r",unit:"%"},F_LEVEL:{type:"float",access:"r",unit:"cm"},
F_VOLUME:{type:"float",access:"r",unit:"l"},RELAIS1:{type:"boolean",access:"r"},RELAIS2:{type:"boolean",access:"r"}},{INFO:{type:"string",access:"r"},COUNTER:{type:"integer",access:"r"},METER:{type:"float",access:"r"},SUM_24H:{type:"float",access:"r"},SUM:{type:"float",access:"r"},SUM_DATE:{type:"string",access:"r"},SUM_RESET:{type:"action",access:"w"}},{STATE:{type:"boolean",access:"r"},NOTIFICATION:{type:"action",access:"e"}},{MODE:{type:"integer",access:"rw",special:{0:"auto",1:"heat",3:"cool",
9:"fan_only",14:"dry"}},VANE:{type:"integer",access:"rw",special:{11:"vertical",12:"horizontal",13:"both",14:"stop"}},SPEED:{type:"integer",access:"rw",special:{0:"auto",1:"low",2:"mid1",3:"mid2",4:"mid3",5:"high"}},ROOM:{type:"option",access:"rw",special:{0:"occupied",1:"standy",2:"unoccupied",3:"off"}}}]},POWERMETER:{_level:38,datapoints:[{POWER:{type:"float",access:"r",unit:"W"},ENERGY_COUNTER:{type:"float",access:"r",unit:"kWh/Wh"},SUM_1H:{type:"float",access:"r"},SUM_24H:{type:"float",access:"r"},
VOLTAGE:{type:"float",access:"r",unit:"V"}}]},DANGER:{_level:44,datapoints:[{STATE:{type:"boolean",access:"rw"},VALUE:{type:"integer",access:"rw"},ON_TIME:{type:"float",access:"rw",unit:"s"},WORKING:{type:"boolean",access:"r"},EVENTCTR:{type:"integer",access:"rw"},CONTROL:{type:"integer",access:"r"}},{STATE:{type:"boolean",access:"rw"},PRESS_SHORT:{type:"action",access:"we"},PRESS_LONG:{type:"action",access:"w"},LEVEL:{type:"float",access:"rw"},STOP:{type:"action",access:"w"},OLD_LEVEL:{type:"action",
access:"w"},MOTION:{type:"boolean",access:"r"},SEND_CMD:{type:"string",access:"w"},RCVS:{type:"string",access:"r"},RCVL:{type:"string",access:"r"},CONTROL:{type:"integer",access:"r"},SET_STATE:{type:"float",access:"w"}}]},EVENT_INTERFACE:{_level:45,datapoints:[{STATE:{type:"action",access:"w"},VALUE:{type:"integer",access:"rw"},ON_TIME:{type:"float",access:"rw",unit:"s"},WORKING:{type:"boolean",access:"r"},EVENTCTR:{type:"integer",access:"rw"},CONTROL:{type:"integer",access:"r"}}]},RELAIS:{_level:45,
datapoints:[{STATE:{type:"boolean",access:"rw"},VALUE:{type:"integer",access:"r"},TRANS:{type:"string",access:"r"},ON_TIME:{type:"float",access:"r",unit:"s"},RAMP_TIME:{type:"float",access:"r",unit:"s"}}]},WRAPPER:{_level:46,datapoints:[{"[DATAPT]":{type:"float",access:"r"},MEDIAN:{type:"float",access:"r"},MEAN:{type:"float",access:"r"},SET_STATE:{type:"float",access:"w"}}]},SYSTEM:{_level:47,datapoints:[{STATE:{type:"action",access:"we"},HOLD:{type:"action",access:"w"}}]},POWER:{_level:48,datapoints:[{BAT_VOLTAGE:{type:"float",
access:"r"}}]},ENOCEAN_WEATHER2:{_level:49,datapoints:[{BRIGHTNESS_WEST:{type:"integer",access:"r",unit:"lx"},BRIGHTNESS_SOUTH:{type:"integer",access:"r",unit:"lx"},BRIGHTNESS_EAST:{type:"integer",access:"r",unit:"lx"}}]},ENOCEAN_SENSOR_ERROR:{_level:50,datapoints:[{ERROR:{type:"string",access:"r"}}]},ENOCEAN_Bidi_Switch2:{_level:51,datapoints:[{STATE:{type:"boolean",access:"r"}}]}};
xnm.aio.hm.CUxDMAP={KEY:{PRESS_SHORT:{command:[{type:"enum",name:"short press",ref:{value:"pressShort"}}]},PRESS_LONG:{command:[{type:"enum",name:"long press",ref:{value:"pressLong"}}]},CMD_RUNS:{command:[{type:"enum",name:"short press command",ref:{value:"cmdShort"}}]},CMD_RUNL:{command:[{type:"enum",name:"long press command",ref:{value:"cmdLong"}}]}},SWITCH:{STATE:{command:[{type:"enum",name:"on",ref:{value:"on"}},{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"toggle",ref:{value:"toggle"}}],
status:[{type:"enum",name:"switch status",ref:{value:"switchState",options:["off","on"]}}]},POWER:{status:[{type:"float",name:"switch power",ref:{value:"switchPower"}}]},ENERGY_COUNTER:{status:[{type:"float",name:"switch energy counter",ref:{value:"switchEnergyCount"}}]},NIGHT_MODE:{command:[{type:"enum",name:"night mode on",ref:{value:"switchNightOn"}},{type:"enum",name:"night mode off",ref:{value:"switchNightOff"}},{type:"enum",name:"night mode toggle",ref:{value:"switchNightToggle"}}]},INFO_LED:{command:[{type:"enum",
name:"led off",ref:{value:"switchLedOff"}},{type:"enum",name:"led green",ref:{value:"switchLedGreen"}},{type:"enum",name:"led oragne",ref:{value:"switchLedOrange"}},{type:"enum",name:"led red",ref:{value:"switchLedRed"}}]}},DIMMER:{LEVEL:{command:[{type:"enum",name:"off",ref:{value:"dimOff"}},{type:"enum",name:"dim up",ref:{value:"dimUp"}},{type:"enum",name:"dim down",ref:{value:"dimDown"}},{type:"int",name:"dim to",ref:{value:"dimRaw",ext:"%d",extMeta:"0-100"}}],status:[{type:"int",name:"dimmer status",
ref:{value:"dimmerLevel"}}]},OLD_LEVEL:{command:[{type:"enum",name:"on",ref:{value:"dimOn"}}]},TOGGLE:{command:[{type:"enum",name:"on",ref:{value:"dimToggle"}}]},POWER:{status:[{type:"float",name:"dimmer power",ref:{value:"dimPower"}}]},ENERGY_COUNTER:{status:[{type:"float",name:"dimmer energy counter",ref:{value:"dimEnergyCount"}}]}},BLIND:{LEVEL:{command:[{type:"enum",name:"move up",ref:{value:"blindUp"}},{type:"enum",name:"move down",ref:{value:"blindDown"}},{type:"enum",name:"step up",ref:{value:"blindStepUp"}},
{type:"enum",name:"step down",ref:{value:"blindStepDown"}},{type:"int",name:"move to",ref:{value:"blindRaw",ext:"%d",extMeta:"0-100"}}],status:[{type:"int",name:"blind status",ref:{value:"blindLevel"}}]},STOP:{command:[{type:"enum",name:"stop",ref:{value:"blindStop"}}]}},CLIMATECONTROL_REGULATOR:{SETPOINT:{command:[{type:"enum",name:"temperature up",ref:{value:"themoRTempUp"}},{type:"enum",name:"temperature down",ref:{value:"themoRTempDown"}},{type:"enum",name:"close",ref:{value:"themoRTempClose"}},
{type:"enum",name:"open",ref:{value:"themoRTempOpen"}},{type:"float",name:"temperature to",ref:{value:"themoRTempRaw",ext:"%f",extMeta:"5-30",scale:"0.5"}}],status:[{type:"float",name:"set temperature",ref:{value:"themoRSetTemp",extMeta:"5-30",scale:"0.5"}}]},STATE:{command:[{type:"enum",name:"valve open",ref:{value:"themoRValveOpen"}},{type:"enum",name:"valve close",ref:{value:"themoRValveClose"}}]},MODE_TEMPERATUR_REGULATOR:{command:[{type:"enum",name:"auto",ref:{value:"themoRModeAuto"}},{type:"enum",
name:"manu",ref:{value:"themoRModeManu"}}],status:[{type:"enum",name:"mode",ref:{value:"themoRMode",options:["auto","manu","party"]}}]},TEMPERATUR_COMFORT_VALUE:{command:[{type:"float",name:"comfort temperature to",ref:{value:"themoRComfortTempRaw",ext:"%f",extMeta:"5-30",scale:"0.5"}}],status:[{type:"float",name:"comfort temperature",ref:{value:"themoRComfortTemp",extMeta:"5-30",scale:"0.5"}}]},TEMPERATUR_LOWERING_VALUE:{command:[{type:"float",name:"lowering temperature to",ref:{value:"themoRLowerTempRaw",
ext:"%f",extMeta:"5-30",scale:"0.5"}}],status:[{type:"float",name:"lowering temperature",ref:{value:"themoRLowerTemp",extMeta:"5-30",scale:"0.5"}}]},TEMPERATUR_WINDOW_OPEN_VALUE:{command:[{type:"float",name:"win open temperature to",ref:{value:"themoRWinTempRaw",ext:"%f",extMeta:"5-30",scale:"0.5"}}],status:[{type:"float",name:"win open temperature",ref:{value:"themoRWinTemp",extMeta:"5-30",scale:"0.5"}}]},PARTY_END_TIME:{command:[{type:"string",name:"party end time",ref:{value:"themoRSetPartyEnd",
ext:"%s"}}],status:[{type:"string",name:"party end time",ref:{value:"themoRPartyEnd"}}]},VALVE_STATE:{command:[{type:"int",name:"valve state",ref:{value:"themoRValveState",ext:"%d"}}]},SUMMER_MODE:{command:[{type:"enum",name:"summer mode on",ref:{value:"themoRSummerOn"}},{type:"enum",name:"summer mode off",ref:{value:"themoRSummerOff"}},{type:"enum",name:"summer mode toggle",ref:{value:"themoRSummerToggle"}}],status:[{type:"enum",name:"summer mode",ref:{value:"themoRSummer",options:["off","on"]}}]}},
CLIMATECONTROL_VENT_DRIVE:{VALVE_STATE:{status:[{type:"int",name:"valve state",ref:{value:"valveState"}}]},VALVE_OFFSET_VALUE:{status:[{type:"float",name:"valve offset",ref:{value:"valveOffset"}}]},TEMPERATURE:{status:[{type:"float",name:"temperature",ref:{value:"valveTemperature"}}]},ALARM:{status:[{type:"enmu",name:"alarm",ref:{value:"valveAlamr",options:["ok","alarm"]}}]}},WEATHER:{TEMPERATURE:{status:[{type:"float",name:"temperature",ref:{value:"weatherTemp"}}]},HUMIDITY:{status:[{type:"int",
name:"humidity",ref:{value:"weatherHum"}}]},TEMP_MIN_24H:{status:[{type:"float",name:"min temperature 24h",ref:{value:"weatherMinTemp"}}]},TEMP_MAX_24H:{status:[{type:"float",name:"max temperature 24h",ref:{value:"weatherMaxTemp"}}]},HUM_MIN_24H:{status:[{type:"float",name:"min humidity 24h",ref:{value:"weatherMinHum"}}]},HUM_MAX_24H:{status:[{type:"float",name:"max humidity 24h",ref:{value:"weatherMaxHum"}}]},HUMIDITYF:{status:[{type:"float",name:"humidity (float)",ref:{value:"weatherHumF"}}]},DEW_POINT:{status:[{type:"float",
name:"dew point",ref:{value:"weatherDew"}}]},ABS_HUMIDITY:{status:[{type:"float",name:"absolute humidity",ref:{value:"weatherHumAbs"}}]},RAINING:{status:[{type:"enum",name:"raining",ref:{value:"weatherRaining",options:["true","false"]}}]},RAIN_CTR:{status:[{type:"float",name:"rain counter",ref:{value:"weatherRainCounter"}}]},WIND_SPEED:{status:[{type:"float",name:"wind speed",ref:{value:"weatherWindS"}}]},BRIGHTNESS:{status:[{type:"int",name:"brightness",ref:{value:"weatherBright"}}]},BAT_VOLTAGE:{status:[{type:"float",
name:"battery voltage",ref:{value:"weatherBatVolt"}}]}},ROTARY_HANDLE_SENSOR:{STATE:{status:[{type:"enum",name:"handle state",ref:{value:"handleState",options:["closed","tilted","open"]}}]}},SHUTTER_CONTACT:{STATE:{status:[{type:"enum",name:"shutter state",ref:{value:"shutterState",options:["closed","open"]}}]}},MOTION_DETECTOR:{MOTION:{status:[{type:"enum",name:"state",ref:{value:"motionState",options:["on","off"]}}]},BRIGHTNESS:{status:[{type:"float",name:"brightness",ref:{value:"motionBright"}}]}},
CAPACITIVE_FILLING_LEVEL_SENSOR:{FILLING_LEVEL:{status:[{type:"float",name:"level",ref:{value:"fillingLevel"}}]}},SENSOR:{STATE:{status:[{type:"enum",name:"state",ref:{value:"sensorState",options:["false","true"]}}]},SUM:{status:[{type:"float",name:"meter sum",ref:{value:"sensorSum"}}]},MEAN5MINUTES:{status:[{type:"float",name:"meter mean value (5 min)",ref:{value:"sensorMean5min"}}]},MAX5MINUTES:{status:[{type:"float",name:"meter max value (5 min)",ref:{value:"sensorMax5min"}}]},SUM_1H:{status:[{type:"float",
name:"meter sum (1h)",ref:{value:"sensorSum1h"}}]},MAX_1H:{status:[{type:"float",name:"meter max value (1h)",ref:{value:"sensorMax1h"}}]},SUM_24H:{status:[{type:"float",name:"meter sum (24h)",ref:{value:"sensorSum24h"}}]},MAX_24H:{status:[{type:"float",name:"meter max value (24hn)",ref:{value:"sensorMax24h"}}]},METER:{status:[{type:"float",name:"meter value",ref:{value:"sensorMeter"}}]},LAST_VALUE:{status:[{type:"float",name:"meter last value",ref:{value:"sensorLastValue"}}]},DISTANCE:{status:[{type:"float",
name:"water distance",ref:{value:"sensorDistance"}}]},F_PERCENT:{status:[{type:"integer",name:"water fill percent",ref:{value:"sensorFPercent"}}]},F_LEVEL:{status:[{type:"float",name:"water fill level",ref:{value:"sensorFLevel"}}]},F_VOLUME:{status:[{type:"float",name:"water fill volume",ref:{value:"sensorFVolume"}}]},RELAIS1:{status:[{type:"enum",name:"relais1 state",ref:{value:"sensorRelais1",options:["false","true"]}}]},RELAIS2:{status:[{type:"enum",name:"relais2 state",ref:{value:"sensorRelais2",
options:["false","true"]}}]},INFO:{status:[{type:"string",name:"sensor info",ref:{value:"sensorInfo"}}]},SUM_DATE:{status:[{type:"string",name:"meter sum date",ref:{value:"sensorSumDate"}}]},SUM_RESET:{command:[{type:"enum",name:"meter sum reset",ref:{value:"sensorSumReset"}}]},MODE:{command:[{type:"enum",name:"aircon. auto mode",ref:{value:"sensModeAuto"}},{type:"enum",name:"aircon. heat mode",ref:{value:"sensModeHeat"}},{type:"enum",name:"aircon. cool mode",ref:{value:"sensModeCool"}},{type:"enum",
name:"aircon. fan only mode",ref:{value:"sensModeFanOnly"}},{type:"enum",name:"aircon. dry mode",ref:{value:"sensModeDry"}}],status:[{type:"enum",name:"aircon mode",ref:{value:"sensMode",options:["auto","heat","cool","fan_only","dry"]}}]},VANE:{command:[{type:"enum",name:"vertical swing",ref:{value:"sensSwingV"}},{type:"enum",name:"horizontal swing",ref:{value:"sensSwingH"}},{type:"enum",name:"vertical and horizontal swing",ref:{value:"sensSwingVH"}},{type:"enum",name:"stop swing",ref:{value:"sensSwingS"}}],
status:[{type:"enum",name:"swing mode",ref:{value:"sensSwing",options:["vertical","horizontal","both","stop"]}}]},SPEED:{command:[{type:"enum",name:"speed auto",ref:{value:"sensSpeedAuto"}},{type:"enum",name:"speed low",ref:{value:"sensSpeedLow"}},{type:"enum",name:"speed mid1",ref:{value:"sensSpeedMid1"}},{type:"enum",name:"speed mid2",ref:{value:"sensSpeedMid2"}},{type:"enum",name:"speed mid3",ref:{value:"sensSpeedMid3"}},{type:"enum",name:"speed high",ref:{value:"sensSpeedHigh"}}],status:[{type:"enum",
name:"speed",ref:{value:"sensSpeed",options:"auto low mid1 mid2 mid3 high".split(" ")}}]},ROOM:{command:[{type:"enum",name:"occupied",ref:{value:"sensRoomOccu"}},{type:"enum",name:"standby",ref:{value:"sensRoomStandby"}},{type:"enum",name:"unoccupied",ref:{value:"sensRoomUnoccu"}},{type:"enum",name:"off",ref:{value:"sensRoomOff"}}],status:[{type:"enum",name:"room",ref:{value:"sensRoom",options:["occupied","standby","unoccupied","off"]}}]}},POWERMETER:{POWER:{status:[{type:"float",name:"power",ref:{value:"powerMeterPower"}}]},
ENERGY_COUNTER:{status:[{type:"float",name:"energy counter",ref:{value:"powerMeterECount"}}]},SUM_1H:{status:[{type:"float",name:"meter sum (1h)",ref:{value:"powerMeterSum1h"}}]},SUM_24H:{status:[{type:"float",name:"meter sum (24h)",ref:{value:"powerMeterSum24h"}}]},VOLTAGE:{status:[{type:"float",name:"meter voltage",ref:{value:"powerMeterVoltage"}}]}},DANGER:{STATE:{status:[{type:"enum",name:"alarm state",ref:{value:"dangerState",options:["ok","danger"]}}]}},EVENT_INTERFACE:{STATE:{command:[{type:"enum",
name:"press",ref:{value:"evntIntfPress"}}]}},RELAIS:{STATE:{command:[{type:"enum",name:"on",ref:{value:"relaisOn"}},{type:"enum",name:"off",ref:{value:"relaisOff"}},{type:"enum",name:"toggle",ref:{value:"relaisToggle"}}],status:[{type:"enum",name:"relais status",ref:{value:"relaisState",options:["off","on"]}}]}},WRAPPER:{"[DATAPT]":{status:[{type:"float",name:"value",ref:{value:"wrapperValue"}}]}},SYSTEM:{STATE:{command:[{type:"enum",name:"press",ref:{value:"systemPress"}}]}},FHT_Multiventil_Dimmer:{LEVEL:{command:[{type:"enum",
name:"off",ref:{value:"valveOff"}},{type:"enum",name:"valve up",ref:{value:"valveUp"}},{type:"enum",name:"valve down",ref:{value:"valveDown"}},{type:"int",name:"valve to",ref:{value:"valveRaw",ext:"%d",extMeta:"0-100"}}],status:[{type:"float",name:"valve status",ref:{value:"valveLevel"}}]},OLD_LEVEL:{command:[{type:"enum",name:"on",ref:{value:"valveOn"}}]}},POWER:{BAT_VOLTAGE:{status:[{type:"float",name:"battery voltage",ref:{value:"powBatVolt"}}]}},HMS_100_Contact:{STATE:{status:[{type:"enum",name:"state",
ref:{value:"hmsContactState",options:["close","open"]}}]}},Security_Sensor:{STATE:{status:[{type:"enum",name:"state",ref:{value:"securityState",options:["ok","danger"]}}]}},FHT_Contact:{STATE:{status:[{type:"enum",name:"state",ref:{value:"fhtContactState",options:["close","open"]}}]}},ENOCEAN_WEATHER2:{BRIGHTNESS_WEST:{status:[{type:"int",name:"brightness west",ref:{value:"eoWeather2BrightW"}}]},BRIGHTNESS_SOUTH:{status:[{type:"int",name:"brightness south",ref:{value:"eoWeather2BrightS"}}]},BRIGHTNESS_EAST:{status:[{type:"int",
name:"brightness east",ref:{value:"eoWeather2BrightE"}}]}},ENOCEAN_SENSOR_ERROR:{ERROR:{status:[{type:"string",name:"error",ref:{value:"eoSensorErr"}}]}},ENOCEAN_Bidi_Switch2:{STATE:{status:[{type:"enum",name:"cosumer state",ref:{value:"bidiSwitch2State",options:["off","on"]}}]}}};
xnm.aio.hm.HMIP_TYPE={"HMIP-PS":0,"HmIP-PCBS":0,"HmIP-PCBS-BAT":0,"HMIP-SWD":1,"HMIP-SWDO":1,"Contact AA":1,"HMIP-WTH":2,"HmIP-WTH-2":2,"HmIP-STH":2,"HmIP-STHD":2,"HMIP-eTRV":3,"HmIP-eTRV-2":3,"HmIP-eTRV-2-UK":3,"HMIP-WRC2":4,"HMIP-KRC4":4,"HmIP-WRC6":4,"HmIP-SMI":5,"HmIP-SMO":5,"HmIP-SMO-A":5,"HmIP-SRH":6,"HMIP-PSM":7,"HmIP-PSM-UK":7,"HmIP-PSM-IT":7,"HmIP-PSM-CH":7,"Smart Plug AA":7,"HmIP-SWSD":8,"Smoke Detektor":8,"HmIP-BSM":9,"HmIP-FSM":9,"HmIP-BDT":10,"HmIP-ASIR":11,"HmIP-PDT":10,"HmIP-BROLL":12,
"HmIP-FROLL":12,"HmIP-BBL":13,"HmIP-FBL":13,"HmIP-SPI":14,"HmIP-FAL230-C6":15,"HmIP-FAL24-C6":15,"HmIP-FAL230-C10":15,"HmIP-FAL24-C10":15,"HmIP-SWO-B":16,"HmIP-SWO-PL":17,"HmIP-STHO":18,"HmIP-STHO-A":18,"HmIP-SPDR":19,"HmIP-SWO-PR":20,"HmIP-HEATING":21};
xnm.aio.hm.HMIP_CATAGORY=[{catagory:"IP Schaltaktor",channels:{MAINTENANCE:1,KEY_TRANSCEIVER:0,SWITCH_TRANSMITTER:0,SWITCH_VIRTUAL_RECEIVER:0}},{catagory:"IP T\u00fcr-/Fensterkontakt",channels:{MAINTENANCE:0,SHUTTER_CONTACT:0}},{catagory:"IP Wandthermostat",channels:{MAINTENANCE:0,HEATING_CLIMATECONTROL_TRANSCEIVER:0}},{catagory:"IP Ventilsteuerung",channels:{MAINTENANCE:0,HEATING_CLIMATECONTROL_TRANSCEIVER:1}},{catagory:"IP Wandtaster",channels:{MAINTENANCE:0,KEY_TRANSCEIVER:0}},{catagory:"IP Bewegungsmelder",
channels:{MAINTENANCE:2,MOTIONDETECTOR_TRANSCEIVER:0}},{catagory:"IP Window Handle Sensor",channels:{MAINTENANCE:2,ROTARY_HANDLE_TRANSCEIVER:0}},{catagory:"IP Energiemesssteckdose",channels:{MAINTENANCE:1,ENERGIE_METER_TRANSMITTER:0,SWITCH_VIRTUAL_RECEIVER:0}},{catagory:"IP Rauchmelder",channels:{MAINTENANCE_SD:0,SMOKE_DETECTOR:0}},{catagory:"IP Energiemess-Schaltaktor",channels:{MAINTENANCE:1,SWITCH_TRANSMITTER:0,SWITCH_VIRTUAL_RECEIVER:0,ENERGIE_METER_TRANSMITTER:0}},{catagory:"IP Dimmaktor",channels:{MAINTENANCE:1,
DIMMER_TRANSMITTER:0,DIMMER_VIRTUAL_RECEIVER:0}},{catagory:"IP Alarmsiren",channels:{MAINTENANCE:2,ALARM_SWITCH_VIRTUAL_RECEIVER:0}},{catagory:"IP Rolladenaktor",channels:{MAINTENANCE:1,SHUTTER_TRANSMITTER:0,SHUTTER_VIRTUAL_RECEIVER:0}},{catagory:"IP Jalousieaktor",channels:{MAINTENANCE:1,BLIND_TRANSMITTER:0,BLIND_VIRTUAL_RECEIVER:0}},{catagory:"IP Presencemelder",channels:{MAINTENANCE:2,PRESENCEDETECTOR_TRANSCEIVER:0}},{catagory:"IP Fussbodenheizung",channels:{MAINTENANCE:1,CLIMATECONTROL_FLOOR_PUMP_TRANSCEIVER:0,
CLIMATECONTROL_FLOOR_TRANSCEIVER:0}},{catagory:"IP Weather Sensor Basic",channels:{MAINTENANCE:0,WEATHER_TRANSMIT:0}},{catagory:"IP Weather Sensor Plus",channels:{MAINTENANCE:0,WEATHER_TRANSMIT:1}},{catagory:"IP Temperature and Humidity Sensor - Outdoor",channels:{MAINTENANCE:0,CLIMATE_TRANSCEIVER:0}},{catagory:"IP Passage Sensor with Direction Recognition",channels:{MAINTENANCE:0,PASSAGE_DETECTOR_DIRECTION_TRANSMITTER:0}},{catagory:"IP Weather Sensor Pro",channels:{MAINTENANCE:0,WEATHER_TRANSMIT:2}},
{catagory:"IP Heizgrupp",channels:{MAINTENANCE:0,HEATING_CLIMATECONTROL_TRANSCEIVER:0,ROTARY_HANDLE_TRANSCEIVER:0,SWITCH_TRANSMITTER:0}}];
xnm.aio.hm.HMIP_CHANNEL={MAINTENANCE:{_level:0,datapoints:[{UNREACH:{type:"boolean",access:"re"},OPERATING_VOLTAGE:{type:"float",access:"re"},DUTY_CYCLE:{type:"boolean",access:"re"},LOW_BAT:{type:"boolean",access:"re"}},{UNREACH:{type:"boolean",access:"re"},OPERATING_VOLTAGE:{type:"float",access:"re"},DUTY_CYCLE:{type:"boolean",access:"re"}},{UNREACH:{type:"boolean",access:"re"},SABOTAGE:{type:"boolean",access:"re"},DUTY_CYCLE:{type:"boolean",access:"re"},LOW_BAT:{type:"boolean",access:"re"}}]},KEY_TRANSCEIVER:{_level:1,
datapoints:[{PRESS_SHORT:{type:"action",access:"e"},PRESS_LONG:{type:"action",access:"e"}}]},SWITCH_TRANSMITTER:{_level:2,datapoints:[{PROCESS:{type:"option",access:"re",values:{}},SECTION:{type:"integer",access:"re"},STATE:{type:"boolean",access:"re"}}]},SWITCH_VIRTUAL_RECEIVER:{_level:3,datapoints:[{PROCESS:{type:"option",access:"re",values:{}},SECTION:{type:"integer",access:"re"},STATE:{type:"boolean",access:"rwe"}}]},SHUTTER_CONTACT:{_level:4,datapoints:[{STATE:{type:"option",access:"re",values:{0:"closed",
1:"open"}}}]},HEATING_CLIMATECONTROL_TRANSCEIVER:{_level:5,datapoints:[{ACTIVE_PROFILE:{type:"integer",access:"rwe",min:1,max:6},ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-10,max:56,unit:"\u00b0C"},BOOST_MODE:{type:"boolean",access:"rwe"},CONTROL_DIFFERENTIAL_TE:{type:"float",access:"we"},CONTROL_MODE:{type:"option",access:"we",values:{0:"AUTO-MODE",1:"MANU-MODE"}},DURATION_UNIT:{type:"string",access:"w"},DURATION_VALUE:{type:"integer",access:"w"},FROST_PROTECTION:{type:"boolean",access:"re"},
HUMIDITY:{type:"integer",access:"re",min:0,max:99,unit:"%"},PARTY_MODE:{type:"boolean",access:"re"},PARTY_SET_POINT_TEMPERA:{type:"float",access:"re"},PARTY_TIME_END:{type:"string",access:"rwe"},PARTY_TIME_START:{type:"string",access:"rwe"},SET_POINT_MODE:{type:"option",access:"rwe",values:{0:"AUTO-MODE",1:"MANU-MODE"}},SET_POINT_TEMPERATURE:{type:"float",access:"rwe",min:4.5,max:30.5,unit:"\u00b0C"},SWITCH_POINT_OCCURED:{type:"boolean",access:"re"},WINDOW_STATE:{type:"option",access:"rwe",values:{0:"unknow",
1:"unknow"}}},{ACTIVE_PROFILE:{type:"integer",access:"rwe",min:1,max:3},ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-10,max:56,unit:"\u00b0C"},BOOST_MODE:{type:"boolean",access:"rwe"},CONTROL_DIFFERENTIAL_TE:{type:"float",access:"we"},CONTROL_MODE:{type:"option",access:"we",values:{0:"AUTO-MODE",1:"MANU-MODE"}},DURATION_UNIT:{type:"string",access:"w"},DURATION_VALUE:{type:"integer",access:"w"},FROST_PROTECTION:{type:"boolean",access:"re"},LEVEL:{type:"float",access:"rwe",min:0,max:1},PARTY_MODE:{type:"boolean",
access:"re"},PARTY_SET_POINT_TEMPERA:{type:"float",access:"re"},PARTY_TIME_END:{type:"string",access:"rwe"},PARTY_TIME_START:{type:"string",access:"rwe"},SET_POINT_MODE:{type:"option",access:"rwe",values:{0:"AUTO-MODE",1:"MANU-MODE"}},SET_POINT_TEMPERATURE:{type:"float",access:"rwe",min:4.5,max:30.5,unit:"\u00b0C"},SWITCH_POINT_OCCURED:{type:"boolean",access:"re"},VALVE_ADAPTION:{type:"boolean",access:"we"},VALVE_STATE:{type:"option",access:"re",values:{}},WINDOW_STATE:{type:"option",access:"rwe",
values:{0:"closed",1:"open"}}}]},MOTIONDETECTOR_TRANSCEIVER:{_level:6,datapoints:[{ILLUMINATION:{type:"float",access:"re"},MOTION:{type:"boolean",access:"re"},RESET_MOTION:{type:"action",access:"w"},MOTION_DETECTION_ACTIVE:{type:"boolean",access:"rwe"}}]},SHUTTER_CONTACT_TRANSCEIVER:{_level:7,datapoints:[{STATE:{type:"option",access:"re",values:{0:"closed",1:"open"}}}]},ENERGIE_METER_TRANSMITTER:{_level:8,datapoints:[{FREQUENCY:{type:"float",access:"re",min:48.72,max:51.27,unit:"Hz"},POWER:{type:"float",
access:"re",min:0,max:167772.15,unit:"W"},VOLTAGE:{type:"float",access:"re",min:0,max:6553.5,unit:"V"},ENERGY_COUNTER:{type:"float",access:"re",min:0,max:838860.7,unit:"Wh"},CURRENT:{type:"float",access:"re",min:0,max:65535,unit:"mA"}}]},MAINTENANCE_SD:{_level:9,datapoints:[{UNREACH:{type:"boolean",access:"re"},TIME_OF_OPERATION:{type:"integer",access:"re"},DUTY_CYCLE:{type:"boolean",access:"re"},LOW_BAT:{type:"boolean",access:"re"}}]},SMOKE_DETECTOR:{_level:10,datapoints:[{SMOKE_DETECTOR_COMMAND:{type:"option",
access:"w"},ERROR_CODE:{type:"integer",access:"re"},SMOKE_DETECTOR_EVENT:{type:"option",access:"w"},SMOKE_DETECTOR_ALARM_STATUS:{type:"option",access:"re"},SMOKE_DETECTOR_TEST_RESULT:{type:"option",access:"re"}}]},DIMMER_TRANSMITTER:{_level:11,datapoints:[{PROCESS:{type:"option",access:"re",values:{0:"STABLE",1:"NOT_STABLE"}},SECTION:{type:"integer",access:"re",min:0,max:15},LEVEL:{type:"float",access:"re",min:0,max:1.005}}]},DIMMER_VIRTUAL_RECEIVER:{_level:12,datapoints:[{ON_TIME:{type:"float",access:"w",
min:0,max:858E4},PROCESS:{type:"option",access:"re",values:{0:"STABLE",1:"NOT_STABLE"}},RAMP_TIME:{type:"float",access:"w",min:0,max:858E4},SECTION:{type:"integer",access:"re",min:0,max:15},LEVEL:{type:"float",access:"rwe",min:0,max:1.005}}]},ALARM_SWITCH_VIRTUAL_RECEIVER:{_level:13,datapoints:[{ACOUSTIC_ALARM_SELECTION:{type:"option",access:"w",values:{0:"DISABLE_ACOUSTIC_SIGNAL",1:"FREQUENCY_RISING",2:"FREQUENCY_FALLING",3:"FREQUENCY_RISING_AND_FALLING",4:"FREQUENCY_ALTERNATING_LOW_HIGH",5:"FREQUENCY_ALTERNATING_LOW_MID_HIGH",
6:"FREQUENCY_HIGHON_OFF",7:"FREQUENCY_HIGHON_LONGOFF",8:"FREQUENCY_LOWON_OFF_HIGHON_OFF",9:"FREQUENCY_LOWON_LONGOFF_HIGHON_LONGOFF",10:"LOW_BATTERY",11:"DISARMED",12:"INTERNALLY_ARMED",13:"EXTERNALLY_ARMED",14:"DELAYED_INTERNALLY_ARMED",15:"DELAYED_EXTERNALLY_ARMED",16:"EVENT",17:"ERROR"}},OPTICAL_ALARM_SELECTION:{type:"option",access:"w",values:{0:"DISABLE_OPTICAL_SIGNAL",1:"BLINKING_ALTERNATELY_REPEATING",2:"BLINKING_BOTH_REPEATING",3:"DOUBLE_FLASHING_REPEATING",4:"FLASHING_BOTH_REPEATING",5:"CONFIRMATION_SIGNAL_0",
6:"CONFIRMATION_SIGNAL_1",7:"CONFIRMATION_SIGNAL_2"}},PROCESS:{type:"option",access:"re",values:{0:"STABLE",1:"NOT_STABLE"}},STATE:{type:"boolean",access:"re"},SECTION:{type:"integer",access:"re",min:0,max:15},DURATION_UNIT:{type:"option",access:"w",values:{0:"S",1:"M",2:"H",3:"D"}},DURATION_VALUE:{type:"integer",access:"w",min:0,max:16343}}]},ROTARY_HANDLE_TRANSCEIVER:{_level:14,datapoints:[{STATE:{type:"option",access:"re",values:{0:"CLOSED",1:"TILTED",2:"OPEN"}}}]},SHUTTER_TRANSMITTER:{_level:15,
datapoints:[{SELF_CALIBRATION:{type:"option",access:"w",values:{0:"STOP",1:"START"}},PROCESS:{type:"option",access:"re",values:{0:"STABLE",1:"NOT_STABLE"}},SECTION:{type:"integer",access:"re",min:0,max:15},LEVEL:{type:"float",access:"re",min:0,max:1.005},SELF_CALIBRATION_RESULT:{type:"boolean",access:"re"}}]},SHUTTER_VIRTUAL_RECEIVER:{_level:16,datapoints:[{STOP:{type:"action",access:"w"},PROCESS:{type:"option",access:"re",values:{0:"STABLE",1:"NOT_STABLE"}},SECTION:{type:"integer",access:"re",min:0,
max:15},LEVEL:{type:"float",access:"rwe",min:0,max:1.005}}]},BLIND_TRANSMITTER:{_level:17,datapoints:[{PROCESS:{type:"option",access:"re",values:{0:"STABLE",1:"NOT_STABLE"}},SECTION:{type:"integer",access:"re",min:0,max:15},LEVEL:{type:"float",access:"re",min:0,max:1.005},LEVEL_2:{type:"float",access:"re",min:0,max:1.005}}]},BLIND_VIRTUAL_RECEIVER:{_level:18,datapoints:[{STOP:{type:"action",access:"w"},PROCESS:{type:"option",access:"re",values:{0:"STABLE",1:"NOT_STABLE"}},SECTION:{type:"integer",
access:"re",min:0,max:15},LEVEL:{type:"float",access:"rwe",min:0,max:1.005},LEVEL_2:{type:"float",access:"rwe",min:0,max:1.005}}]},PRESENCEDETECTOR_TRANSCEIVER:{_level:19,datapoints:[{CURRENT_ILLUMINATION:{type:"float",access:"re"},ILLUMINATION:{type:"float",access:"re"},PRESENCE_DETECTION_STATE:{type:"boolean",access:"re"},RESET_PRESENCE:{type:"action",access:"w"},PRESENCE_DETECTION_ACTIVE:{type:"boolean",access:"rwe"}}]},CLIMATECONTROL_FLOOR_PUMP_TRANSCEIVER:{_level:20,datapoints:[{HUMIDITY_LIMITER:{type:"boolean",
access:"re"},EMERGENCY_OPERATION:{type:"boolean",access:"re"},FROST_PROTECTION:{type:"boolean",access:"re"},STATE:{type:"boolean",access:"re"},DEW_POINT_ALARM:{type:"boolean",access:"re"},EXTERNAL_CLOCK:{type:"boolean",access:"re"}}]},CLIMATECONTROL_FLOOR_TRANSCEIVER:{_level:21,datapoints:[{HUMIDITY_LIMITER:{type:"boolean",access:"re"},EMERGENCY_OPERATION:{type:"boolean",access:"re"},FROST_PROTECTION:{type:"boolean",access:"re"},STATE:{type:"boolean",access:"re"},DEW_POINT_ALARM:{type:"boolean",access:"re"},
EXTERNAL_CLOCK:{type:"boolean",access:"re"}}]},WEATHER_TRANSMIT:{_level:22,datapoints:[{ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-3276.8,max:3276.7,unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"re",min:0,max:100,unit:"%"},ILLUMINATION:{type:"float",access:"re",min:0,max:163830},SUNSHINEDURATION:{type:"integer",access:"re",min:0,max:16383},SUNSHINEDURATION_OVERFLOW:{type:"boolean",access:"re"},SUNSHINE_THRESHOLD_OVERRUN:{type:"boolean",access:"re"},WIND_SPEED:{type:"float",access:"re",min:0,
max:200},WIND_THRESHOLD_OVERRUN:{type:"boolean",access:"re"}},{ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-3276.8,max:3276.7,unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"re",min:0,max:100,unit:"%"},ILLUMINATION:{type:"float",access:"re",min:0,max:163830},RAINING:{type:"boolean",access:"re"},RAIN_COUNTER:{type:"float",access:"re",min:0,max:1638},RAIN_COUNTER_OVERFLOW:{type:"boolean",access:"re"},SUNSHINEDURATION:{type:"integer",access:"re",min:0,max:16383},SUNSHINEDURATION_OVERFLOW:{type:"boolean",
access:"re"},SUNSHINE_THRESHOLD_OVERRUN:{type:"boolean",access:"re"},WIND_SPEED:{type:"float",access:"re",min:0,max:200},WIND_THRESHOLD_OVERRUN:{type:"boolean",access:"re"}},{ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-3276.8,max:3276.7,unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"re",min:0,max:100,unit:"%"},ILLUMINATION:{type:"float",access:"re",min:0,max:163830},RAINING:{type:"boolean",access:"re"},RAIN_COUNTER:{type:"float",access:"re",min:0,max:1638},RAIN_COUNTER_OVERFLOW:{type:"boolean",
access:"re"},SUNSHINEDURATION:{type:"integer",access:"re",min:0,max:16383},SUNSHINEDURATION_OVERFLOW:{type:"boolean",access:"re"},SUNSHINE_THRESHOLD_OVERRUN:{type:"boolean",access:"re"},WIND_DIR:{type:"float",access:"re",min:0,max:357.5},WIND_DIR_RANGE:{type:"float",access:"re",min:0,max:146.25},WIND_SPEED:{type:"float",access:"re",min:0,max:200},WIND_THRESHOLD_OVERRUN:{type:"boolean",access:"re"}}]},CLIMATE_TRANSCEIVER:{_level:23,datapoints:[{ACTUAL_TEMPERATURE:{type:"float",access:"re",min:-3276.8,
max:3276.7,unit:"\u00b0C"},HUMIDITY:{type:"integer",access:"re",min:0,max:100,unit:"%"}}]},PASSAGE_DETECTOR_DIRECTION_TRANSMITTER:{_level:24,datapoints:[{CURRENT_PASSAGE_DIRECTION:{type:"boolean",access:"re"},LAST_PASSAGE_DIRECTION:{type:"boolean",access:"re"},PASSAGE_COUNTER_OVERFLOW:{type:"boolean",access:"re"},PASSAGE_COUNTER_VALUE:{type:"integer",access:"re",min:0,max:127}}]},GENERIC_INPUT_TRANSMITER:{_level:25,datapoints:[{CHANGE_OVER:{type:"boolean",access:"re"},EXTERNAL_CLOCK:{type:"boolean",
access:"re"},HUMIDITY_LIMITER:{type:"boolean",access:"re"},STATE:{type:"boolean",access:"re"},TACTILE_SWITCH:{type:"boolean",access:"re"},TEMPERATURE_LIMITER:{type:"boolean",access:"re"}}]},ANALOG_OUTPUT_TRANSCEIVER:{_level:26,datapoints:[{LEVEL:{type:"float",access:"rwe",min:0,max:1.005}}]}};
xnm.aio.hm.HMIP_MAP={MAINTENANCE:{UNREACH:{status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}}]},LOW_BAT:{status:[{type:"enum",name:"battery low",ref:{value:"errorBat",options:["false","true"]}}]},SABOTAGE:{status:[{type:"enum",name:"sabotage",ref:{value:"errorSabo",options:["false","true"]}}]}},KEY_TRANSCEIVER:{PRESS_SHORT:{ipevt:[{type:"enum",name:"short press",ref:{value:"pressShort"}}]},PRESS_LONG:{ipevt:[{type:"enum",name:"long press",ref:{value:"pressLong"}}]}},
SWITCH_TRANSMITTER:{STATE:{status:[{type:"enum",name:"switch status",ref:{value:"switchTState",options:["off","on"]}}]}},SWITCH_VIRTUAL_RECEIVER:{STATE:{command:[{type:"enum",name:"on",ref:{value:"on"}},{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"toggle",ref:{value:"toggle"}}],status:[{type:"enum",name:"switch status",ref:{value:"switchState",options:["off","on"]}}]}},HEATING_CLIMATECONTROL_TRANSCEIVER:{ACTIVE_PROFILE:{command:[{type:"int",name:"set profile",ref:{value:"themoProf",
ext:"%d",extMeta:"1-6",scale:"1"}}],status:[{type:"int",name:"profile",ref:{value:"themoProf"}}]},ACTUAL_TEMPERATURE:{status:[{type:"float",name:"actual temperature",ref:{value:"themoActualTemp",extMeta:"-10.0-56.0",scale:"0.1"}}]},BOOST_MODE:{command:[{type:"enum",name:"boost on",ref:{value:"themoBoostOn"}},{type:"enum",name:"boost off",ref:{value:"themoBoostOff"}}],status:[{type:"enum",name:"boost mode",ref:{value:"themoBoostMode",options:["off","on"]}}]},CONTROL_MODE:{command:[{type:"enum",name:"set auto mode",
ref:{value:"themoAutoMode"}},{type:"enum",name:"set manu mode",ref:{value:"themoManuMode"}}]},FROST_PROTECTION:{status:[{type:"enum",name:"frost protection",ref:{value:"themoFrost",options:["off","on"]}}]},HUMIDITY:{status:[{type:"int",name:"humidity",ref:{value:"themoHum"}}]},SET_POINT_MODE:{status:[{type:"enum",name:"mode",ref:{value:"themoMode",options:["auto","manu"]}}]},SET_POINT_TEMPERATURE:{command:[{type:"float",name:"set temperature",ref:{value:"themoTemp",ext:"%f",extMeta:"4.5-30.5",scale:"0.5"}},
{type:"enum",name:"on",ref:{value:"themoTempOn"}},{type:"enum",name:"off",ref:{value:"themoTempOff"}},{type:"enum",name:"temperature up",ref:{value:"themoTempUp"}},{type:"enum",name:"temperature down",ref:{value:"themoTempDown"}}],status:[{type:"float",name:"set temperature",ref:{value:"themoTemp",extMeta:"4.5-30.5",scale:"0.5"}}]},LEVEL:{command:[{type:"int",name:"set valve level",ref:{value:"themoValveLevel",ext:"%d",extMeta:"0-100"}}],status:[{type:"int",name:"valve level",ref:{value:"themoValveLevel"}}]},
WINDOW_STATE:{command:[{type:"enum",name:"set window open",ref:{value:"themoWinOpen"}},{type:"enum",name:"set window close",ref:{value:"themoWinClose"}}],status:[{type:"enum",name:"window state",ref:{value:"themoWinState",options:["open","closed"]}}]}},SHUTTER_CONTACT:{STATE:{status:[{type:"enum",name:"shutter state",ref:{value:"shutterState",options:["closed","open"]}}]}},SHUTTER_CONTACT_TRANSCEIVER:{STATE:{status:[{type:"enum",name:"shutter state",ref:{value:"shutterTState",options:["closed","open"]}}]}},
MOTIONDETECTOR_TRANSCEIVER:{ILLUMINATION:{status:[{type:"float",name:"illumination",ref:{value:"motionIllu"}}]},MOTION:{status:[{type:"enum",name:"state",ref:{value:"motionState",options:["on","off"]}}]},RESET_MOTION:{command:[{type:"enum",name:"reset",ref:{value:"motionReset"}}]},MOTION_DETECTION_ACTIVE:{command:[{type:"enum",name:"activate detection",ref:{value:"motionOn"}},{type:"enum",name:"deactivate detection",ref:{value:"motionOff"}},{type:"enum",name:"toggle detection",ref:{value:"motionToggle"}}],
status:[{type:"enum",name:"detection activated",ref:{value:"motionActivate",options:["off","on"]}}]}},ENERGIE_METER_TRANSMITTER:{ENERGY_COUNTER:{status:[{type:"float",name:"energy counter",ref:{value:"meterEnergyCounter",extMeta:"0.0-838860.7",scale:"0.1"}}]},POWER:{status:[{type:"float",name:"power",ref:{value:"meterPower",extMeta:"0.0-167772.15",scale:"0.01"}}]},CURRENT:{status:[{type:"float",name:"current",ref:{value:"meterCurrent",extMeta:"0.0-65535.0",scale:"0.1"}}]},VOLTAGE:{status:[{type:"float",
name:"voltage",ref:{value:"meterVoltage",extMeta:"0.0-6553.5",scale:"0.1"}}]},FREQUENCY:{status:[{type:"float",name:"frequency",ref:{value:"meterFrequency",extMeta:"48.72-51.27",scale:"0.01"}}]}},MAINTENANCE_SD:{UNREACH:{status:[{type:"enum",name:"communication error",ref:{value:"errorSdComm",options:["false","true"]}}]},LOW_BAT:{status:[{type:"enum",name:"battery low",ref:{value:"errorSdBat",options:["false","true"]}}]}},SMOKE_DETECTOR:{SMOKE_DETECTOR_ALARM_STATUS:{status:[{type:"enum",name:"alarm state",
ref:{value:"smokeState",options:["on","off"]}},{type:"enum",name:"alarm detail",ref:{value:"smokeAlarmDetail",options:["off","primary_alarm","intrusion_alarm","secondary_alarm"]}}]},SMOKE_DETECTOR_COMMAND:{command:[{type:"enum",name:"intrusion alarm off",ref:{value:"intrusionAlarmOff"}},{type:"enum",name:"intrusion alarm on",ref:{value:"intrusionAlarmOn"}}]}},DIMMER_TRANSMITTER:{LEVEL:{status:[{type:"int",name:"dimmer status",ref:{value:"dimmerTLevel",extMeta:"0.0-1.005",unit:"%"}}]}},DIMMER_VIRTUAL_RECEIVER:{LEVEL:{command:[{type:"enum",
name:"on",ref:{value:"dimOn"}},{type:"enum",name:"off",ref:{value:"dimOff"}},{type:"int",name:"dim up",ref:{value:"dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"dim down",ref:{value:"dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"dim to",ref:{value:"dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"toggle to",ref:{value:"toggleTo",ext:"%d",extMeta:"0-100",unit:"%"}}],status:[{type:"int",name:"dimmer status",ref:{value:"dimmerLevel",extMeta:"0-100",unit:"%"}}]}},
ALARM_SWITCH_VIRTUAL_RECEIVER:{STATE:{status:[{type:"enum",name:"alarm state",ref:{value:"alarmState",options:["on","off"]}}]},ACOUSTIC_ALARM_SELECTION:{command:[{type:"enum",name:"set audio",ref:{value:"alarmAudio",ext:"%e",extMeta:"DISABLE_ACOUSTIC_SIGNAL FREQUENCY_RISING FREQUENCY_FALLING FREQUENCY_RISING_AND_FALLING FREQUENCY_ALTERNATING_LOW_HIGH FREQUENCY_ALTERNATING_LOW_MID_HIGH FREQUENCY_HIGHON_OFF FREQUENCY_HIGHON_LONGOFF FREQUENCY_LOWON_OFF_HIGHON_OFF FREQUENCY_LOWON_LONGOFF_HIGHON_LONGOFF LOW_BATTERY DISARMED INTERNALLY_ARMED EXTERNALLY_ARMED DELAYED_INTERNALLY_ARMED DELAYED_EXTERNALLY_ARMED EVENT ERROR".split(" ")}}]},
OPTICAL_ALARM_SELECTION:{command:[{type:"enum",name:"set visual",ref:{value:"alarmVisual",ext:"%e",extMeta:"DISABLE_OPTICAL_SIGNAL BLINKING_ALTERNATELY_REPEATING BLINKING_BOTH_REPEATING DOUBLE_FLASHING_REPEATING FLASHING_BOTH_REPEATING CONFIRMATION_SIGNAL_0 CONFIRMATION_SIGNAL_1 CONFIRMATION_SIGNAL_2".split(" ")}}]},DURATION_UNIT:{command:[{type:"enum",name:"set duration unit",ref:{value:"alarmDurUnit",ext:"%e",extMeta:["S","M","H","D"]}}]},DURATION_VALUE:{command:[{type:"int",name:"set duration",
ref:{value:"alarmDur",ext:"%d",extMeta:"0-16343"}}]}},ROTARY_HANDLE_TRANSCEIVER:{STATE:{status:[{type:"enum",name:"handle state",ref:{value:"handleState",options:["closed","tilted","open"]}}]}},SHUTTER_TRANSMITTER:{LEVEL:{status:[{type:"int",name:"blind status",ref:{value:"blindTLevel",extMeta:"0-100",unit:"%"}}]}},SHUTTER_VIRTUAL_RECEIVER:{STOP:{command:[{type:"enum",name:"stop",ref:{value:"stop"}}]},LEVEL:{command:[{type:"enum",name:"move up",ref:{value:"moveUp"}},{type:"enum",name:"move down",
ref:{value:"moveDown"}},{type:"int",name:"step up",ref:{value:"stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"step down",ref:{value:"stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"move to",ref:{value:"moveTo",ext:"%d",extMeta:"0-100",unit:"%"}}],status:[{type:"int",name:"blind status",ref:{value:"blindLevel",extMeta:"0-100",unit:"%"}}]}},BLIND_TRANSMITTER:{LEVEL:{status:[{type:"int",name:"blind status",ref:{value:"blindTPos",extMeta:"0-100",unit:"%"}}]},LEVEL_2:{status:[{type:"int",
name:"lamella status",ref:{value:"lamellaTPos",extMeta:"0-100",unit:"%"}}]}},BLIND_VIRTUAL_RECEIVER:{STOP:{command:[{type:"enum",name:"stop",ref:{value:"stop"}}]},LEVEL:{command:[{type:"enum",name:"move up",ref:{value:"moveUp"}},{type:"enum",name:"move down",ref:{value:"moveDown"}},{type:"int",name:"step up",ref:{value:"stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"step down",ref:{value:"stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"move to",ref:{value:"moveTo",ext:"%d",
extMeta:"0-100",unit:"%"}}],status:[{type:"int",name:"blind status",ref:{value:"blindPos",extMeta:"0-100",unit:"%"}}]},LEVEL_2:{command:[{type:"enum",name:"lamella up",ref:{value:"lamellaUp"}},{type:"enum",name:"lamella down",ref:{value:"lamellaDown"}},{type:"int",name:"lamella step up",ref:{value:"lamellaStepUp",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"lamella step down",ref:{value:"lamellaStepDown",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"lamella to",ref:{value:"lamellaTo",
ext:"%d",extMeta:"0-100",unit:"%"}}],status:[{type:"int",name:"lamella status",ref:{value:"lamellaPos",extMeta:"0-100",unit:"%"}}]}},PRESENCEDETECTOR_TRANSCEIVER:{ILLUMINATION:{status:[{type:"float",name:"illumination",ref:{value:"presenceIllu"}}]},PRESENCE_DETECTION_STATE:{status:[{type:"enum",name:"state",ref:{value:"presenceState",options:["on","off"]}}]},RESET_PRESENCE:{command:[{type:"enum",name:"reset",ref:{value:"presenceReset"}}]},PRESENCE_DETECTION_ACTIVE:{command:[{type:"enum",name:"activate detection",
ref:{value:"presenceOn"}},{type:"enum",name:"deactivate detection",ref:{value:"presenceOff"}},{type:"enum",name:"toggle detection",ref:{value:"presenceToggle"}}],status:[{type:"enum",name:"detection activated",ref:{value:"presenceActivate",options:["off","on"]}}]}},CLIMATECONTROL_FLOOR_PUMP_TRANSCEIVER:{HUMIDITY_LIMITER:{status:[{type:"enum",name:"humidity limiter",ref:{value:"cl_fp_humidityLimiter",options:["true","false"]}}]},EMERGENCY_OPERATION:{status:[{type:"enum",name:"state",ref:{value:"cl_fp_emergencyOP",
options:["true","false"]}}]},FROST_PROTECTION:{status:[{type:"enum",name:"frost protection",ref:{value:"cl_fp_frostProtection",options:["true","false"]}}]},STATE:{status:[{type:"enum",name:"controlling state",ref:{value:"cl_fp_state",options:["on","off"]}}]}},CLIMATECONTROL_FLOOR_TRANSCEIVER:{HUMIDITY_LIMITER:{status:[{type:"enum",name:"humidity limiter",ref:{value:"cl_f_humidityLimiter",options:["true","false"]}}]},EMERGENCY_OPERATION:{status:[{type:"enum",name:"state",ref:{value:"cl_f_emergencyOP",
options:["true","false"]}}]},FROST_PROTECTION:{status:[{type:"enum",name:"frost protection",ref:{value:"cl_f_frostProtection",options:["true","false"]}}]},STATE:{status:[{type:"enum",name:"controlling state",ref:{value:"cl_f_state",options:["on","off"]}}]}},WEATHER_TRANSMIT:{ACTUAL_TEMPERATURE:{status:[{type:"float",name:"actual temperature",ref:{value:"weatherActualTemp",extMeta:"-3276.8-3276.7",scale:"0.1"}}]},HUMIDITY:{status:[{type:"int",name:"humidity",ref:{value:"weatherHum"}}]},ILLUMINATION:{status:[{type:"float",
name:"brightness",ref:{value:"weatherIllu",extMeta:"0.0-163830.0",scale:"0.1"}}]},SUNSHINEDURATION:{status:[{type:"int",name:"sunshine duration",ref:{value:"weatherSunD",extMeta:"0-163830"}}]},SUNSHINEDURATION_OVERFLOW:{status:[{type:"enum",name:"sunshine duration overflow",ref:{value:"weatherSunDOF",options:["true","false"]}}]},SUNSHINE_THRESHOLD_OVERRUN:{status:[{type:"enum",name:"sunshine threshold overrun",ref:{value:"weatherSunTOR",options:["true","false"]}}]},WIND_SPEED:{status:[{type:"float",
name:"wind speed",ref:{value:"weatherWindS",extMeta:"0.0-200.0"}}]},WIND_THRESHOLD_OVERRUN:{status:[{type:"enum",name:"wind threshold overrun",ref:{value:"weatherWindTOR",options:["true","false"]}}]},WIND_DIR:{status:[{type:"float",name:"wind direction",ref:{value:"weatherWindD",extMeta:"0.0-357.5"}}]},WIND_DIR_RANGE:{status:[{type:"float",name:"wind direction range",ref:{value:"weatherWindDR",extMeta:"0.0-146.25"}}]},RAINING:{status:[{type:"enum",name:"raining",ref:{value:"weatherRain",options:["true",
"false"]}}]},RAIN_COUNTER:{status:[{type:"float",name:"rain counter",ref:{value:"weatherRainC",extMeta:"0.0-1638.0"}}]},RAIN_COUNTER_OVERFLOW:{status:[{type:"enum",name:"rain counter overflow",ref:{value:"weatherRainCOF",options:["true","false"]}}]}},CLIMATE_TRANSCEIVER:{ACTUAL_TEMPERATURE:{status:[{type:"float",name:"actual temperature",ref:{value:"climateActualTemp",extMeta:"-3276.8-3276.7",scale:"0.1"}}]},HUMIDITY:{status:[{type:"int",name:"humidity",ref:{value:"climateHum"}}]}},GENERIC_INPUT_TRANSMITER:{CHANGE_OVER:{status:[{type:"enum",
name:"change over",ref:{value:"genInputChangeOver",options:["true","false"]}}]},EXTERNAL_CLOCK:{status:[{type:"enum",name:"external clock",ref:{value:"genInputExtClock",options:["true","false"]}}]},HUMIDITY_LIMITER:{status:[{type:"enum",name:"humidity limiter",ref:{value:"genInputHumidityLimiter",options:["true","false"]}}]},STATE:{status:[{type:"enum",name:"state",ref:{value:"genInputState",options:["true","false"]}}]},TACTILE_SWITCH:{status:[{type:"enum",name:"tactile swtich",ref:{value:"genInputTactileSwitch",
options:["true","false"]}}]},TEMPERATURE_LIMITER:{status:[{type:"enum",name:"temperature limiter",ref:{value:"genInputTempLimiter",options:["true","false"]}}]}},ANALOG_OUTPUT_TRANSCEIVER:{LEVEL:{command:[{type:"enum",name:"off",ref:{value:"analogOutputOff"}},{type:"int",name:"up",ref:{value:"analogOutputUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"down",ref:{value:"analogOutputDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"output to",ref:{value:"analogOutputTo",ext:"%d",
extMeta:"0-100",unit:"%"}}],status:[{type:"int",name:"output status",ref:{value:"analogOutputLevel",extMeta:"0-100",unit:"%"}}]}}};xnm.aio.hm.DimmerKey={buildCommandScript:function(a,c,d){if(!c.channels||!d.value)return null;a=c.channels[d.ext];if(!a)return null;a="var o;"+('o=dom.GetObject("'+a+'");')+"if(o!=null){o.State(1);}\n";return a+='o="";\n'}};
xnm.aio.hm.Channel={buildCommandScript:function(a,c,d,b){a=xnm.aio.hm.MHMCCU._getDataPointAddress(a,c,d);if(!a)return null;b="var o;"+('o=dom.GetObject("'+a+'");')+b;return b+='o="";\n'},buildStateScript:function(a,c,d){a='o=dom.GetObject("'+xnm.aio.hm.MHMCCU._getDataPointAddress(a,c,d)+'");';return a+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},KEY:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "pressShort":a="PRESS_SHORT";
f="if(o!=null){o.State(1);}\n";break;case "pressLong":a="PRESS_LONG";f="if(o!=null){o.State(1);}\n";break;case "setValue":if(!b.ext)return null;a="SUBMIT";f='if(o!=null){o.State("'+b.ext+'");}\n';break;case "ledOff":a="LED_STATUS";f="if(o!=null){o.State(0);}\n";break;case "ledRed":a="LED_STATUS";f="if(o!=null){o.State(1);}\n";break;case "ledGreen":a="LED_STATUS";f="if(o!=null){o.State(2);}\n";break;case "ledOrange":a="LED_STATUS";f="if(o!=null){o.State(3);}\n";break;case "setAllLed":if(!b.ext)return null;
a="ALL_LEDS";f='if(o!=null){o.State("'+b.ext+'");}\n';break;case "sleepModeOff":a="LED_SLEEP_MODE";f="if(o!=null){o.State(0);}\n";break;case "sleepModeOn":a="LED_SLEEP_MODE";f="if(o!=null){o.State(1);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "ledStatus":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"LED_STATUS")},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "ledStatus":switch(a){case "0":return"off";case "1":return"red";case "2":return"green";case "3":return"orange";default:return"?"}default:return"?"}},resolveState:function(a,c,d){var b;a=d;switch(c.datapoint){case "PRESS_SHORT":b="pressShort";break;case "PRESS_LONG":b="pressLong";break;case "PRESS_LONG_RELEASE":b="pressLongRelease";break;case "PRESS_CONT":b="pressCont";break;case "LED_STATUS":switch(b="ledStatus",d){case "0":a="off";break;case "1":a="red";
break;case "2":a="green";break;case "3":a="orange";break;default:a="?"}}return b?{key:b,value:a}:null}},CENTRAL_KEY:{buildCommandScript:function(a,c,d,b){return xnm.aio.hm.Channel.KEY.buildCommandScript(a,c,d,b)},resolveState:function(a,c,d){return xnm.aio.hm.Channel.KEY.resolveState(a,c,d)}},VIRTUAL_KEY:{buildCommandScript:function(a,c,d,b){return xnm.aio.hm.Channel.KEY.buildCommandScript(a,c,d,b)},resolveState:function(a,c,d){return xnm.aio.hm.Channel.KEY.resolveState(a,c,d)}},INPUT_OUTPUT:{buildCommandScript:function(a,
c,d,b){return xnm.aio.hm.Channel.KEY.buildCommandScript(a,c,d,b)}},SWITCH:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "on":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "off":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "toggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||
!b.value)return null;switch(b.value){case "switchState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "switchState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="switchState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SWITCH_INTERFACE:{buildCommandScript:function(a,c,d,b){if(!c.channels||
!b.value)return null;switch(b.value){case "press":break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,"PRESS","if(o!=null){o.State(1);}\n")}},DIMMER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "dimOn":f="OLD_LEVEL";e="if(o!=null){o.State(1);}\n";break;case "dimOff":f="LEVEL";e="if(o!=null){o.State(0.0);}\n";break;case "dimUp":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"dimmerLevel"}));
e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.Value()+0.1;if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+f/100+"+0.1;if(v>1){v=1.0;}o.State(v);}\n";f="LEVEL";break;case "dimDown":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"dimmerLevel"}));null==f||"undefined"==typeof f?e="if(o!=null){var v=o.Value()-0.1;if(v<0){v=0.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+f+"-0.1;if(v<0){v=0.0;}o.State(v);}\n");f="LEVEL";break;case "dimTo":case "dimRaw":if(null==b.ext||
"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=b.ext;else return null;f="LEVEL";e/=100;e=0>e?0:e;e="if(o!=null){o.State("+(1<e?1:e)+");}\n";break;case "toggleTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if("string"==typeof b.ext)e=b.ext.replace("%",""),e=parseInt(e);else return null;f="LEVEL";e/=100;e=0>e?0:e;e=1<e?1:e;e="if(o!=null){real des = 0.0+o.Value(); if(des == 0.0){o.State("+
e.toFixed(2)+");}else{o.State(0.0);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,c,d,b,f){var e,g=c.address;c.channels&&c.channels.DIMMER&&(e=c.channels.DIMMER.address);var h;if(g&&e)if("dimTo"==d.value||"dimRaw"==d.value||"dimOff"==d.value){c="LEVEL";b=0;switch(d.value){case "dimTo":case "dimRaw":b=parseFloat(d.ext);break;case "dimOff":b=0}a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()};f&&f()}else"dimUp"==
d.value||"dimDown"==d.value?(c="LEVEL",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3)))&&(b=Math.round(1E4*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}),f&&f()):"dimOn"==d.value||"toggleTo"==d.value?(delete a._statebuffer[g+":"+e+".LEVEL"],setTimeout(function(){f&&f()},3E3)):f&&f();else f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "dimmerLevel":f="LEVEL"}return c&&
d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E3<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "dimmerLevel":a="LEVEL";break;case "dimmerDirection":a="DIRECTION";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "dimmerLevel":return a=
parseFloat(a),Math.round(100*a);case "dimmerDirection":switch(a){case "0":return"none";case "1":return"up";case "2":return"down";case "3":return"undefined";default:return"?"}default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="dimmerLevel";break;case "DIRECTION":b="dimmerDirection"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},BLIND:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=
null,f=e=null;switch(b.value){case "blindStepUp":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"blindLevel"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.Value()+0.1;if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+f/100+"+0.1;if(v>1){v=1.0;}o.State(v);}\n";f="LEVEL";break;case "blindStepDown":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"blindLevel"}));null==f||"undefined"==typeof f?e="if(o!=null){var v=o.Value()-0.1;if(v<0){v=0.0;}o.State(v);}\n":
(f/=100,e="if(o!=null){var v="+f+"-0.1;if(v<0){v=0.0;}o.State(v);}\n");f="LEVEL";break;case "blindUp":f="LEVEL";e="if(o!=null){o.State(1.0);}\n";break;case "blindDown":f="LEVEL";e="if(o!=null){o.State(0.0);}\n";break;case "blindTo":case "blindRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=b.ext;else return null;f="LEVEL";e/=100;e=0>e?0:e;e="if(o!=null){o.State("+(1<e?1:e)+");}\n";break;case "blindStop":f=
"STOP";e="if(o!=null){o.State(1);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,c,d,b,f){var e,g;g=c.address;c.channels&&c.channels.BLIND&&(e=c.channels.BLIND.address);var h;if(g&&e)if("blindTo"==d.value||"blindRaw"==d.value){c="LEVEL";b=0;switch(d.value){case "blindTo":case "blindRaw":b=parseInt(d.ext)}a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()};f&&f()}else if("blindUp"==d.value||"blindDown"==d.value)delete a._statebuffer[g+
":"+e+".LEVEL"],setTimeout(function(){f&&f()},3E3);else if("blindStop"==d.value)delete a._statebuffer[g+":"+e+".LEVEL"],f&&f();else{if("blindStepUp"==d.value||"blindStepDown"==d.value)c="LEVEL",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3)))&&(b=Math.round(1E4*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}),f&&f()}else f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "blindLevel":f=
"LEVEL"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?1E4<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "blindLevel":case "blindPosDes":a="LEVEL";break;case "blindDirection":a="DIRECTION";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "blindLevel":case "blindPosDes":a=
parseFloat(a);var d=Math.round(100*a);if("blindLevel"==c.value)return d;if("blindPosDes"==c.value)return 35>=d?"bottom":65>=d?"middle":100>=d?"top":"?";break;case "blindDirection":switch(a){case "0":return"none";case "1":return"up";case "2":return"down";case "3":return"undefined";default:return"?"}default:return"?"}},resolveState:function(a,c,d){switch(c.datapoint){case "LEVEL":var b=[];a="blindLevel";c=this.handleStatusResponse(d+"",{value:a});b.push({key:a,value:c});a="blindPosDes";c=this.handleStatusResponse(d+
"",{value:a});b.push({key:a,value:c});return b;case "DIRECTION":return a="blindDirection",c=this.handleStatusResponse(d+"",{value:a}),{key:a,value:c}}return null}},KEYMATIC:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "keyOpen":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "keyLock":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "keyOpenDo":a="OPEN";f="if(o!=null){o.State(true);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,
d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "keyState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a){return"?"==a?a:"true"==a?"open":"lock"},resolveState:function(a,c,d){switch(c.datapoint){case "STATE":return a=this.handleStatusResponse(d+"",{value:"keyState"}),{key:"keyState",value:a}}return null}},WINMATIC:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;
var f=a=null,f=null;switch(b.value){case "windowUp":a="LEVEL";f="if(o!=null){var v=o.Value()+0.1;if(v>1){v=1.0;}o.State(v);}\n";break;case "windowDown":a="LEVEL";f="if(o!=null){var v=o.Value()-0.1;if(v<0){v=0.0;}o.State(v);}\n";break;case "windowTo":case "windowRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)f=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))f=parseInt(b.ext);else return null;a="LEVEL";f/=100;f=0>f?0:f;f="if(o!=null){o.State("+(1<f?1:f)+");}\n";
break;case "winLock":a="LEVEL";f="if(o!=null){o.State(-0.005);}\n";break;case "winStop":a="STOP";f="if(o!=null){o.State(1);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},handleCommandResponse:function(a,c,d,b,f){"windowTo"==d.value||"windowRaw"==d.value?setTimeout(function(){f&&f()},3E3):f&&f()},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "winLevel":a="LEVEL";break;case "winDirection":a="DIRECTION";break;
case "winError":a="ERROR";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "winLevel":return a=parseFloat(a),-.005>=a?100*a:Math.round(100*a);case "winDirection":switch(a){case "0":return"none";case "1":return"up";case "2":return"down";case "3":return"undefined";default:return"?"}case "winError":switch(a){case "0":return"no_error";case "1":return"motor_turn_error";case "2":return"motor_tilt_error";
default:return"?"}default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="winLevel";break;case "DIRECTION":b="winDirection";break;case "ERROR":b="winError"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},CLIMATECONTROL_RT_TRANSCEIVER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "themoTempUp":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,
d,{value:"themoSetTemp"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.State()+1;if(v>30.5){v=30.5;}o.State(v);}\n":"if(o!=null){var v="+f+"+1;if(v>30.5){v=30.5;}o.State(v);}\n";f="SET_TEMPERATURE";break;case "themoTempDown":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"themoSetTemp"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.State()-1;if(v<4.5){v=4.5;}o.State(v);}\n":"if(o!=null){var v="+f+"-1;if(v<4.5){v=4.5;}o.State(v);}\n";f="SET_TEMPERATURE";break;
case "themoTempTo":case "themoTempRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=parseFloat(b.ext);else return null;f="SET_TEMPERATURE";e=4.5>e?4.5:e;e="if(o!=null){o.State("+(30.5<e?30.5:e)+");}\n";break;case "themoTempOff":f="SET_TEMPERATURE";e="if(o!=null){o.State(4.5);}\n";break;case "themoAutoMode":f="AUTO_MODE";e="if(o!=null){o.State(1);}\n";break;case "themoManuMode":if("number"==typeof b.ext)e=b.ext;
else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=parseFloat(b.ext);else return null;e=4.5>e?4.5:e;e=30.5<e?30.5:e;f="MANU_MODE";e="if(o!=null){var v="+e+";o.State(v);}\n";break;case "themoBoostMode":f="BOOST_MODE";e="if(o!=null){o.State(1);}\n";break;case "themoComfortMode":f="COMFORT_MODE";e="if(o!=null){o.State(1);}\n";break;case "themoLoweringMode":f="LOWERING_MODE";e="if(o!=null){o.State(1);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,
c,d,b,f){var e,g;g=c.address;c.channels&&c.channels.CLIMATECONTROL_RT_TRANSCEIVER&&(e=c.channels.CLIMATECONTROL_RT_TRANSCEIVER.address);var h;if(g&&e)if("themoAutoMode"==d.value||"themoBoostMode"==d.value||"themoComfortMode"==d.value||"themoLoweringMode"==d.value)switch(c="CONTROL_MODE",d.value){case "themoAutoMode":a._statebuffer[g+":"+e+"."+c]={value:"auto",timestamp:(new Date).getTime()};break;case "themoBoostMode":a._statebuffer[g+":"+e+"."+c]={value:"boost",timestamp:(new Date).getTime()};break;
case "themoComfortMode":delete a._statebuffer[g+":"+e+"."+c];break;case "themoLoweringMode":delete a._statebuffer[g+":"+e+"."+c]}else if("themoTempUp"==d.value||"themoTempDown"==d.value){if(c="SET_TEMPERATURE",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3))))b=Math.round(100*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}}else"themoTempTo"==d.value||"themoTempRaw"==d.value?(c="SET_TEMPERATURE",b=parseFloat(d.ext),a._statebuffer[g+
":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}):"themoTempOff"==d.value?a._statebuffer[g+":"+e+".SET_TEMPERATURE"]={value:4.5,timestamp:(new Date).getTime()}:"themoManuMode"==d.value&&(c="SET_TEMPERATURE",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3)))&&(b=Math.round(100*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}),a._statebuffer[g+":"+e+".CONTROL_MODE"]={value:"manu",timestamp:(new Date).getTime()});f&&
f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "themoSetTemp":f="SET_TEMPERATURE";break;case "themoMode":f="CONTROL_MODE"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E4<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "themoMode":a="CONTROL_MODE";break;case "themoFault":case "themoLowbat":a=
"FAULT_REPORTING";break;case "themoBattery":a="BATTERY_STATE";break;case "themoValve":a="VALVE_STATE";break;case "themoBoost":a="BOOST_STATE";break;case "themoActualTemp":a="ACTUAL_TEMPERATURE";break;case "themoSetTemp":a="SET_TEMPERATURE";break;case "themoWinState":a="WINDOW_STATE";break;case "themoActualHum":a="ACTUAL_HUMIDITY";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "themoMode":switch(a){case "0":return"auto";
case "1":return"manu";case "2":return"party";case "3":return"boost";default:return"?"}case "themoFault":switch(a){case "0":return"no_fault";case "1":return"valve_tight";case "2":return"adjusting_range_too_large";case "3":return"adjusting_range_too_small";case "4":return"communication_error";case "6":return"low_bat";case "7":return"valve_error_position";default:return"?"}case "themoLowbat":switch(a){case "0":case "1":case "2":case "3":case "4":case "7":return!1;case "6":return!0;default:return"?"}case "themoBattery":return xnm.aio.hm.Util.formatFloatString(a);
case "themoValve":return parseInt(a);case "themoBoost":return parseInt(a);case "themoActualTemp":return xnm.aio.hm.Util.formatFloatString(a);case "themoSetTemp":return xnm.aio.hm.Util.formatFloatString(a);case "themoWinState":switch(a){case "true":return"open";case "false":return"close";default:return"?"}case "themoActualHum":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "FAULT_REPORTING":return c=[],b="themoFault",a=this.handleStatusResponse(d+
"",{value:b}),c.push({key:b,value:a}),b="themoLowbat",a=this.handleStatusResponse(d+"",{value:b}),c.push({key:b,value:a}),c;case "CONTROL_MODE":b="themoMode";break;case "BATTERY_STATE":b="themoBattery";break;case "VALVE_STATE":b="themoValve";break;case "BOOST_STATE":b="themoBoost";break;case "ACTUAL_TEMPERATURE":b="themoActualTemp";break;case "SET_TEMPERATURE":b="themoSetTemp";break;case "WINDOW_STATE":b="themoWinState";break;case "ACTUAL_HUMIDITY":b="themoActualHum"}if(!b)return null;a=this.handleStatusResponse(d+
"",{value:b});return{key:b,value:a}}},THERMALCONTROL_TRANSMIT:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "themoTTempUp":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"themoTSetTemp"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.State()+1;if(v>30.5){v=30.5;}o.State(v);}\n":"if(o!=null){var v="+f+"+1;if(v>30.5){v=30.5;}o.State(v);}\n";f="SET_TEMPERATURE";break;case "themoTTempDown":a._statebuffer&&
(f=this.getBufferedState(a._statebuffer,c,d,{value:"themoTSetTemp"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.State()-1;if(v<4.5){v=4.5;}o.State(v);}\n":"if(o!=null){var v="+f+"-1;if(v<4.5){v=4.5;}o.State(v);}\n";f="SET_TEMPERATURE";break;case "themoTTempTo":case "themoTTempRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=parseFloat(b.ext);else return null;f="SET_TEMPERATURE";e=4.5>e?4.5:e;e=
"if(o!=null){o.State("+(30.5<e?30.5:e)+");}\n";break;case "themoTTempOff":f="SET_TEMPERATURE";e="if(o!=null){o.State(4.5);}\n";break;case "themoTAutoMode":f="AUTO_MODE";e="if(o!=null){o.State(1);}\n";break;case "themoTManuMode":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=parseFloat(b.ext);else return null;e=4.5>e?4.5:e;e=30.5<e?30.5:e;f="MANU_MODE";e="if(o!=null){var v="+e+";o.State(v);}\n";break;case "themoTBoostMode":f=
"BOOST_MODE";e="if(o!=null){o.State(1);}\n";break;case "themoTComfortMode":f="COMFORT_MODE";e="if(o!=null){o.State(1);}\n";break;case "themoTLoweringMode":f="LOWERING_MODE";e="if(o!=null){o.State(1);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,c,d,b,f){var e,g;g=c.address;c.channels&&c.channels.THERMALCONTROL_TRANSMIT&&(e=c.channels.THERMALCONTROL_TRANSMIT.address);var h;if(g&&e)if("themoTTempUp"==d.value||"themoTTempDown"==
d.value){if(c="SET_TEMPERATURE",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3))))b=Math.round(100*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}}else"themoTTempRaw"==d.value||"themoTTempTo"==d.value?(c="SET_TEMPERATURE",b=parseFloat(d.ext),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}):"themoTTempOff"==d.value?a._statebuffer[g+":"+e+".SET_TEMPERATURE"]={value:4.5,timestamp:(new Date).getTime()}:
"themoTManuMode"==d.value&&(c="SET_TEMPERATURE",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3))))&&(b=Math.round(100*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()});f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "themoTSetTemp":f="SET_TEMPERATURE"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E3<=(new Date).getTime()-b.timestamp?(delete a[c+
":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "themoTMode":a="CONTROL_MODE";break;case "themoTLowbat":a="LOWBAT_REPORTING";break;case "themoTComm":a="COMMUNICATION_REPORTING";break;case "themoTWin":a="WINDOW_OPEN_REPORTING";break;case "themoTBattery":a="BATTERY_STATE";break;case "themoTBoost":a="BOOST_STATE";break;case "themoTActualTemp":a="ACTUAL_TEMPERATURE";break;case "themoTActualHum":a="ACTUAL_HUMIDITY";
break;case "themoTSetTemp":a="SET_TEMPERATURE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "themoTMode":switch(a){case "0":return"auto";case "1":return"manu";case "2":return"party";case "3":return"boost";default:return"?"}case "themoTLowbat":return a;case "themoTComm":return a;case "themoTWin":return"true"==a?"open":"close";case "themoTBattery":return xnm.aio.hm.Util.formatFloatString(a);case "themoTBoost":return parseInt(a);
case "themoTActualTemp":return xnm.aio.hm.Util.formatFloatString(a);case "themoTActualHum":return xnm.aio.hm.Util.formatFloatString(a);case "themoTSetTemp":return parseFloat(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "CONTROL_MODE":b="themoTMode";break;case "LOWBAT_REPORTING":b="themoTLowbat";break;case "COMMUNICATION_REPORTING":b="themoTComm";break;case "WINDOW_OPEN_REPORTING":b="themoTWin";break;case "BATTERY_STATE":b="themoTBattery";break;case "BOOST_STATE":b=
"themoTBoost";break;case "ACTUAL_TEMPERATURE":b="themoTActualHum";break;case "SET_TEMPERATURE":b="themoTSetTemp"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},CLIMATECONTROL_REGULATOR:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "themoRTempUp":a._statebuffer&&(f=this.getBufferedState(a._stateBuffer,c,d,{value:"themoRSetTemp"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.State()+1;if(v>30.0){v=30.0;}o.State(v);}\n":
"if(o!=null){var v="+f+"+1;if(v>30.0){v=30.0;}o.State(v);}\n";f="SETPOINT";break;case "themoRTempDown":a._statebuffer&&(f=this.getBufferedState(a._stateBuffer,c,d,{value:"themoRSetTemp"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.State()-1;if(v<6.0){v=6.0;}o.State(v);}\n":"if(o!=null){var v="+f+"-1;if(v<6.0){v=6.0;}o.State(v);}\n";f="SETPOINT";break;case "themoRTempTo":case "themoRTempRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=
parseFloat(b.ext);else return null;f="SETPOINT";e=6>e?6:e;e="if(o!=null){o.State("+(30<e?30:e)+");}\n";break;case "themoRTempClose":f="SETPOINT";e="if(o!=null){o.State(6.0);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,c,d,b,f){var e,g;g=c.address;c.channels&&c.channels.CLIMATECONTROL_REGULATOR&&(e=c.channels.CLIMATECONTROL_REGULATOR.address);if(g&&e)if("themoRTempUp"==d.value||"themoRTempDown"==d.value){if(c="SETPOINT",b){d=
b.indexOf("<v>");var h=b.indexOf("</v>");-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3))&&(b=Math.round(100*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()})}}else"themoRTempRaw"==d.value||"themoRTempTo"==d.value?(c="SETPOINT",b=parseFloat(d.ext),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}):"themoRTempClose"==d.value&&(a._statebuffer[g+":"+e+".SETPOINT"]={value:6,timestamp:(new Date).getTime()});f&&f()},getBufferedState:function(a,c,
d,b){c=c.address;d=d.address;var f;switch(b.value){case "themoRSetTemp":f="SETPOINT"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E4<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "themoRSetTemp":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"SETPOINT")},handleStatusResponse:function(a,c){if("?"==a)return a;
switch(c.value){case "themoRSetTemp":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "SETPOINT":b="themoRSetTemp"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},CLIMATECONTROL_VENT_DRIVE:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "valveState":a="VALVE_STATE";break;case "valveError":a="ERROR";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "valveState":return xnm.aio.hm.Util.formatFloatString(a);case "valveError":switch(a){case "0":return"no_error";case "1":return"valve_drive_blocked";case "2":return"valve_drive_loose";case "3":return"adjusting_range_to_small";case "4":return"low_bat";default:return"?"}default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "VALVE_STATE":b="valveState";break;case "ERROR":b="valveError"}if(!b)return null;
a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SIGNAL_LED:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "signalLedOn":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "signalLedOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "signalLedToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;case "setSignalLed":if(!b.ext||"string"!=typeof b.ext)return null;a="SUBMIT";f='if(o!=null){o.State("'+
b.ext+'");}\n';break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "signalLedState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "signalLedState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="signalLedState"}if(!b)return null;
a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SIGNAL_CHIME:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "signalChimeOn":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "signalChimeOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "signalChimeToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;case "setSignalChime":if(!b.ext||"string"!=typeof b.ext)return null;a="SUBMIT";
f='if(o!=null){o.State("'+b.ext+'");}\n';break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "signalChimeState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "signalChimeState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b=
"signalChimeState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},WEATHER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "weatherTemp":case "weatherTemp1":case "weatherTemp2":case "weatherTemp3":case "weatherTemp4":a="TEMPERATURE";switch(b.value){case "weatherTemp1":if(1!=d.address)return null;break;case "weatherTemp2":if(2!=d.address)return null;break;case "weatherTemp3":if(3!=d.address)return null;break;
case "weatherTemp4":if(4!=d.address)return null}break;case "weatherHum":a="HUMIDITY";break;case "weatherAirP":a="AIR_PRESSURE";break;case "weatherLowbat":a="LOWBAT";break;case "weatherRaining":a="RAINING";break;case "weatherRainCounter":a="RAIN_COUNTER";break;case "weatherWindS":a="WIND_SPEED";break;case "weatherWindD":case "weatherWindDRaw":a="WIND_DIRECTION";break;case "weatherWindDRRaw":a="WIND_DIRECTION_RANGE";break;case "weatherSunD":a="SUNSHINEDURATION";break;case "weatherBright":a="BRIGHTNESS";
break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "weatherTemp":case "weatherTemp1":case "weatherTemp2":case "weatherTemp3":case "weatherTemp4":return xnm.aio.hm.Util.formatFloatString(a);case "weatherHum":return parseInt(a);case "weatherAirP":return parseInt(a);case "weatherLowbat":return a;case "weatherRaining":return a;case "weatherRainCounter":return xnm.aio.hm.Util.formatFloatString(a);case "weatherWindS":return xnm.aio.hm.Util.formatFloatString(a);
case "weatherWindD":var d=parseInt(a);return 23>d?"N":68>d?"NO":113>d?"O":158>d?"SO":203>d?"S":248>d?"SW":293>d?"W":338>d?"NW":"N";case "weatherWindDRaw":case "weatherWindDRRaw":return parseInt(a);case "weatherSunD":return parseInt(a);case "weatherBright":return parseInt(a);default:return"?"}},resolveState:function(a,c,d){if("HM-WDS30-OT2-SM-2"==a.type){a=c.channel;if(!a)return null;var b=a.indexOf(":");if(-1==b)return null;a=a.substr(b+1);switch(c.datapoint){case "TEMPERATURE":"1"==a?f="weatherTemp1":
"2"==a?f="weatherTemp2":"3"==a?f="weatherTemp3":"4"==a&&(f="weatherTemp4")}if(!f)return null;c=this.handleStatusResponse(d+"",{value:f});return{key:f,value:c}}var f;switch(c.datapoint){case "TEMPERATURE":f="weatherTemp";break;case "HUMIDITY":f="weatherHum";break;case "AIR_PRESSURE":f="weatherAirP";break;case "LOWBAT":f="weatherLowbat";break;case "RAINING":f="weatherRaining";break;case "RAIN_COUNTER":f="weatherRainCounter";break;case "WIND_SPEED":f="weatherWindS";break;case "WIND_DIRECTION":return a=
[],f="weatherWindD",c=this.handleStatusResponse(d+"",{value:f}),a.push({key:f,value:c}),f="weatherWindDRaw",c=this.handleStatusResponse(d+"",{value:f}),a.push({key:f,value:c}),a;case "WIND_DIRECTION_RANGE":f="weatherWindDRRaw";break;case "SUNSHINEDURATION":f="weatherSunD";break;case "BRIGHTNESS":f="weatherBright"}if(!f)return null;c=this.handleStatusResponse(d+"",{value:f});return{key:f,value:c}}},WEATHER_TRANSMIT:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "weatherTTemp":a=
"TEMPERATURE";break;case "weatherTHum":a="HUMIDITY";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "weatherTTemp":return xnm.aio.hm.Util.formatFloatString(a);case "weatherTHum":return parseInt(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "TEMPERATURE":b="weatherTTemp";break;case "HUMIDITY":b="weatherTHum"}if(!b)return null;a=this.handleStatusResponse(d+"",
{value:b});return{key:b,value:a}}},RAINDETECTOR:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "rainState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "rainState":return"0"==a?"dry":"rain";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="rainState"}if(!b)return null;a=this.handleStatusResponse(d+"",
{value:b});return{key:b,value:a}}},RAINDETECTOR_HEAT:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "rainHeatOn":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "rainHeatOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "rainHeatToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||
!b.value)return null;switch(b.value){case "rainHeatState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "rainHeatState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="rainHeatState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},ROTARY_HANDLE_SENSOR:{buildStateScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "handleState":a="STATE";break;case "handleError":a="ERROR";break;case "handleLowbat":a="LOWBAT";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "handleState":switch(a){case "0":return"closed";case "1":return"tilted";case "2":return"open";default:return"?"}case "handleError":switch(a){case "0":return"no_error";case "1":return"sabotage";
default:return"?"}case "handleLowbat":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="handleState";break;case "ERROR":b="handleError";break;case "LOWBAT":b="handleLowbat"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SHUTTER_CONTACT:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "shutterState":a="STATE";break;case "shutterError":a="ERROR";break;case "shutterLowbat":a=
"LOWBAT";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "shutterState":return 1==a&&(a="true"),0==a&&(a="false"),"true"==a?"open":"closed";case "shutterError":switch(a){case "0":return"no_error";case "1":case "7":return"sabotage";default:return"?"}case "shutterLowbat":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="shutterState";break;case "ERROR":b=
"shutterError";break;case "LOWBAT":b="shutterLowbat"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SENSOR_FOR_CARBON_DIOXIDE:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "co2State":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "co2State":switch(a){case "0":return"normal";case "1":return"added";case "2":return"added_strong";
default:return"?"}default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="co2State"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},MOTION_DETECTOR:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "motionBright":a="BRIGHTNESS";break;case "motionState":a="MOTION";break;case "motionError":a="ERROR";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "motionBright":return parseInt(a);case "motionState":return"true"==a?"on":"off";case "motionError":switch(a){case "0":return"no_error";default:return"sabotage"}default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "BRIGHTNESS":b="motionBright";break;case "MOTION":b="motionState";break;case "ERROR":b="motionError"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SMOKE_DETECTOR:{buildStateScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "smokeState":a="STATE";break;case "smokeLowbat":a="LOWBAT";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "smokeState":return"true"==a?"on":"off";case "smokeLowbat":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LOWBAT":b="smokeLowbat";break;case "STATE":b="smokeState"}if(!b)return null;
a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SMOKE_DETECTOR_TEAM:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "smokeGroup1State":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "smokeGroup1State":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="smokeGroup1State"}if(!b)return null;
a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SMOKE_DETECTOR_TEAM_V2:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "smokeGroupState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "smokeGroupState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="smokeGroupState"}if(!b)return null;
a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},ALARMACTUATOR:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "alarmOn":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "alarmOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "alarmToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "alarmState":a="STATE";break;case "alarmErrPower":a="ERROR_POWER";break;case "alarmErrSabo":a="ERROR_SABOTAGE";break;case "alarmErrBat":a="ERROR_BATTERY";break;case "alarmLowbat":a="LOWBAT";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "alarmState":return"true"==a?"on":"off";case "alarmErrPower":switch(a){case "0":return"no_error";
case "1":return"power_failure";default:return"?"}case "alarmErrSabo":switch(a){case "0":return"no_error";case "1":return"sabotage";default:return"?"}case "alarmErrBat":switch(a){case "0":return"no_error";case "1":return"barttery_defect";default:return"?"}case "alarmLowbat":return a;default:return null}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="alarmState";break;case "ERROR_POWER":b="alarmErrPower";break;case "ERROR_SABOTAGE":b="alarmErrSabo";break;case "ERROR_BATTERY":b=
"alarmErrBat";break;case "LOWBAT":b="alarmLowbat"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},PULSE_SENSOR:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "seqOk":break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,"SEQUENCE_OK","if(o!=null){o.State(1);}\n")}},CAPACITIVE_FILLING_LEVEL_SENSOR:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "fillingLevel":break;
default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"FILLING_LEVEL")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "fillingLevel":return parseInt(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "FILLING_LEVEL":b="fillingLevel"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},TILT_SENSOR:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "tiltState":a=
"STATE";break;case "tiltLowbat":a="LOWBAT";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "tiltState":return"true"==a?"on":"off";case "tiltLowbat":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="tiltState";break;case "LOWBAT":b="tiltLowbat"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},WATERDETECTIONSENSOR:{buildStateScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "waterState":a="STATE";break;case "waterLowbat":a="LOWBAT";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "waterState":switch(a){case "0":return"dry";case "1":return"wet";case "2":return"water";default:return"?"}case "waterLowbat":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b=
"waterState";break;case "LOWBAT":b="waterLowbat"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},AKKU:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "akkuLevel":a="LEVEL";break;case "akkuStatus":a="STATUS";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "akkuLevel":return xnm.aio.hm.Util.formatFloatString(a);
case "akkuStatus":switch(a){case "0":return"trickle_charge";case "1":return"charge";case "2":return"discharge";case "3":return"state_unknow";default:return"?"}default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="akkuLevel";break;case "STATUS":b="akkuStatus"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},DIGITAL_OUTPUT:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "digOutOn":a=
"STATE";f="if(o!=null){o.State(1);}\n";break;case "digOutOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "digOutToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "digOutState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "digOutState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="digOutState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},DIGITAL_ANALOG_OUTPUT:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null,f=null;switch(b.value){case "setOutFreq":case "setOutFreqRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==
typeof b.ext)f=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))f=parseFloat(b.ext);else return null;a="FREQUENCY";f=0>f?0:f;f="if(o!=null){o.State("+(5E4<f?5E4:f)+");}\n";break;case "daOutOn":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "daOutOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "daOutToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "daOutFreq":a="FREQUENCY";break;case "daOutState":a="STATE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "daOutFreq":return xnm.aio.hm.Util.formatFloatString(a);case "daOutState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "FREQUENCY":b="daOutFreq";break;case "STATE":b=
"daOutState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},DIGITAL_INPUT:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "digInFreq":a="FREQUENCY";break;case "digInState":a="STATE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "digInFreq":return xnm.aio.hm.Util.formatFloatString(a);case "digInState":return"true"==
a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "FREQUENCY":b="digInFreq";break;case "STATE":b="digInState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},DIGITAL_ANALOG_INPUT:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "daInValue":a="VALUE";break;case "daInState":a="STATE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "daInValue":return xnm.aio.hm.Util.formatFloatString(a);case "daInState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "VALUE":b="daInValue";break;case "STATE":b="daInState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SENSOR:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "sensorState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,"SENSOR")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "sensorState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "SENSOR":b="sensorState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},POWERMETER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "meterBoot":a="BOOT";break;case "meterEnergyCounter":a="ENERGY_COUNTER";
break;case "meterPower":a="POWER";break;case "meterCurrent":a="CURRENT";break;case "meterVoltage":a="VOLTAGE";break;case "meterFrequency":a="FREQUENCY";break;default:return null}c='o=dom.GetObject("'+xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,a)+'");';return c+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "meterBoot":return a;case "meterEnergyCounter":return xnm.aio.hm.Util.formatFloatString(a);case "meterPower":return xnm.aio.hm.Util.formatFloatString(a);
case "meterCurrent":return xnm.aio.hm.Util.formatFloatString(a);case "meterVoltage":return xnm.aio.hm.Util.formatFloatString(a);case "meterFrequency":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "BOOT":b="meterBoot";break;case "ENERGY_COUNTER":b="meterEnergyCounter";break;case "POWER":b="meterPower";break;case "CURRENT":b="meterCurrent";break;case "VOLTAGE":b="meterVoltage";break;case "FREQUENCY":b="meterFrequency"}if(!b)return null;
a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},STATUS_INDICATOR:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "statusIndiOn":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "statusIndiOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "statusIndiToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},
buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "statusIndiState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "statusIndiState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="statusIndiState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},
POWERMETER_IGL:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "iglBoot":a="BOOT";break;case "iglGasEnergy":a="GAS_ENERGY_COUNTER";break;case "iglGasPower":a="GAS_POWER";break;case "iglEnergy":a="ENERGY_COUNTER";break;case "iglPower":a="POWER";break;default:return null}c='o=dom.GetObject("'+xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,a)+'");';return c+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "iglBoot":return a;case "iglGasEnergy":return parseFloat(a).toFixed(3);case "iglGasPower":return parseFloat(a).toFixed(2);case "iglEnergy":return parseFloat(a).toFixed(1);case "iglPower":return parseFloat(a).toFixed(2);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "BOOT":b="iglBoot";break;case "GAS_ENERGY_COUNTER":b="iglGasEnergy";break;case "GAS_POWER":b="iglGasPower";break;case "ENERGY_COUNTER":b="iglEnergy";break;case "POWER":b=
"iglPower"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},RGBW_COLOR:{_RGBToHSV:function(a,c,d){a/=255;c/=255;d/=255;var b=Math.min(a,Math.min(c,d)),f=Math.max(a,Math.max(c,d));return b==f?[0,0,b]:[60*((a==b?3:d==b?1:5)-(a==b?c-d:d==b?a-c:d-a)/(f-b)),(f-b)/f,f]},buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null,f=null;switch(b.value){case "color":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)f=
parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))f=b.ext;else return null;a="COLOR";f=0>f?0:f;f="if(o!=null){o.State("+(255<f?255:f)+");}\n";break;case "white":a="COLOR";f="if(o!=null){o.State(200);}\n";break;case "rgb":if(!b.ext||6>b.ext.length)return null;a=parseInt(b.ext.substr(0,2),16);var f=parseInt(b.ext.substr(2,2),16),e=parseInt(b.ext.substr(4,2),16);b=0;b=this._RGBToHSV(a,f,e);b=.1>b[1]?200:Math.round(b[0]/1.8);a="COLOR";f="if(o!=null){o.State("+b+");}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,
d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "colorState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"COLOR")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "colorState":return parseInt(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "COLOR":b="colorState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},RGBW_AUTOMATIC:{buildCommandScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;a=a=null;switch(b.value){case "program":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)a=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))a=b.ext;else return null;a=0>a?0:a;a="if(o!=null){o.State("+(255<a?255:a)+");}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,"PROGRAM",a)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "programState":break;
default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"PROGRAM")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "programState":return parseInt(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "PROGRAM":b="programState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},MAINTENANCE:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "maintLowbat":break;
default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"LOWBAT")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "maintLowbat":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LOWBAT":b="maintLowbat"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},LUXMETER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "luxState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,"LUX")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "luxState":return parseFloat(a).toFixed(2);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LUX":b="luxState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SWITCH_SENSOR:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "switchSensorInOn":a="STATE";f="if(o!=null){o.State(1);}\n";break;
case "switchSensorInOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "switchSensorInToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;case "switchSensorExOn":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "switchSensorExOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "switchSensorExToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},
buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "switchSensorInState":a="STATE";break;case "switchSensorExState":a="STATE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "switchSensorInState":case "switchSensorExState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){a=c.channel;if(!a)return null;var b=a.indexOf(":");
if(-1==b)return null;a=a.substr(b+1);var f;switch(c.datapoint){case "STATE":"1"==a?f="switchSensorInState":"2"==a&&(f="switchSensorExState")}if(!f)return null;c=this.handleStatusResponse(d+"",{value:f});return{key:f,value:c}}},SWITCH_PANIC:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "switchPanicOn":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "switchPanicOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "switchPanicToggle":a=
"STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "switchPanicState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "switchPanicState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,
c,d){var b;switch(c.datapoint){case "STATE":b="switchPanicState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},ARMING:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "armingDisarm":a="ARMSTATE";f='if(o!=null){o.State("0");}\n';break;case "armingIntern":a="ARMSTATE";f='if(o!=null){o.State("1");}\n';break;case "armingAll":a="ARMSTATE";f='if(o!=null){o.State("2");}\n';break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,
d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "armingState":a="ARMSTATE";break;case "armingErrSabo":a="ERROR_SABOTAGE";break;case "armingLowbat":a="LOWBAT";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "armingState":return 0==a?a="disarmed":1==a?a="internal_armed":2==a?a="all_armed":3==a&&(a="alarm_blocked"),a;case "armingErrSabo":switch(a){case "0":return"no_error";
case "1":return"sabotage";default:return"?"}case "armingLowbat":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "ARMSTATE":b="armingState";break;case "ERROR_SABOTAGE":b="armingErrSabo";break;case "LOWBAT":b="armingLowbat"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},JALOUSIE:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "jalStepUp":a._statebuffer&&
(f=this.getBufferedState(a._statebuffer,c,d,{value:"jalLevel"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.Value()+0.05;if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+f/100+"+0.05;if(v>1){v=1.0;}o.State(v);}\n";f="LEVEL";break;case "jalStepDown":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"jalLevel"}));null==f||"undefined"==typeof f?e="if(o!=null){var v=o.Value()-0.05;if(v<0){v=0.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+f+"-0.05;if(v<0){v=0.0;}o.State(v);}\n");
f="LEVEL";break;case "jalUp":f="LEVEL";e="if(o!=null){o.State(1.0);}\n";break;case "jalDown":f="LEVEL";e="if(o!=null){o.State(0.0);}\n";break;case "jalRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=b.ext;else return null;f="LEVEL";e/=100;e=0>e?0:e;e="if(o!=null){o.State("+(1<e?1:e)+");}\n";break;case "jalStop":f="STOP";e="if(o!=null){o.State(1);}\n";break;case "jalLmlStepUp":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,
c,d,{value:"jalLmlLevel"}));null==f||"undefined"==typeof f?e="if(o!=null){var v=o.Value()+0.05;if(v>1){v=1.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+f+"+0.05;if(v>1){v=1.0;}o.State(v);}\n");f="LEVEL_SLATS";break;case "jalLmlStepDown":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"jalLmlLevel"}));null==f||"undefined"==typeof f?e="if(o!=null){var v=o.Value()-0.05;if(v<0){v=0.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+f+"-0.05;if(v<0){v=0.0;}o.State(v);}\n");f="LEVEL_SLATS";
break;case "jalLmlUp":f="LEVEL_SLATS";e="if(o!=null){o.State(1.0);}\n";break;case "jalLmlDown":f="LEVEL_SLATS";e="if(o!=null){o.State(0.0);}\n";break;case "jalLmlRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=b.ext;else return null;f="LEVEL_SLATS";e/=100;e=0>e?0:e;e=1<e?1:e;e="if(o!=null){o.State("+e+");}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,
c,d,b,f){var e,g;g=c.address;c.channels&&c.channels.JALOUSIE&&(e=c.channels.JALOUSIE.address);var h;if(g&&e)if("jalRaw"==d.value)c="LEVEL",b=parseInt(d.ext),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()},f&&f();else if("jalUp"==d.value||"jalDown"==d.value)delete a._statebuffer[g+":"+e+".LEVEL"],setTimeout(function(){f&&f()},3E3);else if("jalStop"==d.value)delete a._statebuffer[g+":"+e+".LEVEL"],delete a._statebuffer[g+":"+e+".LEVEL_SLATS"],f&&f();else if("jalStepUp"==d.value||
"jalStepDown"==d.value)c="LEVEL",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3)))&&(b=Math.round(1E4*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}),f&&f();else if("jalLmlRaw"==d.value)c="LEVEL_SLATS",b=parseInt(d.ext),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()},f&&f();else if("jalLmlUp"==d.value||"jalLmlDown"==d.value)delete a._statebuffer[g+":"+e+".LEVEL_SLATS"],setTimeout(function(){f&&
f()},3E3);else{if("jalLmlStepUp"==d.value||"jalLmlStepDown"==d.value)c="LEVEL_SLATS",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3)))&&(b=Math.round(1E4*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}),f&&f()}else f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "jalLevel":f="LEVEL";break;case "jalLmlLevel":f="LEVEL_SLATS"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&
"undefined"!=typeof b.value?1E4<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "jalLevel":case "jalPosDes":a="LEVEL";break;case "jalDirection":a="DIRECTION";break;case "jalLmlLevel":a="LEVEL_SLATS";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "jalLevel":case "jalPosDes":a=
parseFloat(a);var d=Math.round(100*a);if("jalLevel"==c.value)return d;if("jalPosDes"==c.value)return 35>=d?"bottom":65>=d?"middle":100>=d?"top":"?";break;case "jalDirection":switch(a){case "0":return"none";case "1":return"up";case "2":return"down";case "3":return"undefined";default:return"?"}case "jalLmlLevel":return a=parseFloat(a),Math.round(100*a);default:return"?"}},resolveState:function(a,c,d){switch(c.datapoint){case "LEVEL":var b=[];a="jalLevel";c=this.handleStatusResponse(d+"",{value:a});
b.push({key:a,value:c});a="jalPosDes";c=this.handleStatusResponse(d+"",{value:a});b.push({key:a,value:c});return b;case "DIRECTION":return a="jalDirection",c=this.handleStatusResponse(d+"",{value:a}),{key:a,value:c};case "LEVEL_SLATS":return a="jalLmlLevel",c=this.handleStatusResponse(d+"",{value:a}),{key:a,value:c}}return null}},POWERMETER_IEC1:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "iec1Boot":a="BOOT";break;case "iec1GasEnergy":a="GAS_ENERGY_COUNTER";
break;case "iec1GasPower":a="GAS_POWER";break;case "iec1Energy":a="ENERGY_COUNTER";break;case "iec1Power":a="POWER";break;case "iec1IecEnergy":a="IEC_ENERGY_COUNTER";break;case "iec1IecPower":a="IEC_POWER";break;default:return null}c='o=dom.GetObject("'+xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,a)+'");';return c+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "iec1Boot":return a;case "iec1GasEnergy":return parseFloat(a).toFixed(3);
case "iec1GasPower":return parseFloat(a).toFixed(2);case "iec1Energy":return parseFloat(a).toFixed(1);case "iec1Power":return parseFloat(a).toFixed(2);case "iec1IecEnergy":return parseFloat(a).toFixed(1);case "iec1IecPower":return parseFloat(a).toFixed(2);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "BOOT":b="iec1Boot";break;case "GAS_ENERGY_COUNTER":b="iec1GasEnergy";break;case "GAS_POWER":b="iec1GasPower";break;case "ENERGY_COUNTER":b="iec1Energy";break;case "POWER":b=
"iec1Power";break;case "IEC_ENERGY_COUNTER":b="iec1IecEnergy";break;case "IEC_POWER":b="iec1IecPower"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},POWERMETER_IEC2:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "iec2Boot":a="BOOT";break;case "iec2GasEnergy":a="GAS_ENERGY_COUNTER";break;case "iec2GasPower":a="GAS_POWER";break;case "iec2Energy":a="ENERGY_COUNTER";break;case "iec2Power":a="POWER";break;case "iec2IecEnergy":a=
"IEC_ENERGY_COUNTER";break;case "iec2IecPower":a="IEC_POWER";break;default:return null}c='o=dom.GetObject("'+xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,a)+'");';return c+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "iec2Boot":return a;case "iec2GasEnergy":return parseFloat(a).toFixed(3);case "iec2GasPower":return parseFloat(a).toFixed(2);case "iec2Energy":return parseFloat(a).toFixed(1);case "iec2Power":return parseFloat(a).toFixed(2);
case "iec2IecEnergy":return parseFloat(a).toFixed(1);case "iec2IecPower":return parseFloat(a).toFixed(2);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "BOOT":b="iec2Boot";break;case "GAS_ENERGY_COUNTER":b="iec2GasEnergy";break;case "GAS_POWER":b="iec2GasPower";break;case "ENERGY_COUNTER":b="iec2Energy";break;case "POWER":b="iec2Power";break;case "IEC_ENERGY_COUNTER":b="iec2IecEnergy";break;case "IEC_POWER":b="iec2IecPower"}if(!b)return null;a=this.handleStatusResponse(d+
"",{value:b});return{key:b,value:a}}},MOD_EM8BIT_TRANSMITTER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "state8bit":a="STATE";break;case "lowbat":a="LOWBAT";break;default:return null}c='o=dom.GetObject("'+xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,a)+'");';return c+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "lowbat":return a;case "state8bit":return parseInt(a);
default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="state8bit";break;case "LOWBAT":b="lowbat"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},DUAL_WHITE_BRIGHTNESS:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "dualWBOn":f="OLD_LEVEL";e="if(o!=null){o.State(1);}\n";break;case "dualWBOff":f="LEVEL";e="if(o!=null){o.State(0.0);}\n";break;case "dualWBUp":a._statebuffer&&
(f=this.getBufferedState(a._statebuffer,c,d,{value:"dualWBLevel"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.Value()+0.1;if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+f/100+"+0.1;if(v>1){v=1.0;}o.State(v);}\n";f="LEVEL";break;case "dualWBDown":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"dualWBLevel"}));null==f||"undefined"==typeof f?e="if(o!=null){var v=o.Value()-0.1;if(v<0){v=0.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+f+"-0.1;if(v<0){v=0.0;}o.State(v);}\n");
f="LEVEL";break;case "dualWBTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=b.ext;else return null;f="LEVEL";e/=100;e=0>e?0:e;e="if(o!=null){o.State("+(1<e?1:e)+");}\n";break;case "dualWBToggleTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if("string"==typeof b.ext)e=b.ext.replace("%",""),e=parseInt(e);else return null;f="LEVEL";e/=100;e=0>e?0:e;
e=1<e?1:e;e="if(o!=null){real des = 0.0+o.Value(); if(des == 0.0){o.State("+e.toFixed(2)+");}else{o.State(0.0);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,c,d,b,f){var e,g=c.address;c.channels&&c.channels.DIMMER&&(e=c.channels.DIMMER.address);var h;if(g&&e)if("dualWBToggleTo"==d.value||"dualWBOff"==d.value){c="LEVEL";b=0;switch(d.value){case "dualWBToggleTo":b=parseFloat(d.ext);break;case "dualWBOff":b=0}a._statebuffer[g+
":"+e+"."+c]={value:b,timestamp:(new Date).getTime()};f&&f()}else"dualWBUp"==d.value||"dualWBDown"==d.value?(c="LEVEL",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3)))&&(b=Math.round(1E4*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}),f&&f()):"dualWBOn"==d.value||"dualWBToggleTo"==d.value?(delete a._statebuffer[g+":"+e+".LEVEL"],setTimeout(function(){f&&f()},3E3)):f&&f();else f&&f()},getBufferedState:function(a,c,d,
b){c=c.address;d=d.address;var f;switch(b.value){case "dualWBLevel":f="LEVEL"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E3<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "dualWBLevel":a="LEVEL";break;case "dualWBDirection":a="DIRECTION";break;case "dualWBErrHeat":a="ERROR_OVERHEAT";break;case "dualWBErrReduced":a="ERROR_REDUCED";
break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "dualWBLevel":return a=parseFloat(a),Math.round(100*a);case "dualWBDirection":switch(a){case "0":return"none";case "1":return"up";case "2":return"down";case "3":return"undefined";default:return"?"}case "dualWBErrHeat":switch(a){case "0":return"no_error";case "1":return"over_heat";default:return"?"}case "dualWBErrReduced":switch(a){case "0":return"no_error";
case "1":return"reduced";default:return"?"}default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="dualWBLevel";break;case "DIRECTION":b="dualWBDirection";break;case "ERROR_OVERHEAT":b="dualWBErrHeat";break;case "ERROR_REDUCED":b="dualWBErrReduced"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},DUAL_WHITE_COLOR:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "dualWCOn":f=
"OLD_LEVEL";e="if(o!=null){o.State(1);}\n";break;case "dualWCOff":f="LEVEL";e="if(o!=null){o.State(0.0);}\n";break;case "dualWCUp":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"dualWCLevel"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.Value()+0.1;if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+f/100+"+0.1;if(v>1){v=1.0;}o.State(v);}\n";f="LEVEL";break;case "dualWCDown":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"dualWCLevel"}));null==f||
"undefined"==typeof f?e="if(o!=null){var v=o.Value()-0.1;if(v<0){v=0.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+f+"-0.1;if(v<0){v=0.0;}o.State(v);}\n");f="LEVEL";break;case "dualWCTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=b.ext;else return null;f="LEVEL";e/=100;e=0>e?0:e;e="if(o!=null){o.State("+(1<e?1:e)+");}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},
handleCommandResponse:function(a,c,d,b,f){var e,g=c.address;c.channels&&c.channels.DIMMER&&(e=c.channels.DIMMER.address);var h;g&&e?"dualWCOff"==d.value?(a._statebuffer[g+":"+e+".LEVEL"]={value:0,timestamp:(new Date).getTime()},f&&f()):"dualWCUp"==d.value||"dualWCDown"==d.value?(c="LEVEL",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3)))&&(b=Math.round(1E4*parseFloat(b))/100,a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}),f&&f()):"dualWCOn"==
d.value?(delete a._statebuffer[g+":"+e+".LEVEL"],setTimeout(function(){f&&f()},3E3)):f&&f():f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "dualWCLevel":f="LEVEL"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E3<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "dualWCLevel":a="LEVEL";
break;case "dualWCDirection":a="DIRECTION";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "dualWCLevel":return a=parseFloat(a),Math.round(100*a);case "dualWCDirection":switch(a){case "0":return"none";case "1":return"up";case "2":return"down";case "3":return"undefined";default:return"?"}default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="dualWCLevel";break;
case "DIRECTION":b="dualWCDirection"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}}};
xnm.aio.hm.SysVar={BINARY:{buildCommandScript:function(a,c,d){if(!c.address||!d.value)return null;a="var o;"+('o=dom.GetObject("'+c.address+'");');switch(d.value){case "binaryOn":a+="if(o!=null){o.State(1);}\n";break;case "binaryOff":a+="if(o!=null){o.State(0);}\n";break;case "binaryToggle":a+="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return a+'o="";\n'},buildStateScript:function(a,c,d){if(!c.address)return null;a='o=dom.GetObject("'+c.address+'");';return a=
d&&d.value&&"mappedState"==d.value?a+'if(o!=null){if(o.Value()){states=states#o.ValueName1();}else{states=states#o.ValueName0();}}else{states=states#"?";}':a+'if(o!=null){states=states#o.Value().ToString();}else{states=states#"?";}'},handleStatusResponse:function(a,c){return"?"==a?a:c&&c.value&&"mappedState"==c.value?a:"true"==a?"on":"false"==a?"off":"?"}},FLOAT:{buildCommandScript:function(a,c,d){if(!c.address||!d.value)return null;a="var o;"+('o=dom.GetObject("'+c.address+'");');switch(d.value){case "setFloatValue":case "rawFloatValue":if(null==
d.ext||void 0==d.ext||"number"!=typeof d.ext&&!d.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))return null;a+="if(o!=null){o.State("+d.ext+");}\n";break;default:return null}return a+'o="";\n'},buildStateScript:function(a,c){if(!c.address)return null;var d='o=dom.GetObject("'+c.address+'");';return d+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},handleStatusResponse:function(a){return"?"==a?a:parseFloat(a)}},INTEGER:{buildCommandScript:function(a,c,d){if(!c.address||!d.value)return null;a=
"var o;"+('o=dom.GetObject("'+c.address+'");');c=null;switch(d.value){case "setIntegerValue":case "rawIntValue":if(null==d.ext||void 0==d.ext)return null;if("number"==typeof d.ext)c=parseInt(d.ext);else if(d.ext.match(/^[-+]?[0-9]+$/))c=d.ext;else return null;break;default:return null}return a=a+("if(o!=null){o.State("+c+");}\n")+'o="";\n'},buildStateScript:function(a,c,d){if(!c.address)return null;a='o=dom.GetObject("'+c.address+'");';return a=d&&d.value&&"mappedState"==d.value?a+'if(o!=null){states=states#o.ValueList().StrValueByIndex(";", o.Value());}else{states=states#"?";}':
a+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},handleStatusResponse:function(a,c){return"?"==a?a:c&&c.value&&"mappedState"==c.value?a:parseInt(a)}},STRING:{buildCommandScript:function(a,c,d){if(!c.address||!d.value)return null;a="var o;"+('o=dom.GetObject("'+c.address+'");');c=null;switch(d.value){case "rawStringValue":if(null!=d.ext&&void 0!=d.ext&&"string"==typeof d.ext){c="";for(var b=0;b<d.ext.length;b++){var f=d.ext[b],e=f.charCodeAt(0);c=127<e||"\\"===f||'"'===f?c+("&#"+
e+";"):c+f}}else return null;break;default:return null}return a=a+('if(o!=null){o.State("'+c+'");}\n')+'o="";\n'},buildStateScript:function(a,c){if(!c.address)return null;var d='o=dom.GetObject("'+c.address+'");';return d+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},handleStatusResponse:function(a){return a}}};
xnm.aio.hm.Prog={buildCommandScript:function(a,c,d){if(!c.address||!d.value)return null;a="var o;"+('o=dom.GetObject("'+c.address+'");');switch(d.value){case "progExec":break;default:return null}return a+='if(o!=null){o.ProgramExecute();}\no="";\n'}};
xnm.aio.hm.CUxDChannel={KEY:{buildCommandScript:function(a,c,d,b){if(a=xnm.aio.hm.Channel.KEY.buildCommandScript(a,c,d,b))return a;if(!c.channels||!b.value)return null;var f=null;switch(b.value){case "cmdShort":f="CMD_RUNS";a="if(o!=null){o.State(1);}\n";break;case "cmdLong":f="CMD_RUNL";a="if(o!=null){o.State(1);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,a)}},SWITCH:{buildCommandScript:function(a,c,d,b){if(a=xnm.aio.hm.Channel.SWITCH.buildCommandScript(a,c,
d,b))return a;if(!c.channels||!b.value)return null;var f=null;switch(b.value){case "switchNightOn":f="NIGHT_MODE";a="if(o!=null){o.State(1);}\n";break;case "switchNightOff":f="NIGHT_MODE";a="if(o!=null){o.State(0);}\n";break;case "switchNightToggle":f="NIGHT_MODE";a="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;case "switchLedOff":f="INFO_LED";a="if(o!=null){o.State(0);}\n";break;case "switchLedGreen":f="INFO_LED";a="if(o!=null){o.State(1);}\n";break;case "switchLedOrange":f=
"INFO_LED";a="if(o!=null){o.State(2);}\n";break;case "switchLedRed":f="INFO_LED";a="if(o!=null){o.State(3);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,a)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "switchState":a="STATE";break;case "switchPower":a="POWER";break;case "switchEnergyCount":a="ENERGY_COUNTER";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "switchState":return"true"==a?"on":"off";case "switchPower":case "switchEnergyCount":return parseFloat(a);default:return"?"}}},DIMMER:{buildCommandScript:function(a,c,d,b){var f=xnm.aio.hm.Channel.DIMMER.buildCommandScript(a,c,d,b);if(f)return f;if(!c.channels||!b.value)return null;a=null;switch(b.value){case "dimToggle":a="TOGGLE";f="if(o!=null){o.State(1);}\n";break;case "valveOn":a="OLD_LEVEL";f="if(o!=null){o.State(1);}\n";break;case "valveOff":a="LEVEL";
f="if(o!=null){o.State(0.0);}\n";break;case "valveUp":a="LEVEL";f="if(o!=null){var v=o.Value()+0.1;if(v>1){v=1.0;}o.State(v);}\n";break;case "valveDown":a="LEVEL";f="if(o!=null){var v=o.Value()-0.1;if(v<0){v=0.0;}o.State(v);}\n";break;case "valveTo":case "valveRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)b=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))b=b.ext;else return null;a="LEVEL";b/=100;b=0>b?0:b;f="if(o!=null){o.State("+(1<b?1:b)+");}\n";break;
default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},handleCommandResponse:function(a,c,d,b,f){"dimTo"==d.value||"dimRaw"==d.value||"dimOn"==d.value||"dimOff"==d.value||"dimToggle"==d.value||"valveTo"==d.value||"valveRaw"==d.value||"valveOn"==d.value||"valveOff"==d.value?setTimeout(function(){f&&f()},3E3):f&&f()},buildStateScript:function(a,c,d,b){if(a=xnm.aio.hm.Channel.DIMMER.buildStateScript(a,c,d,b))return a;if(!c.channels||!b.value)return null;a=null;switch(b.value){case "valveLevel":a=
"LEVEL";break;case "dimPower":a="POWER";break;case "dimEnergyCount":a="ENERGY_COUNTER";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){var d=xnm.aio.hm.Channel.DIMMER.handleStatusResponse(a,c);if(null!=d&&"undefined"!=typeof d&&"?"!=d)return d;if("?"==a)return a;switch(c.value){case "valveLevel":return xnm.aio.hm.Util.formatFloatString(100*a);case "dimPower":case "dimEnergyCount":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}}},
CLIMATECONTROL_REGULATOR:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null,e=null;switch(b.value){case "themoRTempUp":a="SETPOINT";f="if(o!=null){var v=o.Value()+2;if(v>99.5){v=99.5;}o.State(v);}\n";break;case "themoRTempDown":a="SETPOINT";f="if(o!=null){var v=o.Value()-2;if(v<0.0){v=0.0;}o.State(v);}\n";break;case "themoRTempTo":case "themoRTempRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=
parseFloat(b.ext);else return null;a="SETPOINT";e=0>e?0:e;f="if(o!=null){o.State("+(99.5<e?99.5:e)+");}\n";break;case "themoRTempClose":a="SETPOINT";f="if(o!=null){o.State(5.5);}\n";break;case "themoRTempOpen":a="SETPOINT";f="if(o!=null){o.State(30.5);}\n";break;case "themoRValveOpen":a="STATE";f="if(o!=null){o.State(1);}\n";break;case "themoRValveClose":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "themoRModeAuto":a="MODE_TEMPERATUR_REGULATOR";f="if(o!=null){o.State(0);}\n";break;case "themoRModeManu":a=
"MODE_TEMPERATUR_REGULATOR";f="if(o!=null){o.State(1);}\n";break;case "themoRComfortTempTo":case "themoRComfortTempRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=parseFloat(b.ext);else return null;a="TEMPERATUR_COMFORT_VALUE";e=0>e?0:e;e=99.5<e?99.5:e;f="if(o!=null){o.State("+e+");}\n";break;case "themoRLowerTempTo":case "themoRLowerTempRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==
typeof b.ext)e=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=parseFloat(b.ext);else return null;a="TEMPERATUR_LOWERING_VALUE";e=0>e?0:e;e=99.5<e?99.5:e;f="if(o!=null){o.State("+e+");}\n";break;case "themoRWinTempTo":case "themoRWinTempRaw":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=parseFloat(b.ext);else return null;a="TEMPERATUR_WINDOW_OPEN_VALUE";e=0>e?0:e;e=99.5<e?99.5:e;f="if(o!=null){o.State("+
e+");}\n";break;case "themoRSetPartyEnd":if(null==b.ext||"undefined"==typeof b.ext)return null;e=b.ext;a="PARTY_END_TIME";f="if(o!=null){o.State('"+e+"');}\n";break;case "themoRValveState":if(null==b.ext||void 0==b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=b.ext;else return null;a="VALVE_STATE";f+="if(o!=null){o.State("+e+");}\n";break;case "themoRSummerOn":a="SUMMER_MODE";f="if(o!=null){o.State(1);}\n";break;case "themoRSummerOff":a="SUMMER_MODE";
f="if(o!=null){o.State(0);}\n";break;case "themoRSummerToggle":a="SUMMER_MODE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "themoRSetTemp":a="SETPOINT";break;case "themoRComfortTemp":a="TEMPERATUR_COMFORT_VALUE";break;case "themoRLowerTemp":a="TEMPERATUR_LOWERING_VALUE";break;case "themoRWinTemp":a="TEMPERATUR_WINDOW_OPEN_VALUE";
break;case "themoRMode":a="MODE_TEMPERATUR_REGULATOR";break;case "themoRPartyEnd":a="PARTY_END_TIME";break;case "themoRSummer":a="SUMMER_MODE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "themoRSetTemp":case "themoRComfortTemp":case "themoRLowerTemp":case "themoRWinTemp":return xnm.aio.hm.Util.formatFloatString(a);case "themoRMode":switch(a){case "0":return"auto";case "1":return"manu";case "2":return"party";
default:return"?"}case "themoRPartyEnd":return a;case "themoRSummer":return"true"==a?"on":"off";default:return"?"}}},CLIMATECONTROL_VENT_DRIVE:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "valveState":a="VALVE_STATE";break;case "valveOffset":a="VALVE_OFFSET_VALUE";break;case "valveTemperature":a="TEMPERATURE";break;case "valveAlamr":a="ALARM";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "valveState":return parseInt(a);case "valveOffset":return parseInt(a);case "valveTemperature":return xnm.aio.hm.Util.formatFloatString(a);case "valveAlamr":return"true"==a?"alarm":"ok";default:return"?"}}},WEATHER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "weatherMinTemp":a="TEMP_MIN_24H";break;case "weatherMaxTemp":a="TEMP_MAX_24H";break;case "weatherMinHum":a="HUM_MIN_24H";break;case "weatherMaxHum":a=
"HUM_MAX_24H";break;case "weatherTemp":a="TEMPERATURE";break;case "weatherHum":a="HUMIDITY";break;case "weatherHumF":a="HUMIDITYF";break;case "weatherDew":a="DEW_POINT";break;case "weatherRaining":a="RAINING";break;case "weatherRainCounter":a="RAIN_CTR";break;case "weatherWindS":a="WIND_SPEED";break;case "weatherHumAbs":a="ABS_HUMIDITY";break;case "weatherBright":a="BRIGHTNESS";break;case "weatherBatVolt":a="BAT_VOLTAGE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},
handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "weatherMinTemp":case "weatherMaxTemp":case "weatherMinHum":case "weatherMaxHum":return parseFloat(a).toFixed(2);case "weatherTemp":case "weatherBatVolt":return xnm.aio.hm.Util.formatFloatString(a);case "weatherHum":case "weatherBright":return parseInt(a);case "weatherHumF":return xnm.aio.hm.Util.formatFloatString(a);case "weatherDew":return xnm.aio.hm.Util.formatFloatString(a);case "weatherRaining":return a;case "weatherRainCounter":return xnm.aio.hm.Util.formatFloatString(a);
case "weatherWindS":return xnm.aio.hm.Util.formatFloatString(a);case "weatherHumAbs":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}}},MOTION_DETECTOR:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "motionState":a="MOTION";break;case "motionBright":a="BRIGHTNESS";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "motionState":return"true"==
a?"on":"off";case "motionBright":return parseFloat(a);default:return"?"}}},CAPACITIVE_FILLING_LEVEL_SENSOR:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "fillingLevel":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"FILLING_LEVEL")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "fillingLevel":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}}},SENSOR:{buildCommandScript:function(a,c,
d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "sensorSumReset":a="SUM_RESET";f="if(o!=null){o.State(1);}\n";break;case "sensModeAuto":a="MODE";f="if(o!=null){o.State(0);}\n";break;case "sensModeHeat":a="MODE";f="if(o!=null){o.State(1);}\n";break;case "sensModeCool":a="MODE";f="if(o!=null){o.State(3);}\n";break;case "sensModeFanOnly":a="MODE";f="if(o!=null){o.State(9);}\n";break;case "sensModeDry":a="MODE";f="if(o!=null){o.State(14);}\n";break;case "sensSwingV":a="VANE";
f="if(o!=null){o.State(11);}\n";break;case "sensSwingH":a="VANE";f="if(o!=null){o.State(12);}\n";break;case "sensSwingVH":a="VANE";f="if(o!=null){o.State(13);}\n";break;case "sensSwingS":a="VANE";f="if(o!=null){o.State(14);}\n";break;case "sensSpeedAuto":a="SPEED";f="if(o!=null){o.State(0);}\n";break;case "sensSpeedLow":a="SPEED";f="if(o!=null){o.State(1);}\n";break;case "sensSpeedMid1":a="SPEED";f="if(o!=null){o.State(2);}\n";break;case "sensSpeedMid2":a="SPEED";f="if(o!=null){o.State(3);}\n";break;
case "sensSpeedMid3":a="SPEED";f="if(o!=null){o.State(4);}\n";break;case "sensSpeedHigh":a="SPEED";f="if(o!=null){o.State(5);}\n";break;case "sensRoomOccu":a="ROOM";f="if(o!=null){o.State(0);}\n";break;case "sensRoomStandby":a="ROOM";f="if(o!=null){o.State(1);}\n";break;case "sensRoomUnoccu":a="ROOM";f="if(o!=null){o.State(2);}\n";break;case "sensRoomOff":a="ROOM";f="if(o!=null){o.State(3);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "sensorState":a="STATE";break;case "sensorSum":a="SUM";break;case "sensorMean5min":a="MEAN5MINUTES";break;case "sensorMax5min":a="MAX5MINUTES";break;case "sensorSum1h":a="SUM_1H";break;case "sensorMax1h":a="MAX_1H";break;case "sensorSum24h":a="SUM_24H";break;case "sensorMax24h":a="MAX_24H";break;case "sensorMeter":a="METER";break;case "sensorDistance":a="DISTANCE";break;case "sensorFPercent":a="F_PERCENT";break;case "sensorFLevel":a=
"F_LEVEL";break;case "sensorFVolume":a="F_VOLUME";break;case "sensorRelais1":a="RELAIS1";break;case "sensorRelais2":a="RELAIS2";break;case "hmsContactState":a="STATE";break;case "fhtContactState":a="STATE";break;case "securityState":a="STATE";break;case "sensorInfo":a="INFO";break;case "sensorSumDate":a="SUM_DATE";break;case "sensMode":a="MODE";break;case "sensSwing":a="VANE";break;case "sensSpeed":a="SPEED";break;case "sensRoom":a="ROOM";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "sensorSum":case "sensorMean5min":case "sensorMax5min":case "sensorSum1h":case "sensorMax1h":case "sensorSum24h":case "sensorMax24h":case "sensorMeter":case "sensorDistance":case "sensorFLevel":case "sensorFVolume":return xnm.aio.hm.Util.formatFloatString(a);case "sensorFPercent":return parseInt(a);case "sensorState":case "sensorRelais1":case "sensorRelais2":case "sensorInfo":case "sensorSumDate":return a;case "hmsContactState":case "fhtContactState":return"true"==
a?"open":"close";case "securityState":return"true"==a?"danger":"ok";case "sensMode":switch(a){case "0":return"auto";case "1":return"heat";case "3":return"cool";case "9":return"fan_only";case "14":return"dry";default:return"?"}case "sensSwing":switch(a){case "11":return"vertical";case "12":return"horizontal";case "13":return"both";case "14":return"stop";default:return"?"}case "sensSpeed":switch(a=parseInt(a),a){case 0:return"auto";case 1:return"low";case 2:return"mid1";case 3:return"mid2";case 4:return"mid3";
default:return 5<=a&&14>=a?"high":"?"}case "sensRoom":switch(a){case "0":return"occupied";case "1":return"standby";case "2":return"unoccupied";case "3":return"off";default:return"?"}default:return"?"}}},POWERMETER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "powerMeterPower":a="POWER";break;case "powerMeterECount":a="ENERGY_COUNTER";break;case "powerMeterSum1h":a="SUM_1H";break;case "powerMeterSum24h":a="SUM_24H";break;case "powerMeterVoltage":a=
"VOLTAGE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "powerMeterPower":case "powerMeterECount":case "powerMeterSum1h":case "powerMeterSum24h":case "powerMeterVoltage":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}}},DANGER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "dangerState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "dangerState":return"true"==a?"danger":"ok";default:return"?"}}},EVENT_INTERFACE:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "evntIntfPress":break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,"STATE","if(o!=null){o.State(1);}\n")}},RELAIS:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "relaisOn":a=
"STATE";f="if(o!=null){o.State(1);}\n";break;case "relaisOff":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "relaisToggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "relaisState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "relaisState":return"true"==a?"on":"off";default:return"?"}}},WRAPPER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "wrapperValue":a:{b=c.channels.WRAPPER.datapoints;for(a=0;a<b.length;a++){var f=b[a];if("MEDIAN"!=f&&"MEAN"!=f&&"SET_STATE"!=f&&"RESET"!=f&&"INSTALL_TEST"!=f){a=f;break a}}a=null}if(!a)return null;break;case "wrapperMedian":a="MEDIAN";break;case "wrapperMean":a="MEAN";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "wrapperValue":case "wrapperMedian":case "wrapperMean":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}}},SYSTEM:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "systemPress":break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,"STATE","if(o!=null){o.State(1);}\n")}},POWER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;
switch(b.value){case "powBatVolt":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"BAT_VOLTAGE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "powBatVolt":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}}},ENOCEAN_WEATHER2:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "eoWeather2BrightW":a="BRIGHTNESS_WEST";break;case "eoWeather2BrightS":a="BRIGHTNESS_SOUTH";break;case "eoWeather2BrightE":a=
"BRIGHTNESS_EAST";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "eoWeather2BrightW":case "eoWeather2BrightS":case "eoWeather2BrightE":return parseInt(a);default:return"?"}}},ENOCEAN_SENSOR_ERROR:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "eoSensorErr":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"ERROR")},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "eoSensorErr":return a;default:return"?"}}},ENOCEAN_Bidi_Switch2:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "bidiSwitch2State":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "bidiSwitch2State":return"true"==a?"on":"off";default:return"?"}}}};
xnm.aio.hm.HmIPChannel={MAINTENANCE:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "errorBat":a="LOW_BAT";break;case "errorComm":a="UNREACH";break;case "errorSabo":a="SABOTAGE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "errorBat":case "errorComm":case "errorSabo":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LOW_BAT":b=
"errorBat";break;case "UNREACH":b="errorComm";break;case "SABOTAGE":b="errorSabo"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},MAINTENANCE_SD:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "errorSdBat":a="LOW_BAT";break;case "errorSdComm":a="UNREACH";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "errorSdBat":case "errorSdComm":return a;
default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LOW_BAT":b="errorSdBat";break;case "UNREACH":b="errorSdComm"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},KEY_TRANSCEIVER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "pressShort":a="PRESS_SHORT";f="if(o!=null){o.State(1);}\n";break;case "pressLong":a="PRESS_LONG";f="if(o!=null){o.State(1);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,
d,a,f)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "pressShort":case "pressLong":return!0;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "PRESS_SHORT":b="pressShort";break;case "PRESS_LONG":b="pressLong"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SWITCH_TRANSMITTER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "switchTState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "switchTState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="switchTState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SWITCH_VIRTUAL_RECEIVER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "on":a="STATE";f="if(o!=null){o.State(1);}\n";break;
case "off":a="STATE";f="if(o!=null){o.State(0);}\n";break;case "toggle":a="STATE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "switchState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "switchState":return"true"==
a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="switchState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SHUTTER_CONTACT:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "shutterState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "shutterState":return 1==
a?"open":"closed";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="shutterState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SHUTTER_CONTACT_TRANSCEIVER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "shutterTState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "shutterTState":return 1==
a?"open":"closed";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="shutterTState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},HEATING_CLIMATECONTROL_TRANSCEIVER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "themoProf":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=b.ext;else if(b.ext.match(/^\d+$/))e=parseInt(b.ext);
else return null;f="ACTIVE_PROFILE";e="if(o!=null){o.State("+e+");}\n";break;case "themoBoostOn":f="BOOST_MODE";e="if(o!=null){o.State(1);}\n";break;case "themoBoostOff":f="BOOST_MODE";e="if(o!=null){o.State(0);}\n";break;case "themoAutoMode":f="CONTROL_MODE";e="if(o!=null){o.State(0);}\n";break;case "themoManuMode":f="CONTROL_MODE";e="if(o!=null){o.State(1);}\n";break;case "themoTempUp":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"themoTemp"}));e=null==f||"undefined"==typeof f?
"if(o!=null){var v=o.State()+0.5;if(v>30.5){v=30.5;}o.State(v);}\n":"if(o!=null){var v="+f+"+0.5;if(v>30.5){v=30.5;}o.State(v);}\n";f="SET_POINT_TEMPERATURE";break;case "themoTempDown":a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"themoTemp"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.State()-0.5;if(v<4.5){v=4.5;}o.State(v);}\n":"if(o!=null){var v="+f+"-0.5;if(v<4.5){v=4.5;}o.State(v);}\n";f="SET_POINT_TEMPERATURE";break;case "themoTemp":if(null==b.ext||"undefined"==
typeof b.ext)return null;if("number"==typeof b.ext)e=b.ext;else if(b.ext.match(/^[-+]?[0-9]*\.?[0-9]+$/))e=parseFloat(b.ext);else return null;f="SET_POINT_TEMPERATURE";e=4.5>e?4.5:e;e="if(o!=null){o.State("+(30.5<e?30.5:e)+");}\n";break;case "themoTempOn":f="SET_POINT_TEMPERATURE";e="if(o!=null){o.State(30.5);}\n";break;case "themoTempOff":f="SET_POINT_TEMPERATURE";e="if(o!=null){o.State(4.5);}\n";break;case "themoValveLevel":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=
b.ext;else if(b.ext.match(/^\d+$/))e=parseInt(b.ext);else return null;0>e&&(e=0);100<e&&(e=100);e/=100;f="LEVEL";e="if(o!=null){o.State("+e+");}\n";break;case "themoWinOpen":f="WINDOW_STATE";e="if(o!=null){o.State(1);}\n";break;case "themoWinClose":f="WINDOW_STATE";e="if(o!=null){o.State(0);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,c,d,b,f){var e,g;g=c.address;c.channels&&c.channels.HEATING_CLIMATECONTROL_TRANSCEIVER&&(e=
c.channels.HEATING_CLIMATECONTROL_TRANSCEIVER.address);var h;if(g&&e)if("themoTempUp"==d.value||"themoTempDown"==d.value){if(c="SET_POINT_TEMPERATURE",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3))))b=parseFloat(b).toFixed(1),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}}else"themoTemp"==d.value?(c="SET_POINT_TEMPERATURE",b=parseFloat(d.ext),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}):"themoTempOff"==d.value?
a._statebuffer[g+":"+e+".SET_POINT_TEMPERATURE"]={value:4.5,timestamp:(new Date).getTime()}:"themoTempOn"==d.value&&(a._statebuffer[g+":"+e+".SET_POINT_TEMPERATURE"]={value:30.5,timestamp:(new Date).getTime()});f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "themoTemp":f="SET_POINT_TEMPERATURE"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?5E3<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:
null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "themoProf":a="ACTIVE_PROFILE";break;case "themoActualTemp":a="ACTUAL_TEMPERATURE";break;case "themoBoostMode":a="BOOST_MODE";break;case "themoFrost":a="FROST_PROTECTION";break;case "themoHum":a="HUMIDITY";break;case "themoMode":a="SET_POINT_MODE";break;case "themoTemp":a="SET_POINT_TEMPERATURE";break;case "themoValveLevel":a="LEVEL";break;case "themoWinState":a="WINDOW_STATE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "themoProf":case "themoHum":return parseInt(a);case "themoActualTemp":case "themoTemp":return parseFloat(a).toFixed(1);case "themoBoostMode":case "themoFrost":return"true"==a?"on":"off";case "themoMode":switch(a){case "0":return"auto";case "1":return"manu";default:return"?"}case "themoValveLevel":return Math.round(100*parseFloat(a));case "themoWinState":switch(a){case "1":return"open";case "0":return"closed";default:return"?"}default:return"?"}},
resolveState:function(a,c,d){var b;switch(c.datapoint){case "ACTIVE_PROFILE":b="themoProf";break;case "ACTUAL_TEMPERATURE":b="themoActualTemp";break;case "BOOST_MODE":b="themoBoostMode";break;case "FROST_PROTECTION":b="themoFrost";break;case "HUMIDITY":b="themoHum";break;case "SET_POINT_MODE":b="themoMode";break;case "SET_POINT_TEMPERATURE":b="themoTemp";break;case "LEVEL":b="themoValveLevel";break;case "WINDOW_STATE":b="themoWinState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});
return{key:b,value:a}}},MOTIONDETECTOR_TRANSCEIVER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "motionOn":a="MOTION_DETECTION_ACTIVE";f="if(o!=null){o.State(1);}\n";break;case "motionOff":a="MOTION_DETECTION_ACTIVE";f="if(o!=null){o.State(0);}\n";break;case "motionToggle":a="MOTION_DETECTION_ACTIVE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;case "motionReset":a="RESET_MOTION";f="if(o!=null){o.State(1);}\n";
break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "motionIllu":a="ILLUMINATION";break;case "motionState":a="MOTION";break;case "motionActivate":a="MOTION_DETECTION_ACTIVE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "motionIllu":return parseFloat(a).toFixed(2);case "motionState":return"true"==
a?"on":"off";case "motionActivate":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "ILLUMINATION":b="motionIllu";break;case "MOTION":b="motionState";break;case "MOTION_DETECTION_ACTIVE":b="motionActivate"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},ENERGIE_METER_TRANSMITTER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "meterEnergyCounter":a="ENERGY_COUNTER";
break;case "meterPower":a="POWER";break;case "meterCurrent":a="CURRENT";break;case "meterVoltage":a="VOLTAGE";break;case "meterFrequency":a="FREQUENCY";break;default:return null}c='o=dom.GetObject("'+xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,a)+'");';return c+'if(o!=null){states=states#o.Value();}else{states=states#"?";}'},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "meterEnergyCounter":return xnm.aio.hm.Util.formatFloatString(a);case "meterPower":return xnm.aio.hm.Util.formatFloatString(a);
case "meterCurrent":return xnm.aio.hm.Util.formatFloatString(a);case "meterVoltage":return xnm.aio.hm.Util.formatFloatString(a);case "meterFrequency":return xnm.aio.hm.Util.formatFloatString(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "ENERGY_COUNTER":b="meterEnergyCounter";break;case "POWER":b="meterPower";break;case "CURRENT":b="meterCurrent";break;case "VOLTAGE":b="meterVoltage";break;case "FREQUENCY":b="meterFrequency"}if(!b)return null;a=this.handleStatusResponse(d+
"",{value:b});return{key:b,value:a}}},SMOKE_DETECTOR:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "intrusionAlarmOff":a="SMOKE_DETECTOR_COMMAND";f="if(o!=null){o.State(1);}\n";break;case "intrusionAlarmOn":a="SMOKE_DETECTOR_COMMAND";f="if(o!=null){o.State(2);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "smokeState":case "smokeAlarmDetail":break;
default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"SMOKE_DETECTOR_ALARM_STATUS")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "smokeState":return 0==a?"off":"on";case "smokeAlarmDetail":if(0==a)return"off";if(1==a)return"primary_alarm";if(2==a)return"intrusion_alarm";if(3==a)return"secondary_alarm";break;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "SMOKE_DETECTOR_ALARM_STATUS":return a=[],b="smokeState",c=this.handleStatusResponse(d+
"",{value:b}),a.push({key:b,value:c}),b="smokeAlarmDetail",c=this.handleStatusResponse(d+"",{value:b}),a.push({key:b,value:c}),a}if(!b)return null;c=this.handleStatusResponse(d+"",{value:b});return{key:b,value:c}}},DIMMER_TRANSMITTER:{buildStateScript:function(a,c,d,b){if(!b.value)return null;switch(b.value){case "dimmerTLevel":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"LEVEL")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "dimmerTLevel":var d=
parseFloat(a);return Math.round(100*d);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="dimmerTLevel"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},DIMMER_VIRTUAL_RECEIVER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "dimOn":f="LEVEL";e="if(o!=null){o.State(1.005);}\n";break;case "dimOff":f="LEVEL";e="if(o!=null){o.State(0.0);}\n";break;case "dimUp":e=
null==b.ext||"undefined"==typeof b.ext?.1:"number"==typeof b.ext?(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?(parseInt(b.ext)/100).toFixed(2):.1;a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"dimmerLevel"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.Value()+"+e+";if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+f/100+"+"+e+";if(v>1){v=1.0;}o.State(v);}\n";f="LEVEL";break;case "dimDown":e=null==b.ext||"undefined"==typeof b.ext?.1:"number"==typeof b.ext?
(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?(parseInt(b.ext)/100).toFixed(2):.1;a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"dimmerLevel"}));null==f||"undefined"==typeof f?e="if(o!=null){var v=o.Value()-"+e+";if(v<0){v=0.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+f+"-"+e+";if(v<0){v=0.0;}o.State(v);}\n");f="LEVEL";break;case "dimTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=
b.ext;else return null;f="LEVEL";e/=100;e=0>e?0:e;e="if(o!=null){o.State("+(1<e?1:e)+");}\n";break;case "toggleTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if("string"==typeof b.ext)e=b.ext.replace("%",""),e=parseInt(e);else return null;f="LEVEL";e/=100;e=0>e?0:e;e=1<e?1:e;e="if(o!=null){real des = 0.0+o.Value(); if(des == 0.0){o.State("+e.toFixed(2)+");}else{o.State(0.0);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,
d,f,e)},handleCommandResponse:function(a,c,d,b,f){var e,g=c.address;c.channels&&c.channels.DIMMER&&(e=c.channels.DIMMER.address);var h;if(g&&e)if("dimTo"==d.value||"dimOff"==d.value){c="LEVEL";switch(d.value){case "dimTo":h=parseFloat(d.ext);break;case "dimOff":h=0}a._statebuffer[g+":"+e+"."+c]={value:h,timestamp:(new Date).getTime()};f&&f()}else"dimUp"==d.value||"dimDown"==d.value?(c="LEVEL",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(h=b.substr(d+3,h-d-3)))&&(h=Math.round(100*
parseFloat(h)),a._statebuffer[g+":"+e+"."+c]={value:h,timestamp:(new Date).getTime()}),f&&f()):"toggleTo"==d.value?(delete a._statebuffer[g+":"+e+".LEVEL"],setTimeout(function(){f&&f()},3E3)):f&&f();else f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "dimmerLevel":f="LEVEL"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E3<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "dimmerLevel":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"LEVEL")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "dimmerLevel":return a=parseFloat(a),Math.round(100*a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="dimmerLevel"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},ALARM_SWITCH_VIRTUAL_RECEIVER:{buildCommandScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "alarmTrigger":var f,e,g,h;if(!b.ext)return null;for(a=0;a<b.ext.length;a++){var k=b.ext[a];if(k)switch(k.value){case "alarmAudio":f=k.ext;break;case "alarmVisual":e=k.ext;break;case "alarmDur":h=k.ext;break;case "alarmDurUnit":g=k.ext}}if("undefined"==typeof f||null==f||"undefined"==typeof e||null==e||"undefined"==typeof h||null==h||"undefined"==typeof h||null==h)return null;b="var o;";a=xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,"ACOUSTIC_ALARM_SELECTION");
b=b+('o=dom.GetObject("'+a+'");')+("o.State("+f+")");a=xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,"OPTICAL_ALARM_SELECTION");b+='o=dom.GetObject("'+a+'");';b+="o.State("+e+")";a=xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,"DURATION_VALUE");b+='o=dom.GetObject("'+a+'");';b+="o.State("+h+")";a=xnm.aio.hm.MHMCCU._getDataPointAddress(c,d,"DURATION_UNIT");b+='o=dom.GetObject("'+a+'");';b+="o.State("+g+")";return b+='o="";\n';default:return null}},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;
switch(b.value){case "alarmState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "alarmState":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="alarmState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},ROTARY_HANDLE_TRANSCEIVER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;
switch(b.value){case "handleState":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "handleState":switch(a){case "0":return"closed";case "1":return"tilted";case "2":return"open";default:return"?"}default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="handleState"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SHUTTER_TRANSMITTER:{buildStateScript:function(a,
c,d,b){if(!b.value)return null;switch(b.value){case "blindTLevel":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"LEVEL")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "blindTLevel":var d=parseFloat(a);return Math.round(100*d);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="blindTLevel"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},SHUTTER_VIRTUAL_RECEIVER:{buildCommandScript:function(a,
c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "stop":f="STOP";e="if(o!=null){o.State(1);}\n";break;case "moveUp":f="LEVEL";e="if(o!=null){o.State(1.0);}\n";break;case "moveDown":f="LEVEL";e="if(o!=null){o.State(0.0);}\n";break;case "stepUp":e=null==b.ext||"undefined"==typeof b.ext?.05:"number"==typeof b.ext?(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?(parseInt(b.ext)/100).toFixed(2):.05;a._statebuffer&&(f=this.getBufferedState(a._statebuffer,
c,d,{value:"blindLevel"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.Value()+"+e+";if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+f/100+"+"+e+";if(v>1){v=1.0;}o.State(v);}\n";f="LEVEL";break;case "stepDown":e=null==b.ext||"undefined"==typeof b.ext?.05:"number"==typeof b.ext?(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?(parseInt(b.ext)/100).toFixed(2):.05;a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"blindLevel"}));null==f||"undefined"==typeof f?
e="if(o!=null){var v=o.Value()-"+e+";if(v<0){v=0.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+f+"-"+e+";if(v<0){v=0.0;}o.State(v);}\n");f="LEVEL";break;case "moveTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=b.ext;else return null;f="LEVEL";e/=100;e=0>e?0:e;e="if(o!=null){o.State("+(1<e?1:e)+");}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,
c,d,b,f){var e,g=c.address;c.channels&&c.channels.SHUTTER_TRANSMITTER&&(e=c.channels.SHUTTER_TRANSMITTER.address);var h;if(g&&e)if("moveTo"==d.value)c="LEVEL",b=parseFloat(d.ext),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()};else if("stepUp"==d.value||"stepDown"==d.value)if(c="LEVEL",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3))))b=Math.round(100*parseFloat(b)),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()};
f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "blindLevel":f="LEVEL"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E3<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "blindLevel":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"LEVEL")},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "blindLevel":return a=parseFloat(a),Math.round(100*a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="blindLevel"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},BLIND_TRANSMITTER:{buildStateScript:function(a,c,d,b){if(!b.value)return null;a=null;switch(b.value){case "blindTPos":a="LEVEL";break;case "lamellaTPos":a="LEVEL_2";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "blindTPos":var d=parseFloat(a);return Math.round(100*d);case "lamellaTPos":return d=parseFloat(a),Math.round(100*d);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="blindTPos";break;case "LEVEL_2":b="lamellaTPos"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},BLIND_VIRTUAL_RECEIVER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;
var f=null,e=null,g=null,f=null;switch(b.value){case "stop":f="STOP";e="if(o!=null){o.State(1);}\n";break;case "moveUp":return e="var o;"+('o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL_2");\n'),e=e+"if(o!=null){o.State(1.0);}\n"+('o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL");\n'),e+="if(o!=null){o.State(1.0);}\n",e+='o="";\n';case "moveDown":return e="var o;"+('o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL_2");\n'),e+="if(o!=null){o.State(0.0);}\n",
e+='o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL");\n',e+="if(o!=null){o.State(0.0);}\n",e+='o="";\n';case "lamellaUp":return e="var o;"+('o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL_2");\n'),e+="if(o!=null){o.State(1.0);}\n",e+='o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL");\n',e+="if(o!=null){o.State(o.Value());}\n",e+='o="";\n';case "lamellaDown":return e="var o;"+('o=dom.GetObject("'+c["interface"]+"."+c.address+":"+
d.address+'.LEVEL_2");\n'),e+="if(o!=null){o.State(0.0);}\n",e+='o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL");\n',e+="if(o!=null){o.State(o.Value());}\n",e+='o="";\n';case "stepUp":g=null==b.ext||"undefined"==typeof b.ext?.05:"number"==typeof b.ext?(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?(parseInt(b.ext)/100).toFixed(2):.05;a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"blindPos"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.Value()+"+
g+";if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+f/100+"+"+g+";if(v>1){v=1.0;}o.State(v);}\n";f="LEVEL";break;case "stepDown":g=null==b.ext||"undefined"==typeof b.ext?.05:"number"==typeof b.ext?(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?(parseInt(b.ext)/100).toFixed(2):.05;a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"blindPos"}));null==f||"undefined"==typeof f?e="if(o!=null){var v=o.Value()-"+g+";if(v<0){v=0.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+
f+"-"+g+";if(v<0){v=0.0;}o.State(v);}\n");f="LEVEL";break;case "moveTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)g=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))g=b.ext;else return null;f="LEVEL";g/=100;g=0>g?0:g;e="if(o!=null){o.State("+(1<g?1:g)+");}\n";break;case "lamellaStepUp":return g=null==b.ext||"undefined"==typeof b.ext?.05:"number"==typeof b.ext?(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?(parseInt(b.ext)/100).toFixed(2):.05,
e="var o;"+('o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL_2");\n'),e+="if(o!=null){var v=o.Value()+"+g+";if(v>1){v=1.0;}o.State(v);}\n",e+='o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL");\n',e+="if(o!=null){o.State(o.Value());}\n",e+='o="";\n';case "lamellaStepDown":return g=null==b.ext||"undefined"==typeof b.ext?.05:"number"==typeof b.ext?(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?(parseInt(b.ext)/100).toFixed(2):.05,e="var o;"+
('o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL_2");\n'),e+="if(o!=null){var v=o.Value()-"+g+";if(v<0){v=0.0;}o.State(v);}\n",e+='o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL");\n',e+="if(o!=null){o.State(o.Value());}\n",e+='o="";\n';case "lamellaTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)g=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))g=b.ext;else return null;g/=100;g=0>g?0:g;g=1<g?1:g;e="var o;"+('o=dom.GetObject("'+
c["interface"]+"."+c.address+":"+d.address+'.LEVEL_2");\n');e+="if(o!=null){o.State("+g+");}\n";e+='o=dom.GetObject("'+c["interface"]+"."+c.address+":"+d.address+'.LEVEL");\n';e+="if(o!=null){o.State(o.Value());}\n";return e+='o="";\n';default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,c,d,b,f){var e,g=c.address;c.channels&&c.channels.BLIND_TRANSMITTER&&(e=c.channels.BLIND_TRANSMITTER.address);var h;if(g&&e)if("moveTo"==d.value)c="LEVEL",b=
parseFloat(d.ext),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()};else if("lamellaTo"==d.value)c="LEVEL_2",b=parseFloat(d.ext),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()};else if("stepUp"==d.value||"stepDown"==d.value){if(c="LEVEL",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3))))b=Math.round(100*parseFloat(b)),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()}}else if("lamellaStepUp"==d.value||
"lamellaStepDown"==d.value)if(c="LEVEL_2",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(b=b.substr(d+3,h-d-3))))b=Math.round(100*parseFloat(b)),a._statebuffer[g+":"+e+"."+c]={value:b,timestamp:(new Date).getTime()};f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "blindPos":f="LEVEL";break;case "lamellaPos":f="LEVEL_2"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E3<=(new Date).getTime()-b.timestamp?
(delete a[c+":"+d+"."+f],null):b.value:null):null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "blindPos":a="LEVEL";break;case "lamellaPos":a="LEVEL_2";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "blindPos":return a=parseFloat(a),Math.round(100*a);case "lamellaPos":return a=parseFloat(a),Math.round(100*a);default:return"?"}},resolveState:function(a,
c,d){var b;switch(c.datapoint){case "LEVEL":b="blindPos";break;case "LEVEL_2":b="lamellaPos"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},PRESENCEDETECTOR_TRANSCEIVER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=a=null;switch(b.value){case "presenceOn":a="PRESENCE_DETECTION_ACTIVE";f="if(o!=null){o.State(1);}\n";break;case "presenceOff":a="PRESENCE_DETECTION_ACTIVE";f="if(o!=null){o.State(0);}\n";break;case "presenceToggle":a=
"PRESENCE_DETECTION_ACTIVE";f="if(o!=null){if(o.Value()){o.State(0);}else{o.State(1);}}\n";break;case "presenceReset":a="RESET_PRESENCE";f="if(o!=null){o.State(1);}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,f)},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "presenceIllu":a="ILLUMINATION";break;case "presenceState":a="PRESENCE_DETECTION_STATE";break;case "presenceActivate":a="PRESENCE_DETECTION_ACTIVE";break;
default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "presenceIllu":return parseFloat(a).toFixed(2);case "presenceState":return"true"==a?"on":"off";case "presenceActivate":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "ILLUMINATION":b="presenceIllu";break;case "PRESENCE_DETECTION_STATE":b="presenceState";break;case "PRESENCE_DETECTION_ACTIVE":b=
"presenceActivate"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},CLIMATECONTROL_FLOOR_PUMP_TRANSCEIVER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "cl_fp_humidityLimiter":a="HUMIDITY_LIMITER";break;case "cl_fp_emergencyOP":a="EMERGENCY_OPERATION";break;case "cl_fp_frostProtection":a="FROST_PROTECTION";break;case "cl_fp_state":a="STATE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,
d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "cl_fp_humidityLimiter":case "cl_fp_emergencyOP":case "cl_fp_frostProtection":return a;case "cl_fp_state":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "HUMIDITY_LIMITER":b="cl_fp_humidityLimiter";break;case "EMERGENCY_OPERATION":b="cl_fp_emergencyOP";break;case "FROST_PROTECTION":b="cl_fp_frostProtection";break;case "STATE":b="cl_fp_state"}if(!b)return null;
a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},CLIMATECONTROL_FLOOR_TRANSCEIVER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "cl_f_humidityLimiter":a="HUMIDITY_LIMITER";break;case "cl_f_emergencyOP":a="EMERGENCY_OPERATION";break;case "cl_f_frostProtection":a="FROST_PROTECTION";break;case "cl_f_state":a="STATE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==
a)return a;switch(c.value){case "cl_f_humidityLimiter":case "cl_f_emergencyOP":case "cl_f_frostProtection":return a;case "cl_f_state":return"true"==a?"on":"off";default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "HUMIDITY_LIMITER":b="cl_f_humidityLimiter";break;case "EMERGENCY_OPERATION":b="cl_f_emergencyOP";break;case "FROST_PROTECTION":b="cl_f_frostProtection";break;case "STATE":b="cl_f_state"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,
value:a}}},WEATHER_TRANSMIT:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "weatherActualTemp":a="ACTUAL_TEMPERATURE";break;case "weatherHum":a="HUMIDITY";break;case "weatherIllu":a="ILLUMINATION";break;case "weatherSunD":a="SUNSHINEDURATION";break;case "weatherSunDOF":a="SUNSHINEDURATION_OVERFLOW";break;case "weatherSunTOR":a="SUNSHINE_THRESHOLD_OVERRUN";break;case "weatherWindS":a="WIND_SPEED";break;case "weatherWindTOR":a="WIND_THRESHOLD_OVERRUN";
break;case "weatherRain":a="RAINING";break;case "weatherRainC":a="RAIN_COUNTER";break;case "weatherRainCOF":a="RAIN_COUNTER_OVERFLOW";break;case "weatherWindD":a="WIND_DIR";break;case "weatherWindDR":a="WIND_DIR_RANGE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "weatherActualTemp":case "weatherIllu":case "weatherWindS":case "weatherRainC":case "weatherWindD":case "weatherWindDR":return parseFloat(parseFloat(a).toFixed(1));
case "weatherHum":case "weatherSunD":return parseInt(a);case "weatherSunDOF":case "weatherSunTOR":case "weatherWindTOR":case "weatherRain":case "weatherRainCOF":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "ACTUAL_TEMPERATURE":b="weatherActualTemp";break;case "HUMIDITY":b="weatherHum";break;case "ILLUMINATION":b="weatherIllu";break;case "SUNSHINEDURATION":b="weatherSunD";break;case "SUNSHINEDURATION_OVERFLOW":b="weatherSunDOF";break;case "SUNSHINE_THRESHOLD_OVERRUN":b=
"weatherSunTOR";break;case "WIND_SPEED":b="weatherWindS";break;case "WIND_THRESHOLD_OVERRUN":b="weatherWindTOR";break;case "RAINING":b="weatherRain";break;case "RAIN_COUNTER":b="weatherRainC";break;case "RAIN_COUNTER_OVERFLOW":b="weatherRainCOF";break;case "WIND_DIR":b="weatherWindD";break;case "WIND_DIR_RANGE":b="weatherWindDR"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},CLIMATE_TRANSCEIVER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;
a=null;switch(b.value){case "climateActualTemp":a="ACTUAL_TEMPERATURE";break;case "climateHum":a="HUMIDITY";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "climateActualTemp":return parseFloat(parseFloat(a).toFixed(1));case "climateHum":return parseInt(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "ACTUAL_TEMPERATURE":b="climateActualTemp";break;case "HUMIDITY":b=
"climateHum"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},PASSAGE_DETECTOR_DIRECTION_TRANSMITTER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "passageCurrentDirection":case "passageLastDirection":return d="CURRENT_PASSAGE_DIRECTION","passageLastDirection"==b.value&&(d="LAST_PASSAGE_DIRECTION"),b=xnm.aio.hm.MHMCCU._getDataPointAddress(c,{address:2},d),a='o=dom.GetObject("'+b+'");if(o!=null){states=states#o.Value();}else{states=states#"?";}',
b=xnm.aio.hm.MHMCCU._getDataPointAddress(c,{address:3},d),a+='states=states#"-";',a+='o=dom.GetObject("'+b+'");',a+='if(o!=null){states=states#o.Value();}else{states=states#"?";}';case "passageCurrent":a="CURRENT_PASSAGE_DIRECTION";break;case "passageLast":a="LAST_PASSAGE_DIRECTION";break;case "passageCOF":a="PASSAGE_COUNTER_OVERFLOW";break;case "passageC":a="PASSAGE_COUNTER_VALUE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==
a)return a;var d=null;switch(c.value){case "passageCurrentDirection":case "passageLastDirection":return d=a.split("-"),2>d.length?"?":"true"==d[0]?"right_to_left":"left_to_right";case "passageCurrent":case "passageLast":case "passageCOF":return a;case "passageC":return parseInt(a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "CURRENT_PASSAGE_DIRECTION":b="passageCurrent";break;case "LAST_PASSAGE_DIRECTION":b="passageLast";break;case "PASSAGE_COUNTER_OVERFLOW":b=
"passageCOF";break;case "PASSAGE_COUNTER_VALUE":b="passageC"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});switch(c.datapoint){case "CURRENT_PASSAGE_DIRECTION":b="passageCurrentDirection";a=c&&-1!=c.channel.indexOf(":2")?"right_to_left":"left_to_right";break;case "LAST_PASSAGE_DIRECTION":b="passageLastDirection";a=c&&-1!=c.channel.indexOf(":2")?"right_to_left":"left_to_right";break;case "PASSAGE_COUNTER_OVERFLOW":b="passageCOF";break;case "PASSAGE_COUNTER_VALUE":b="passageC"}return{key:b,
value:a}}},GENERIC_INPUT_TRANSMITER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "genInputChangeOver":a="CHANGE_OVER";break;case "genInputExtClock":a="EXTERNAL_CLOCK";break;case "genInputHumidityLimiter":a="HUMIDITY_LIMITER";break;case "genInputState":a="STATE";break;case "genInputTactileSwitch":a="TACTILE_SWITCH";break;case "genInputTempLimiter":a="TEMPERATURE_LIMITER";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,
a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "genInputChangeOver":case "genInputExtClock":case "genInputHumidityLimiter":case "genInputState":case "genInputTactileSwitch":case "genInputTempLimiter":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "CHANGE_OVER":b="genInputChangeOver";break;case "EXTERNAL_CLOCK":b="genInputExtClock";break;case "HUMIDITY_LIMITER":b="genInputHumidityLimiter";break;case "STATE":b="genInputState";
break;case "TACTILE_SWITCH":b="genInputTactileSwitch";break;case "TEMPERATURE_LIMITER":b="genInputTempLimiter"}return{key:b,value:value}}},ANALOG_OUTPUT_TRANSCEIVER:{buildCommandScript:function(a,c,d,b){if(!c.channels||!b.value)return null;var f=null,e=null,f=e=null;switch(b.value){case "analogOutputOff":f="LEVEL";e="if(o!=null){o.State(0.0);}\n";break;case "analogOutputUp":e=null==b.ext||"undefined"==typeof b.ext?.1:"number"==typeof b.ext?(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?
(parseInt(b.ext)/100).toFixed(2):.1;a._statebuffer&&(f=this.getBufferedState(a._statebuffer,c,d,{value:"analogOutputLevel"}));e=null==f||"undefined"==typeof f?"if(o!=null){var v=o.Value()+"+e+";if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+f/100+"+"+e+";if(v>1){v=1.0;}o.State(v);}\n";f="LEVEL";break;case "analogOutputDown":e=null==b.ext||"undefined"==typeof b.ext?.1:"number"==typeof b.ext?(parseInt(b.ext)/100).toFixed(2):b.ext.match(/^[-+]?[0-9]+$/)?(parseInt(b.ext)/100).toFixed(2):.1;a._statebuffer&&
(f=this.getBufferedState(a._statebuffer,c,d,{value:"analogOutputLevel"}));null==f||"undefined"==typeof f?e="if(o!=null){var v=o.Value()-"+e+";if(v<0){v=0.0;}o.State(v);}\n":(f/=100,e="if(o!=null){var v="+f+"-"+e+";if(v<0){v=0.0;}o.State(v);}\n");f="LEVEL";break;case "analogOutputTo":if(null==b.ext||"undefined"==typeof b.ext)return null;if("number"==typeof b.ext)e=parseInt(b.ext);else if(b.ext.match(/^[-+]?[0-9]+$/))e=b.ext;else return null;f="LEVEL";e/=100;e=0>e?0:e;e="if(o!=null){o.State("+(1<e?
1:e)+");}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,f,e)},handleCommandResponse:function(a,c,d,b,f){var e,g=c.address;c.channels&&c.channels.DIMMER&&(e=c.channels.DIMMER.address);var h;if(g&&e)if("analogOutputTo"==d.value||"analogOutputOff"==d.value){c="LEVEL";switch(d.value){case "analogOutputTo":h=parseFloat(d.ext);break;case "analogOutputOff":h=0}a._statebuffer[g+":"+e+"."+c]={value:h,timestamp:(new Date).getTime()}}else if("analogOutputUp"==d.value||"analogOutputDown"==
d.value)if(c="LEVEL",b&&(d=b.indexOf("<v>"),h=b.indexOf("</v>"),-1!=d&&-1!=h&&d+3<h&&(h=b.substr(d+3,h-d-3))))h=Math.round(100*parseFloat(h)),a._statebuffer[g+":"+e+"."+c]={value:h,timestamp:(new Date).getTime()};f&&f()},getBufferedState:function(a,c,d,b){c=c.address;d=d.address;var f;switch(b.value){case "analogOutputLevel":f="LEVEL"}return c&&d&&f&&a?(b=a[c+":"+d+"."+f],b&&null!=b.value&&"undefined"!=typeof b.value?3E3<=(new Date).getTime()-b.timestamp?(delete a[c+":"+d+"."+f],null):b.value:null):
null},buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "analogOutputLevel":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"LEVEL")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "analogOutputLevel":return a=parseFloat(a),Math.round(100*a);default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "LEVEL":b="analogOutputLevel"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});
return{key:b,value:a}}},MULTI_MODE_INPUT_TRANSMITTER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;switch(b.value){case "state":break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,"STATE")},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "state":return"true"==a?"on":"off";case "pressShort":case "pressLong":return!0;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "STATE":b="state";break;case "PRESS_SHORT":b=
"pressShort";break;case "PRESS_LONG":b="pressLong"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}},WATER_DETECTION_TRANSMITTER:{buildStateScript:function(a,c,d,b){if(!c.channels||!b.value)return null;a=null;switch(b.value){case "waterAlarmState":a="ALARMSTATE";break;case "waterMoistureDetected":a="MOISTURE_DETECTED";break;case "waterWaterDetected":a="WATERLEVEL_DETECTED";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,
c){if("?"==a)return a;switch(c.value){case "waterAlarmState":return"true"==a?"on":"off";case "waterMoistureDetected":case "waterWaterDetected":return a;default:return"?"}},resolveState:function(a,c,d){var b;switch(c.datapoint){case "ALARMSTATE":b="waterAlarmState";break;case "MOISTURE_DETECTED":b="waterMoistureDetected";break;case "WATERLEVEL_DETECTED":b="waterWaterDetected"}if(!b)return null;a=this.handleStatusResponse(d+"",{value:b});return{key:b,value:a}}}};
xnm.aio.hm.BidCosDevice=function(){var a=function(){};a.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",name:"ch.1 short press",ref:{value:"ch1pressShort"}},{type:"enum",name:"ch.1 long press",ref:{value:"ch1pressLong"}},{type:"enum",name:"ch.2 short press",ref:{value:"ch2pressShort"}},{type:"enum",name:"ch.2 long press",ref:{value:"ch2pressLong"}}],status:[{type:"int",name:"state",ref:{value:"state8bit",extMeta:"0-255"}},{type:"enum",name:"low battery",ref:{value:"lowbat",options:["true",
"off"]}}]}};a.prototype.getIPEvtMap=function(){return{ipevt:[{type:"int",name:"state",ref:{value:"state8bit",extMeta:"0-255"}},{type:"enum",name:"low battery",ref:{value:"lowbat",options:["true","off"]}},{type:"enum",name:"ch.1 short press",ref:{value:"ch1pressShort",options:["true"]}},{type:"enum",name:"ch.1 long press",ref:{value:"ch1pressLong",options:["true"]}},{type:"enum",name:"ch.2 short press",ref:{value:"ch2pressShort",options:["true"]}},{type:"enum",name:"ch.2 long press",ref:{value:"ch2pressLong",
options:["true"]}}]}};a.prototype.executeCommand=function(a,d,b,f){if(b){var e=null;switch(b.value){case "ch1pressShort":e=xnm.aio.hm.Channel.KEY.buildCommandScript(a,d,{address:1},{value:"pressShort"});break;case "ch1pressLong":e=xnm.aio.hm.Channel.KEY.buildCommandScript(a,d,{address:1},{value:"pressLong"});break;case "ch2pressShort":e=xnm.aio.hm.Channel.KEY.buildCommandScript(a,d,{address:2},{value:"pressShort"});break;case "ch2pressLong":e=xnm.aio.hm.Channel.KEY.buildCommandScript(a,d,{address:2},
{value:"pressLong"})}e?a._doRequestMarked(e,!0,{execute:function(a,b){f&&f(a)}}):f&&f(Error("invalid command"))}else f&&f(Error("command is null"))};a.prototype.buildStateScript=function(a,d,b){if(!b)return null;var f=null;switch(b.value){case "state8bit":f=xnm.aio.hm.Channel.MOD_EM8BIT_TRANSMITTER.buildStateScript(a,d,{address:3},{value:"state8bit"});break;case "lowbat":f=xnm.aio.hm.Channel.MOD_EM8BIT_TRANSMITTER.buildStateScript(a,d,{address:3},{value:"lowbat"})}return f};a.prototype.handleStatusResponse=
function(a,d){if("?"==a)return a;switch(d.value){case "state8bit":return xnm.aio.hm.Channel.MOD_EM8BIT_TRANSMITTER.handleStatusResponse(a,d);case "lowbat":return xnm.aio.hm.Channel.MOD_EM8BIT_TRANSMITTER.handleStatusResponse(a,d);default:return"?"}};a.prototype.resolveState=function(a,d,b){if(!d||!d.channel)return null;var f=d.channel.indexOf(":");if(-1==f)return null;var f=d.channel.substr(f+1),e=null;switch(f){case "1":case "2":e=xnm.aio.hm.Channel.KEY.resolveState(a,d,b);"1"==f?e.key="ch1"+e.key:
"2"==f&&(e.key="ch2"+e.key);break;case "3":e=xnm.aio.hm.Channel.MOD_EM8BIT_TRANSMITTER.resolveState(a,d,b)}return e};return{"HM-MOD-EM-8Bit":new a}}();
xnm.aio.hm.HmIPDevice=function(){var a=function(){this._address=this._type=null;this._chMaintenance=0;this._chSwitchTransmitter=1;this._chSwitchVirtualReceiver1=2;this._chSwitchVirtualReceiver2=3;this._chSwitchVirtualReceiver3=4;this._chSwitchWeekProfile=17};a.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",name:"on",ref:{value:"on"}},{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"toggle",ref:{value:"toggle"}}],status:[{type:"enum",name:"communication error",ref:{value:"errorComm",
options:["false","true"]}},{type:"enum",name:"switch status",ref:{value:"switchState",options:["off","on"]}}]}};a.prototype.getIPEvtMap=function(){var a=this.getCommandStatusMap().status;return{ipevt:JSON.parse(JSON.stringify(a))}};a.prototype.executeCommand=function(a,b,c,d){if(c){var e=null;switch(c.value){case "on":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:this._chSwitchVirtualReceiver1},{value:"on"});break;case "off":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,
b,{address:this._chSwitchVirtualReceiver1},{value:"off"});break;case "toggle":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:this._chSwitchVirtualReceiver1},{value:"toggle"});break;default:d&&d(Error("unknown command"));return}e?a._doRequestMarked(e,!0,{execute:function(a,b){setTimeout(function(){d&&d(a)},200)}}):d&&d(Error("invalid command"))}else d&&d(Error("command is null"))};a.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":d=
xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:this._chMaintenance},c);break;case "switchState":d=xnm.aio.hm.HmIPChannel.SWITCH_TRANSMITTER.buildStateScript(a,b,{address:this._chSwitchTransmitter},{value:"switchTState"})}return d};a.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "switchState":return xnm.aio.hm.HmIPChannel.SWITCH_TRANSMITTER.handleStatusResponse(a,
{value:"switchTState"});default:return"?"}};a.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(parseInt(d)){case this._chMaintenance:e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case this._chSwitchTransmitter:e=xnm.aio.hm.HmIPChannel.SWITCH_TRANSMITTER.resolveState(a,b,c)}return e};a.parseJSON=function(b){if(!b||!b.type||!b.channels)return null;var c=new a;c._type=b.type;
c._address=b.address;var d=0,e;for(e in b.channels)"SWITCH_TRANSMITTER"==e.substr(0,18)?c._chSwitchTransmitter=parseInt(b.channels[e].address):"SWITCH_VIRTUAL_RECEIVER"==e.substr(0,23)?(d++,1==d?c._chSwitchVirtualReceiver1=parseInt(b.channels[e].address):2==d?c._chSwitchVirtualReceiver2=parseInt(b.channels[e].address):3==d&&(c._chSwitchVirtualReceiver3=parseInt(b.channels[e].address))):"SWITCH_WEEK_PROFILE"==e.substr(0,19)&&(c._chSwitchWeekProfile=parseInt(b.channels[e].address));return c};var c=
function(){this._address=this._type=null;this._chMaintenance=0;this._chDimmerTransmitter=1;this._chDimmerVirtualReceiver1=2;this._chDimmerVirtualReceiver2=3;this._chDimmerVirtualReceiver3=4;this._chDimmerWeekProfile=13};c.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",name:"off",ref:{value:"dimOff"}},{type:"int",name:"dim up",ref:{value:"dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"dim down",ref:{value:"dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",
name:"dim to",ref:{value:"dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"toggle to",ref:{value:"toggleTo",ext:"%d",extMeta:"0-100",unit:"%"}}],status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"int",name:"dimmer status",ref:{value:"dimmerTLevel",extMeta:"0-100",unit:"%"}}]}};c.prototype.getIPEvtMap=function(){var a=this.getCommandStatusMap().status;return{ipevt:JSON.parse(JSON.stringify(a))}};c.prototype.executeCommand=function(a,
b,c,d){if(c){var e=null;switch(c.value){case "dimOn":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:this._chDimmerVirtualReceiver1},{value:"dimOn"});break;case "dimOff":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:this._chDimmerVirtualReceiver1},{value:"dimOff"});break;case "dimUp":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:this._chDimmerVirtualReceiver1},{value:"dimUp",ext:c.ext});break;case "dimDown":e=
xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:this._chDimmerVirtualReceiver1},{value:"dimDown",ext:c.ext});break;case "dimTo":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:this._chDimmerVirtualReceiver1},{value:"dimTo",ext:c.ext});break;case "toggleTo":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:this._chDimmerVirtualReceiver1},{value:"toggleTo",ext:c.ext})}e?a._doRequestMarked(e,!0,{execute:function(a,
b){setTimeout(function(){d&&d(a)},200)}}):d&&d(Error("invalid command"))}else d&&d(Error("command is null"))};c.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:this._chMaintenance},c);break;case "dimmerTLevel":d=xnm.aio.hm.HmIPChannel.DIMMER_TRANSMITTER.buildStateScript(a,b,{address:this._chDimmerTransmitter},{value:"dimmerTLevel"})}return d};c.prototype.handleStatusResponse=
function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "dimmerTLevel":return xnm.aio.hm.HmIPChannel.DIMMER_TRANSMITTER.handleStatusResponse(a,{value:"dimmerTLevel"});default:return"?"}};c.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(parseInt(d)){case this._chMaintenance:e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,
b,c);break;case this._chDimmerTransmitter:e=xnm.aio.hm.HmIPChannel.DIMMER_TRANSMITTER.resolveState(a,b,c)}return e};c.parseJSON=function(a){if(!a||!a.type||!a.channels)return null;var b=new c;b._type=a.type;b._address=a.address;var d=0,e;for(e in a.channels)"DIMMER_TRANSMITTER"==e.substr(0,18)?b._chDimmerTransmitter=parseInt(a.channels[e].address):"DIMMER_VIRTUAL_RECEIVER"==e.substr(0,23)?(d++,1==d?b._chDimmerVirtualReceiver1=parseInt(a.channels[e].address):2==d?b._chDimmerVirtualReceiver2=parseInt(a.channels[e].address):
3==d&&(b._chDimmerVirtualReceiver3=parseInt(a.channels[e].address))):"DIMMER_WEEK_PROFILE"==e.substr(0,19)&&(b._chDimmerWeekProfile=parseInt(a.channels[e].address));return b};var d=function(){this._address=this._type=null;this._chMaintenance=0;this._chBlindTransmitter=1;this._chBlindVirtualReceiver1=2;this._chBlindVirtualReceiver2=3;this._chBlindVirtualReceiver3=4;this._chBlindWeekProfile=17};d.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",name:"stop",ref:{value:"stop"}},{type:"enum",
name:"move up",ref:{value:"moveUp"}},{type:"enum",name:"move down",ref:{value:"moveDown"}},{type:"int",name:"step up",ref:{value:"stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"step down",ref:{value:"stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"move to",ref:{value:"moveTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"lamella up",ref:{value:"lamellaUp"}},{type:"enum",name:"lamella down",ref:{value:"lamellaDown"}},{type:"int",name:"lamella step up",ref:{value:"lamellaStepUp",
ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"lamella step down",ref:{value:"lamellaStepDown",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"lamella to",ref:{value:"moveTo",ext:"%d",extMeta:"0-100",unit:"%"}}],status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"int",name:"blind status",ref:{value:"blindTPos",extMeta:"0-100",unit:"%"}},{type:"int",name:"lamella status",ref:{value:"lamellaTPos",extMeta:"0-100",unit:"%"}}]}};d.prototype.getIPEvtMap=
function(){var a=this.getCommandStatusMap().status;return{ipevt:JSON.parse(JSON.stringify(a))}};d.prototype.executeCommand=function(a,b,c,d){c?(script=xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:this._chBlindVirtualReceiver1},{value:c.value,ext:c.ext}))?a._doRequestMarked(script,!0,{execute:function(a,b){setTimeout(function(){d&&d(a)},200)}}):d&&d(Error("invalid command")):d&&d(Error("command is null"))};d.prototype.buildStateScript=function(a,b,c){if(!c)return null;
var d=null;switch(c.value){case "errorComm":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:this._chMaintenance},c);break;case "blindTPos":d=xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.buildStateScript(a,b,{address:this._chBlindTransmitter},{value:"blindTPos"});break;case "lamellaTPos":d=xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.buildStateScript(a,b,{address:this._chBlindTransmitter},{value:"lamellaTPos"})}return d};d.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;
switch(b.value){case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "blindTPos":return xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.handleStatusResponse(a,{value:"blindTPos"});case "lamellaTPos":return xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.handleStatusResponse(a,{value:"lamellaTPos"});default:return"?"}};d.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(parseInt(d)){case this._chMaintenance:e=
xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case this._chBlindTransmitter:e=xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.resolveState(a,b,c)}return e};d.parseJSON=function(a){if(!a||!a.type||!a.channels)return null;var b=new d;b._type=a.type;b._address=a.address;var c=0,e;for(e in a.channels)"BLIND_TRANSMITTER"==e.substr(0,17)?b._chBlindTransmitter=parseInt(a.channels[e].address):"BLIND_VIRTUAL_RECEIVER"==e.substr(0,22)?(c++,1==c?b._chBlindVirtualReceiver1=parseInt(a.channels[e].address):
2==c?b._chBlindVirtualReceiver2=parseInt(a.channels[e].address):3==c&&(b._chBlindVirtualReceiver3=parseInt(a.channels[e].address))):"BLIND_WEEK_PROFILE"==e.substr(0,18)&&(b._chBlindWeekProfile=parseInt(a.channels[e].address));return b};var b=function(){this._address=this._type=null;this._chMaintenance=0;this._chInputTransmitter=1};b.prototype.getCommandStatusMap=function(){return{status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"status",
ref:{value:"state",options:["off","on"]}}]}};b.prototype.getIPEvtMap=function(){return{ipevt:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"status",ref:{value:"state",options:["off","on"]}},{type:"enum",name:"short press",ref:{value:"pressShort",options:["true"]}},{type:"enum",name:"long press",ref:{value:"pressLong",options:["true"]}}]}};b.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":d=
xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:this._chMaintenance},c);break;case "state":d=xnm.aio.hm.HmIPChannel.MULTI_MODE_INPUT_TRANSMITTER.buildStateScript(a,b,{address:this._chInputTransmitter},{value:"state"})}return d};b.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "state":return xnm.aio.hm.HmIPChannel.MULTI_MODE_INPUT_TRANSMITTER.handleStatusResponse(a,
{value:"state"});default:return"?"}};b.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(parseInt(d)){case this._chMaintenance:e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case this._chInputTransmitter:e=xnm.aio.hm.HmIPChannel.MULTI_MODE_INPUT_TRANSMITTER.resolveState(a,b,c)}return e};b.parseJSON=function(a){if(!a||!a.type||!a.channels)return null;var c=new b;c._type=a.type;
c._address=a.address;for(var d in a.channels)"MULTI_MODE_INPUT_TRANSMITTER"==d.substr(0,28)&&(c._chInputTransmitter=parseInt(a.channels[d].address));return c};var f=function(){};f.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",name:"on",ref:{value:"on"}},{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"toggle",ref:{value:"toggle"}},{type:"enum",name:"ch.4 on",ref:{value:"ch4on"}},{type:"enum",name:"ch.4 off",ref:{value:"ch4off"}},{type:"enum",name:"ch.4 toggle",
ref:{value:"ch4toggle"}},{type:"enum",name:"ch.5 on",ref:{value:"ch5on"}},{type:"enum",name:"ch.5 off",ref:{value:"ch5off"}},{type:"enum",name:"ch.5 toggle",ref:{value:"ch5toggle"}},{type:"enum",name:"ch.6 on",ref:{value:"ch6on"}},{type:"enum",name:"ch.6 off",ref:{value:"ch6off"}},{type:"enum",name:"ch.6 toggle",ref:{value:"ch6toggle"}}],status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"switch status",ref:{value:"switchState",options:["off",
"on"]}},{type:"enum",name:"ch.4 status",ref:{value:"ch4State",options:["off","on"]}},{type:"enum",name:"ch.5 status",ref:{value:"ch5State",options:["off","on"]}},{type:"enum",name:"ch.6 status",ref:{value:"ch6State",options:["off","on"]}},{type:"float",name:"voltage",ref:{value:"meterVoltage",extMeta:"0.0-409.5",scale:"0.1",unit:"V"}},{type:"float",name:"energy counter",ref:{value:"meterEnergyCounter",extMeta:"0.0-838859.1",scale:"0.1",unit:"Wh"}},{type:"float",name:"frequency",ref:{value:"meterFrequency",
extMeta:"29.52-70.47",scale:"0.01",unit:"Hz"}},{type:"float",name:"power",ref:{value:"meterPower",extMeta:"0.0-163830.0",scale:"0.1",unit:"W"}},{type:"float",name:"current",ref:{value:"meterCurrent",extMeta:"0.0-65535.0",scale:"0.1",unit:"mA"}}]}};f.prototype.getIPEvtMap=function(){var a=this.getCommandStatusMap().status;return{ipevt:JSON.parse(JSON.stringify(a))}};f.prototype.executeCommand=function(a,b,c,d){if(c){var e=null;switch(c.value){case "on":case "ch4on":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,
b,{address:4},{value:"on"});break;case "off":case "ch4off":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:4},{value:"off"});break;case "toggle":case "ch4toggle":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:4},{value:"toggle"});break;case "ch5on":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:5},{value:"on"});break;case "ch5off":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,
b,{address:5},{value:"off"});break;case "ch5toggle":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:5},{value:"toggle"});break;case "ch6on":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:6},{value:"on"});break;case "ch6off":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:6},{value:"off"});break;case "ch6toggle":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:6},{value:"toggle"})}e?
a._doRequestMarked(e,!0,{execute:function(a,b){setTimeout(function(){d&&d(a)},200)}}):d&&d(Error("invalid command"))}else d&&d(Error("command is null"))};f.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "switchState":d=xnm.aio.hm.HmIPChannel.SWITCH_TRANSMITTER.buildStateScript(a,b,{address:3},{value:"switchTState"});break;case "ch4State":d=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildStateScript(a,
b,{address:4},{value:"switchState"});break;case "ch5State":d=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:5},{value:"switchState"});break;case "ch6State":d=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:6},{value:"switchState"});break;case "meterVoltage":case "meterEnergyCounter":case "meterFrequency":case "meterPower":case "meterCurrent":d=xnm.aio.hm.HmIPChannel.ENERGIE_METER_TRANSMITTER.buildStateScript(a,b,{address:7},c)}return d};f.prototype.handleStatusResponse=
function(a,b){if("?"==a)return a;switch(b.value){case "meterVoltage":case "meterEnergyCounter":case "meterFrequency":case "meterPower":case "meterCurrent":return xnm.aio.hm.HmIPChannel.ENERGIE_METER_TRANSMITTER.handleStatusResponse(a,b);case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "switchState":return xnm.aio.hm.HmIPChannel.SWITCH_TRANSMITTER.handleStatusResponse(a,{value:"switchTState"});case "ch4State":case "ch5State":case "ch6State":return xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.handleStatusResponse(a,
{value:"switchState"});default:return"?"}};f.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(d){case "3":e=xnm.aio.hm.HmIPChannel.SWITCH_TRANSMITTER.resolveState(a,b,c);break;case "4":case "5":case "6":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.resolveState(a,b,c);e.key="4"==d?"ch4State":"5"==d?"ch5State":"ch6State";break;case "7":e=xnm.aio.hm.HmIPChannel.ENERGIE_METER_TRANSMITTER.resolveState(a,
b,c)}return e};var e=function(){};e.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",name:"on",ref:{value:"dimOn"}},{type:"enum",name:"off",ref:{value:"dimOff"}},{type:"int",name:"dim up",ref:{value:"dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"dim down",ref:{value:"dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"dim to",ref:{value:"dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"toggle to",ref:{value:"toggleTo",ext:"%d",extMeta:"0-100",
unit:"%"}},{type:"enum",name:"ch.4 on",ref:{value:"ch4dimOn"}},{type:"enum",name:"ch.4 off",ref:{value:"ch4dimOff"}},{type:"int",name:"ch.4 dim up",ref:{value:"ch4dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.4 dim down",ref:{value:"ch4dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.4 dim to",ref:{value:"ch4dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.4 toggle to",ref:{value:"ch4toggleTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.5 on",
ref:{value:"ch5dimOn"}},{type:"enum",name:"ch.5 off",ref:{value:"ch5dimOff"}},{type:"int",name:"ch.5 dim up",ref:{value:"ch5dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.5 dim down",ref:{value:"ch5dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.5 dim to",ref:{value:"ch5dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.5 toggle to",ref:{value:"ch5toggleTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.6 on",ref:{value:"ch6dimOn"}},{type:"enum",
name:"ch.6 off",ref:{value:"ch6dimOff"}},{type:"int",name:"ch.6 dim up",ref:{value:"ch6dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.6 dim down",ref:{value:"ch6dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.6 dim to",ref:{value:"ch6dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.6 toggle to",ref:{value:"ch6toggleTo",ext:"%d",extMeta:"0-100",unit:"%"}}],status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},
{type:"int",name:"dimmer status",ref:{value:"dimmerTLevel",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.4 status",ref:{value:"ch4Level",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.5 status",ref:{value:"ch5Level",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.6 status",ref:{value:"ch6Level",extMeta:"0-100",unit:"%"}}]}};e.prototype.getIPEvtMap=function(){var a=this.getCommandStatusMap().status;return{ipevt:JSON.parse(JSON.stringify(a))}};e.prototype.executeCommand=function(a,b,c,d){if(c){var e=
null;switch(c.value){case "dimOn":case "ch4dimOn":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:4},{value:"dimOn"});break;case "dimOff":case "ch4dimOff":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:4},{value:"dimOff"});break;case "dimUp":case "ch4dimUp":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:4},{value:"dimUp",ext:c.ext});break;case "dimDown":case "ch4dimDown":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,
b,{address:4},{value:"dimDown",ext:c.ext});break;case "dimTo":case "ch4dimTo":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:4},{value:"dimTo",ext:c.ext});break;case "toggleTo":case "ch4toggleTo":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:4},{value:"toggleTo",ext:c.ext});break;case "ch5dimOn":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:5},{value:"dimOn"});break;case "ch5dimOff":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,
b,{address:5},{value:"dimOff"});break;case "ch5dimUp":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:5},{value:"dimUp",ext:c.ext});break;case "ch5dimDown":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:5},{value:"dimDown",ext:c.ext});break;case "ch5dimTo":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:5},{value:"dimTo",ext:c.ext});break;case "ch5toggleTo":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,
b,{address:5},{value:"toggleTo",ext:c.ext});break;case "ch6dimOn":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:6},{value:"dimOn"});break;case "ch6dimOff":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:6},{value:"dimOff"});break;case "ch6dimUp":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:6},{value:"dimUp",ext:c.ext});break;case "ch6dimDown":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,
b,{address:6},{value:"dimDown",ext:c.ext});break;case "ch6dimTo":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:6},{value:"dimTo",ext:c.ext});break;case "ch6toggleTo":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:6},{value:"toggleTo",ext:c.ext})}e?a._doRequestMarked(e,!0,{execute:function(a,b){setTimeout(function(){d&&d(a)},200)}}):d&&d(Error("invalid command"))}else d&&d(Error("command is null"))};e.prototype.buildStateScript=function(a,
b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "dimmerTLevel":d=xnm.aio.hm.HmIPChannel.DIMMER_TRANSMITTER.buildStateScript(a,b,{address:3},{value:"dimmerTLevel"});break;case "ch4Level":d=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:4},{value:"dimmerLevel"});break;case "ch5Level":d=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:5},{value:"dimmerLevel"});
break;case "ch6Level":d=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:6},{value:"dimmerLevel"})}return d};e.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "dimmerTLevel":return xnm.aio.hm.HmIPChannel.DIMMER_TRANSMITTER.handleStatusResponse(a,{value:"dimmerTLevel"});case "ch4Level":case "ch5Level":case "ch6Level":return xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.handleStatusResponse(a,
{value:"dimmerLevel"});default:return"?"}};e.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(d){case "3":e=xnm.aio.hm.HmIPChannel.DIMMER_TRANSMITTER.resolveState(a,b,c);break;case "4":case "5":case "6":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.resolveState(a,b,c),e.key="4"==d?"ch4Level":"5"==d?"ch5Level":"ch6Level"}return e};var g=function(){};g.prototype.getCommandStatusMap=function(){return{status:[{type:"enum",
name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorBat",options:["false","true"]}}]}};g.prototype.getIPEvtMap=function(){return{ipevt:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorLowbat",options:["false","true"]}},{type:"enum",name:"button 1 short press",ref:{value:"btn1pressShort",options:["true"]}},{type:"enum",name:"button 1 long press",
ref:{value:"btn1pressLong",options:["true"]}},{type:"enum",name:"button 2 short press",ref:{value:"btn2pressShort",options:["true"]}},{type:"enum",name:"button 2 long press",ref:{value:"btn2pressLong",options:["true"]}}]}};g.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":case "errorBat":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c)}return d};g.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":case "errorBat":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,
b);default:return"?"}};g.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(d){case "0":e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case "1":case "2":e=xnm.aio.hm.HmIPChannel.KEY_TRANSCEIVER.resolveState(a,b,c),"pressShort"==e.key?e.key="1"==d?"btn1pressShort":"btn2pressShort":"pressLong"==e.key&&(e.key="1"==d?"btn1pressLong":"btn2pressLong")}return e};var h=function(){};
h.prototype.getCommandStatusMap=function(){return{command:[{type:"multi",name:"trigger alarm",ref:{value:"alarmTrigger",ext:"%multi",extMeta:[{type:"enum",name:"set audio",ref:{value:"alarmAudio",ext:"%e",extMeta:"DISABLE_ACOUSTIC_SIGNAL FREQUENCY_RISING FREQUENCY_FALLING FREQUENCY_RISING_AND_FALLING FREQUENCY_ALTERNATING_LOW_HIGH FREQUENCY_ALTERNATING_LOW_MID_HIGH FREQUENCY_HIGHON_OFF FREQUENCY_HIGHON_LONGOFF FREQUENCY_LOWON_OFF_HIGHON_OFF FREQUENCY_LOWON_LONGOFF_HIGHON_LONGOFF LOW_BATTERY DISARMED INTERNALLY_ARMED EXTERNALLY_ARMED DELAYED_INTERNALLY_ARMED DELAYED_EXTERNALLY_ARMED EVENT ERROR".split(" ")}},
{type:"enum",name:"set visual",ref:{value:"alarmVisual",ext:"%e",extMeta:"DISABLE_OPTICAL_SIGNAL BLINKING_ALTERNATELY_REPEATING BLINKING_BOTH_REPEATING DOUBLE_FLASHING_REPEATING FLASHING_BOTH_REPEATING CONFIRMATION_SIGNAL_0 CONFIRMATION_SIGNAL_1 CONFIRMATION_SIGNAL_2".split(" ")}},{type:"int",name:"set duration",ref:{value:"alarmDur",ext:"%d",extMeta:"0-16343"}},{type:"enum",name:"set duration unit",ref:{value:"alarmDurUnit",ext:"%e",extMeta:["S","M","H","D"]}}]}}],status:[{type:"enum",name:"communication error",
ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorBat",options:["false","true"]}},{type:"enum",name:"sabotage",ref:{value:"errorSabo",options:["false","true"]}},{type:"enum",name:"alarm state",ref:{value:"alarmState",options:["on","off"]}}]}};h.prototype.getIPEvtMap=function(){return{ipevt:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorLowbat",options:["false",
"true"]}},{type:"enum",name:"sabotage",ref:{value:"errorSabo",options:["false","true"]}},{type:"enum",name:"alarm state",ref:{value:"alarmState",options:["on","off"]}}]}};h.prototype.executeCommand=function(a,b,c,d){if(c){var e=null;switch(c.value){case "alarmTrigger":e=xnm.aio.hm.HmIPChannel.ALARM_SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:3},c)}e?a._doRequestMarked(e,!0,{execute:function(a,b){setTimeout(function(){d&&d(a)},200)}}):d&&d(Error("invalid command"))}else d&&d(Error("command is null"))};
h.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":case "errorBat":case "errorSabo":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "alarmState":d=xnm.aio.hm.HmIPChannel.ALARM_SWITCH_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:3},c)}return d};h.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":case "errorBat":case "errorSabo":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,
b);case "alarmState":return xnm.aio.hm.HmIPChannel.ALARM_SWITCH_VIRTUAL_RECEIVER.handleStatusResponse(a,b);default:return"?"}};h.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var e=null;switch(b.channel.substr(d+1)){case "0":e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case "3":e=xnm.aio.hm.HmIPChannel.ALARM_SWITCH_VIRTUAL_RECEIVER.resolveState(a,b,c)}return e};var k=function(){};k.prototype.getCommandStatusMap=
function(){return{command:[{type:"enum",name:"intrusion alarm off",ref:{value:"intrusionAlarmOff"}},{type:"enum",name:"intrusion alarm on",ref:{value:"intrusionAlarmOn"}}],status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorBat",options:["false","true"]}},{type:"enum",name:"alarm state",ref:{value:"smokeState",options:["on","off"]}},{type:"enum",name:"alarm detail",ref:{value:"smokeAlarmDetail",options:["off",
"primary_alarm","intrusion_alarm","secondary_alarm"]}}]}};k.prototype.getIPEvtMap=function(){return{ipevt:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorLowbat",options:["false","true"]}},{type:"enum",name:"alarm state",ref:{value:"smokeState",options:["on","off"]}},{type:"enum",name:"alarm detail",ref:{value:"smokeAlarmDetail",options:["off","primary_alarm","intrusion_alarm","secondary_alarm"]}}]}};k.prototype.executeCommand=
function(a,b,c,d){if(c){var e=null;switch(c.value){case "intrusionAlarmOff":case "intrusionAlarmOn":e=xnm.aio.hm.HmIPChannel.SMOKE_DETECTOR.buildCommandScript(a,b,{address:1},c)}e?a._doRequestMarked(e,!0,{execute:function(a){d&&d(a)}}):d&&d(Error("invalid command"))}else d&&d(Error("command is null"))};k.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":case "errorBat":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;
case "smokeState":d=xnm.aio.hm.HmIPChannel.SMOKE_DETECTOR.buildStateScript(a,b,{address:3},c)}return d};k.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":case "errorBat":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "smokeState":case "smokeAlarmDetail":return xnm.aio.hm.HmIPChannel.SMOKE_DETECTOR.handleStatusResponse(a,b);default:return"?"}};k.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");
if(-1==d)return null;var e=null;switch(b.channel.substr(d+1)){case "0":e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case "1":e=xnm.aio.hm.HmIPChannel.SMOKE_DETECTOR.resolveState(a,b,c)}return e};var m=function(){};m.prototype.getCommandStatusMap=function(){return{status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorBat",options:["false","true"]}},{type:"enum",name:"sabotage",ref:{value:"errorSabo",
options:["false","true"]}},{type:"enum",name:"window state",ref:{value:"handleState",options:["closed","tilted","open"]}}]}};m.prototype.getIPEvtMap=function(){return{ipevt:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorLowbat",options:["false","true"]}},{type:"enum",name:"sabotage",ref:{value:"errorSabo",options:["false","true"]}},{type:"enum",name:"window state",ref:{value:"handleState",options:["closed",
"tilted","open"]}}]}};m.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":case "errorBat":case "errorSabo":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "handleState":d=xnm.aio.hm.HmIPChannel.ROTARY_HANDLE_TRANSCEIVER.buildStateScript(a,b,{address:1},c)}return d};m.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":case "errorBat":case "errorSabo":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,
b);case "handleState":return xnm.aio.hm.HmIPChannel.ROTARY_HANDLE_TRANSCEIVER.handleStatusResponse(a,b);default:return"?"}};m.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var e=null;switch(b.channel.substr(d+1)){case "0":e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case "1":e=xnm.aio.hm.HmIPChannel.ROTARY_HANDLE_TRANSCEIVER.resolveState(a,b,c)}return e};var t=function(){};t.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",
name:"on",ref:{value:"on"}},{type:"enum",name:"off",ref:{value:"off"}},{type:"enum",name:"toggle",ref:{value:"toggle"}},{type:"enum",name:"ch.2 on",ref:{value:"ch2on"}},{type:"enum",name:"ch.2 off",ref:{value:"ch2off"}},{type:"enum",name:"ch.2 toggle",ref:{value:"ch2toggle"}},{type:"enum",name:"ch.3 on",ref:{value:"ch3on"}},{type:"enum",name:"ch.3 off",ref:{value:"ch3off"}},{type:"enum",name:"ch.3 toggle",ref:{value:"ch3toggle"}},{type:"enum",name:"ch.4 on",ref:{value:"ch4on"}},{type:"enum",name:"ch.4 off",
ref:{value:"ch4off"}},{type:"enum",name:"ch.4 toggle",ref:{value:"ch4toggle"}}],status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"switch status",ref:{value:"switchState",options:["off","on"]}},{type:"enum",name:"ch.2 status",ref:{value:"ch2State",options:["off","on"]}},{type:"enum",name:"ch.3 status",ref:{value:"ch3State",options:["off","on"]}},{type:"enum",name:"ch.4 status",ref:{value:"ch4State",options:["off","on"]}},{type:"float",
name:"voltage",ref:{value:"meterVoltage",extMeta:"0.0-409.5",scale:"0.1",unit:"V"}},{type:"float",name:"energy counter",ref:{value:"meterEnergyCounter",extMeta:"0.0-838859.1",scale:"0.1",unit:"Wh"}},{type:"float",name:"frequency",ref:{value:"meterFrequency",extMeta:"29.52-70.47",scale:"0.01",unit:"Hz"}},{type:"float",name:"power",ref:{value:"meterPower",extMeta:"0.0-163830.0",scale:"0.1",unit:"W"}},{type:"float",name:"current",ref:{value:"meterCurrent",extMeta:"0.0-65535.0",scale:"0.1",unit:"mA"}}]}};
t.prototype.getIPEvtMap=function(){var a=this.getCommandStatusMap().status;return{ipevt:JSON.parse(JSON.stringify(a))}};t.prototype.executeCommand=function(a,b,c,d){if(c){var e=null,f=null;switch(c.value){case "on":case "ch2on":case "ch3on":case "ch4on":switch(c.value){case "on":case "ch2on":f=2;break;case "ch3on":f=3;break;case "ch4on":f=4}e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:f},{value:"on"});break;case "off":case "ch2off":case "ch3off":case "ch4off":switch(c.value){case "off":case "ch2off":f=
2;break;case "ch3off":f=3;break;case "ch4off":f=4}e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:f},{value:"off"});break;case "toggle":case "ch2toggle":case "ch3toggle":case "ch4toggle":switch(c.value){case "toggle":case "ch2toggle":f=2;break;case "ch3toggle":f=3;break;case "ch4toggle":f=4}e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:f},{value:"toggle"})}e?a._doRequestMarked(e,!0,{execute:function(a,b){setTimeout(function(){d&&
d(a)},200)}}):d&&d(Error("invalid command"))}else d&&d(Error("command is null"))};t.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "switchState":d=xnm.aio.hm.HmIPChannel.SWITCH_TRANSMITTER.buildStateScript(a,b,{address:1},{value:"switchTState"});break;case "ch2State":d=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:2},{value:"switchState"});
break;case "ch3State":d=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:3},{value:"switchState"});break;case "ch4State":d=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:4},{value:"switchState"});break;case "meterVoltage":case "meterEnergyCounter":case "meterFrequency":case "meterPower":case "meterCurrent":d=xnm.aio.hm.HmIPChannel.ENERGIE_METER_TRANSMITTER.buildStateScript(a,b,{address:5},c)}return d};t.prototype.handleStatusResponse=function(a,
b){if("?"==a)return a;switch(b.value){case "meterVoltage":case "meterEnergyCounter":case "meterFrequency":case "meterPower":case "meterCurrent":return xnm.aio.hm.HmIPChannel.ENERGIE_METER_TRANSMITTER.handleStatusResponse(a,b);case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "switchState":return xnm.aio.hm.HmIPChannel.SWITCH_TRANSMITTER.handleStatusResponse(a,{value:"switchTState"});case "ch2State":case "ch3State":case "ch4State":return xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.handleStatusResponse(a,
{value:"switchState"});default:return"?"}};t.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(d){case "1":e=xnm.aio.hm.HmIPChannel.SWITCH_TRANSMITTER.resolveState(a,b,c);break;case "2":case "3":case "4":e=xnm.aio.hm.HmIPChannel.SWITCH_VIRTUAL_RECEIVER.resolveState(a,b,c);e.key="2"==d?"ch2State":"3"==d?"ch3State":"ch4State";break;case "5":e=xnm.aio.hm.HmIPChannel.ENERGIE_METER_TRANSMITTER.resolveState(a,
b,c)}return e};var v=function(){};v.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",name:"on",ref:{value:"dimOn"}},{type:"enum",name:"off",ref:{value:"dimOff"}},{type:"int",name:"dim up",ref:{value:"dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"dim down",ref:{value:"dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"dim to",ref:{value:"dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"toggle to",ref:{value:"toggleTo",ext:"%d",extMeta:"0-100",
unit:"%"}},{type:"enum",name:"ch.3 on",ref:{value:"ch3dimOn"}},{type:"enum",name:"ch.3 off",ref:{value:"ch3dimOff"}},{type:"int",name:"ch.3 dim up",ref:{value:"ch3dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.3 dim down",ref:{value:"ch3dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.3 dim to",ref:{value:"ch3dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.3 toggle to",ref:{value:"ch3toggleTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.4 on",
ref:{value:"ch4dimOn"}},{type:"enum",name:"ch.4 off",ref:{value:"ch4dimOff"}},{type:"int",name:"ch.4 dim up",ref:{value:"ch4dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.4 dim down",ref:{value:"ch4dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.4 dim to",ref:{value:"ch4dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.4 toggle to",ref:{value:"ch4toggleTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.5 on",ref:{value:"ch5dimOn"}},{type:"enum",
name:"ch.5 off",ref:{value:"ch5dimOff"}},{type:"int",name:"ch.5 dim up",ref:{value:"ch5dimUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.5 dim down",ref:{value:"ch5dimDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.5 dim to",ref:{value:"ch5dimTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.5 toggle to",ref:{value:"ch5toggleTo",ext:"%d",extMeta:"0-100",unit:"%"}}],status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},
{type:"int",name:"dimmer status",ref:{value:"dimmerTLevel",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.3 status",ref:{value:"ch3Level",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.4 status",ref:{value:"ch4Level",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.5 status",ref:{value:"ch5Level",extMeta:"0-100",unit:"%"}}]}};v.prototype.getIPEvtMap=function(){var a=this.getCommandStatusMap().status;return{ipevt:JSON.parse(JSON.stringify(a))}};v.prototype.executeCommand=function(a,b,c,d){if(c){var e=
null,f=null;switch(c.value){case "dimOn":case "ch3dimOn":case "ch4dimOn":case "ch5dimOn":switch(c.value){case "dimOn":case "ch3dimOn":f=3;break;case "ch4dimOn":f=4;break;case "ch5dimOn":f=5}e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:f},{value:"dimOn"});break;case "dimOff":case "ch3dimOff":case "ch4dimOff":case "ch5dimOff":switch(c.value){case "dimOff":case "ch3dimOff":f=3;break;case "ch4dimOff":f=4;break;case "ch5dimOff":f=5}e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,
b,{address:f},{value:"dimOff"});break;case "dimUp":case "ch3dimUp":case "ch4dimUp":case "ch5dimUp":switch(c.value){case "dimUp":case "ch3dimUp":f=3;break;case "ch4dimUp":f=4;break;case "ch5dimUp":f=5}e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:f},{value:"dimUp",ext:c.ext});break;case "dimDown":case "ch3dimDown":case "ch4dimDown":case "ch5dimDown":switch(c.value){case "dimDown":case "ch3dimDown":f=3;break;case "ch4dimDown":f=4;break;case "ch5dimDown":f=5}e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,
b,{address:f},{value:"dimDown",ext:c.ext});break;case "dimTo":case "ch3dimTo":case "ch4dimTo":case "ch5dimTo":switch(c.value){case "dimTo":case "ch3dimTo":f=3;break;case "ch4dimTo":f=4;break;case "ch5dimTo":f=5}e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:f},{value:"dimTo",ext:c.ext});break;case "toggleTo":case "ch3toggleTo":case "ch4toggleTo":case "ch5toggleTo":switch(c.value){case "toggleTo":case "ch3toggleTo":f=3;break;case "ch4toggleTo":f=4;break;case "ch5toggleTo":f=
5}e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:f},{value:"toggleTo",ext:c.ext})}e?a._doRequestMarked(e,!0,{execute:function(a,b){setTimeout(function(){d&&d(a)},200)}}):d&&d(Error("invalid command"))}else d&&d(Error("command is null"))};v.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "dimmerTLevel":d=xnm.aio.hm.HmIPChannel.DIMMER_TRANSMITTER.buildStateScript(a,
b,{address:2},{value:"dimmerTLevel"});break;case "ch3Level":d=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:3},{value:"dimmerLevel"});break;case "ch4Level":d=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:4},{value:"dimmerLevel"});break;case "ch5Level":d=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:5},{value:"dimmerLevel"})}return d};v.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,
b);case "dimmerTLevel":return xnm.aio.hm.HmIPChannel.DIMMER_TRANSMITTER.handleStatusResponse(a,{value:"dimmerTLevel"});case "ch3Level":case "ch4Level":case "ch5Level":return xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.handleStatusResponse(a,{value:"dimmerLevel"});default:return"?"}};v.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(d){case "2":e=xnm.aio.hm.HmIPChannel.DIMMER_TRANSMITTER.resolveState(a,
b,c);break;case "3":case "4":case "5":e=xnm.aio.hm.HmIPChannel.DIMMER_VIRTUAL_RECEIVER.resolveState(a,b,c),e.key="3"==d?"ch3Level":"4"==d?"ch4Level":"ch5Level"}return e};var u=function(){};u.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",name:"stop",ref:{value:"stop"}},{type:"enum",name:"move up",ref:{value:"moveUp"}},{type:"enum",name:"move down",ref:{value:"moveDown"}},{type:"int",name:"step up",ref:{value:"stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"step down",
ref:{value:"stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"move to",ref:{value:"moveTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.4 stop",ref:{value:"ch4stop"}},{type:"enum",name:"ch.4 move up",ref:{value:"ch4moveUp"}},{type:"enum",name:"ch.4 move down",ref:{value:"ch4moveDown"}},{type:"int",name:"ch.4 step up",ref:{value:"ch4stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.4 step down",ref:{value:"ch4stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",
name:"ch.4 move to",ref:{value:"ch4moveTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.5 stop",ref:{value:"ch5stop"}},{type:"enum",name:"ch.5 move up",ref:{value:"ch5moveUp"}},{type:"enum",name:"ch.5 move down",ref:{value:"ch5moveDown"}},{type:"int",name:"ch.5 step up",ref:{value:"ch5stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.5 step down",ref:{value:"ch5stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.5 move to",ref:{value:"ch5moveTo",ext:"%d",
extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.6 stop",ref:{value:"ch6stop"}},{type:"enum",name:"ch.6 move up",ref:{value:"ch6moveUp"}},{type:"enum",name:"ch.6 move down",ref:{value:"ch6moveDown"}},{type:"int",name:"ch.6 step up",ref:{value:"ch6stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.6 step down",ref:{value:"ch6stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.6 move to",ref:{value:"ch6moveTo",ext:"%d",extMeta:"0-100",unit:"%"}}],status:[{type:"enum",name:"communication error",
ref:{value:"errorComm",options:["false","true"]}},{type:"int",name:"blind status",ref:{value:"blindTLevel",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.4 status",ref:{value:"ch4Level",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.5 status",ref:{value:"ch5Level",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.6 status",ref:{value:"ch6Level",extMeta:"0-100",unit:"%"}}]}};u.prototype.getIPEvtMap=function(){var a=this.getCommandStatusMap().status;return{ipevt:JSON.parse(JSON.stringify(a))}};u.prototype.executeCommand=
function(a,b,c,d){if(c){var e=null,e=4,f=null;-1!=c.value.indexOf("ch5")?e=5:-1!=c.value.indexOf("ch6")&&(e=6);-1!=c.value.indexOf("stop")?f="stop":-1!=c.value.indexOf("moveUp")?f="moveUp":-1!=c.value.indexOf("moveDown")?f="moveDown":-1!=c.value.indexOf("stepUp")?f="stepUp":-1!=c.value.indexOf("stepDown")?f="stepDown":-1!=c.value.indexOf("moveTo")&&(f="moveTo");f?(e=xnm.aio.hm.HmIPChannel.SHUTTER_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:e},{value:f,ext:c.ext}))?a._doRequestMarked(e,!0,{execute:function(a,
b){setTimeout(function(){d&&d(a)},200)}}):d&&d(Error("invalid command")):d&&d(Error("unknown command"))}else d&&d(Error("command is null"))};u.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "blindTLevel":d=xnm.aio.hm.HmIPChannel.SHUTTER_TRANSMITTER.buildStateScript(a,b,{address:3},{value:"blindTLevel"});break;case "ch4Level":d=xnm.aio.hm.HmIPChannel.SHUTTER_VIRTUAL_RECEIVER.buildStateScript(a,
b,{address:4},{value:"blindLevel"});break;case "ch5Level":d=xnm.aio.hm.HmIPChannel.SHUTTER_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:5},{value:"blindLevel"});break;case "ch6Level":d=xnm.aio.hm.HmIPChannel.SHUTTER_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:6},{value:"blindLevel"})}return d};u.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "blindTLevel":return xnm.aio.hm.HmIPChannel.SHUTTER_TRANSMITTER.handleStatusResponse(a,
{value:"blindTLevel"});case "ch4Level":case "ch5Level":case "ch6Level":return xnm.aio.hm.HmIPChannel.SHUTTER_VIRTUAL_RECEIVER.handleStatusResponse(a,{value:"blindLevel"});default:return"?"}};u.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(d){case "3":e=xnm.aio.hm.HmIPChannel.SHUTTER_TRANSMITTER.resolveState(a,b,c);break;case "4":case "5":case "6":e=xnm.aio.hm.HmIPChannel.SHUTTER_VIRTUAL_RECEIVER.resolveState(a,
b,c),e.key="4"==d?"ch4Level":"5"==d?"ch5Level":"ch6Level"}return e};var w=function(){};w.prototype.getCommandStatusMap=function(){return{command:[{type:"enum",name:"stop",ref:{value:"stop"}},{type:"enum",name:"move up",ref:{value:"moveUp"}},{type:"enum",name:"move down",ref:{value:"moveDown"}},{type:"int",name:"step up",ref:{value:"stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"step down",ref:{value:"stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"move to",ref:{value:"moveTo",
ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"lamella up",ref:{value:"lamellaUp"}},{type:"enum",name:"lamella down",ref:{value:"lamellaDown"}},{type:"int",name:"lamella step up",ref:{value:"lamellaStepUp",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"lamella step down",ref:{value:"lamellaStepDown",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"lamella to",ref:{value:"lamellaTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.4 stop",ref:{value:"ch4stop"}},{type:"enum",
name:"ch.4 move up",ref:{value:"ch4moveUp"}},{type:"enum",name:"ch.4 move down",ref:{value:"ch4moveDown"}},{type:"int",name:"ch.4 step up",ref:{value:"ch4stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.4 step down",ref:{value:"ch4stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.4 move to",ref:{value:"ch4moveTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.4 lamella up",ref:{value:"ch4lamellaUp"}},{type:"enum",name:"ch.4 lamella down",ref:{value:"ch4lamellaDown"}},
{type:"int",name:"ch.4 lamella step up",ref:{value:"ch4lamellaStepUp",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"ch.4 lamella step down",ref:{value:"ch4lamellaStepDown",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"ch.4 lamella to",ref:{value:"ch4lamellaTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.5 stop",ref:{value:"ch5stop"}},{type:"enum",name:"ch.5 move up",ref:{value:"ch5moveUp"}},{type:"enum",name:"ch.5 move down",ref:{value:"ch5moveDown"}},{type:"int",name:"ch.5 step up",
ref:{value:"ch5stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.5 step down",ref:{value:"ch5stepDown",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.5 move to",ref:{value:"ch5moveTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.5 lamella up",ref:{value:"ch5lamellaUp"}},{type:"enum",name:"ch.5 lamella down",ref:{value:"ch5lamellaDown"}},{type:"int",name:"ch.5 lamella step up",ref:{value:"ch5lamellaStepUp",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"ch.5 lamella step down",
ref:{value:"ch5lamellaStepDown",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"ch.5 lamella to",ref:{value:"ch5lamellaTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.6 stop",ref:{value:"ch6stop"}},{type:"enum",name:"ch.6 move up",ref:{value:"ch6moveUp"}},{type:"enum",name:"ch.6 move down",ref:{value:"ch6moveDown"}},{type:"int",name:"ch.6 step up",ref:{value:"ch6stepUp",ext:"%d",extMeta:"1-100",unit:"%"}},{type:"int",name:"ch.6 step down",ref:{value:"ch6stepDown",ext:"%d",extMeta:"1-100",
unit:"%"}},{type:"int",name:"ch.6 move to",ref:{value:"ch6moveTo",ext:"%d",extMeta:"0-100",unit:"%"}},{type:"enum",name:"ch.6 lamella up",ref:{value:"ch6lamellaUp"}},{type:"enum",name:"ch.6 lamella down",ref:{value:"ch6lamellaDown"}},{type:"int",name:"ch.6 lamella step up",ref:{value:"ch6lamellaStepUp",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"ch.6 lamella step down",ref:{value:"ch6lamellaStepDown",ext:"%d",extMeta:"1-10",unit:"%"}},{type:"int",name:"ch.6 lamella to",ref:{value:"ch6lamellaTo",
ext:"%d",extMeta:"0-100",unit:"%"}}],status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"int",name:"blind status",ref:{value:"blindTPos",extMeta:"0-100",unit:"%"}},{type:"int",name:"lamella status",ref:{value:"lamellaTPos",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.4 blind status",ref:{value:"ch4blindPos",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.4 lamella status",ref:{value:"ch4lamellaPos",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.5 blind status",
ref:{value:"ch5blindPos",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.5 lamella status",ref:{value:"ch5lamellaPos",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.6 blind status",ref:{value:"ch6blindPos",extMeta:"0-100",unit:"%"}},{type:"int",name:"ch.6 lamella status",ref:{value:"ch6lamellaPos",extMeta:"0-100",unit:"%"}}]}};w.prototype.getIPEvtMap=function(){var a=this.getCommandStatusMap().status;return{ipevt:JSON.parse(JSON.stringify(a))}};w.prototype.executeCommand=function(a,b,c,d){if(c){var e=
4,f=null;-1!=c.value.indexOf("ch5")?e=5:-1!=c.value.indexOf("ch6")&&(e=6);-1!=c.value.indexOf("stop")?f="stop":-1!=c.value.indexOf("moveUp")?f="moveUp":-1!=c.value.indexOf("moveDown")?f="moveDown":-1!=c.value.indexOf("stepUp")?f="stepUp":-1!=c.value.indexOf("stepDown")?f="stepDown":-1!=c.value.indexOf("moveTo")?f="moveTo":-1!=c.value.indexOf("lamellaUp")?f="lamellaUp":-1!=c.value.indexOf("lamellaDown")?f="lamellaDown":-1!=c.value.indexOf("lamellaStepUp")?f="lamellaStepUp":-1!=c.value.indexOf("lamellaStepDown")?
f="lamellaStepDown":-1!=c.value.indexOf("lamellaTo")&&(f="lamellaTo");f?(script=xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.buildCommandScript(a,b,{address:e},{value:f,ext:c.ext}))?a._doRequestMarked(script,!0,{execute:function(a,b){setTimeout(function(){d&&d(a)},200)}}):d&&d(Error("invalid command")):d&&d(Error("unknown command"))}else d&&d(Error("command is null"))};w.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,
b,{address:0},c);break;case "blindTPos":d=xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.buildStateScript(a,b,{address:3},{value:"blindTPos"});break;case "lamellaTPos":d=xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.buildStateScript(a,b,{address:3},{value:"lamellaTPos"});break;case "ch4blindPos":d=xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:4},{value:"blindPos"});break;case "ch4lamellaPos":d=xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:4},{value:"lamellaPos"});
break;case "ch5blindPos":d=xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:5},{value:"blindPos"});break;case "ch5lamellaPos":d=xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:5},{value:"lamellaPos"});break;case "ch6blindPos":d=xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:6},{value:"blindPos"});break;case "ch6lamellaPos":d=xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.buildStateScript(a,b,{address:6},{value:"lamellaPos"})}return d};
w.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "blindTPos":return xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.handleStatusResponse(a,{value:"blindTPos"});case "lamellaTPos":return xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.handleStatusResponse(a,{value:"lamellaTPos"});case "ch4blindPos":case "ch5blindPos":case "ch6blindPos":return xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.handleStatusResponse(a,
{value:"blindPos"});case "ch4lamellaPos":case "ch5lamellaPos":case "ch6lamellaPos":return xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.handleStatusResponse(a,{value:"lamellaPos"});default:return"?"}};w.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(d){case "3":e=xnm.aio.hm.HmIPChannel.BLIND_TRANSMITTER.resolveState(a,b,c);break;case "4":case "5":case "6":e=xnm.aio.hm.HmIPChannel.BLIND_VIRTUAL_RECEIVER.resolveState(a,
b,c),"LEVEL"==b.datapoint?e.key="4"==d?"ch4blindPos":"5"==d?"ch5blindPos":"ch6blindPos":"LEVEL_2"==b.datapoint&&(e.key="4"==d?"ch4lamellaPos":"5"==d?"ch5lamellaPos":"ch6lamellaPos")}return e};var r=function(){};r.prototype.getCommandStatusMap=function(){return{status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorBat",options:["false","true"]}}]}};r.prototype.getIPEvtMap=function(){return{ipevt:[{type:"enum",
name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorLowbat",options:["false","true"]}},{type:"enum",name:"button 1 short press",ref:{value:"btn1pressShort",options:["true"]}},{type:"enum",name:"button 1 long press",ref:{value:"btn1pressLong",options:["true"]}},{type:"enum",name:"button 2 short press",ref:{value:"btn2pressShort",options:["true"]}},{type:"enum",name:"button 2 long press",ref:{value:"btn2pressLong",options:["true"]}},
{type:"enum",name:"button 3 short press",ref:{value:"btn3pressShort",options:["true"]}},{type:"enum",name:"button 3 long press",ref:{value:"btn3pressLong",options:["true"]}},{type:"enum",name:"button 4 short press",ref:{value:"btn4pressShort",options:["true"]}},{type:"enum",name:"button 4 long press",ref:{value:"btn4pressLong",options:["true"]}},{type:"enum",name:"button 5 short press",ref:{value:"btn5pressShort",options:["true"]}},{type:"enum",name:"button 5 long press",ref:{value:"btn5pressLong",
options:["true"]}},{type:"enum",name:"button 6 short press",ref:{value:"btn6pressShort",options:["true"]}},{type:"enum",name:"button 6 long press",ref:{value:"btn6pressLong",options:["true"]}}]}};r.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":case "errorBat":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c)}return d};r.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":case "errorBat":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,
b);default:return"?"}};r.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(d){case "0":e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case "1":case "2":case "3":case "4":case "5":case "6":e=xnm.aio.hm.HmIPChannel.KEY_TRANSCEIVER.resolveState(a,b,c),"pressShort"==e.key?e.key="btn"+d+"pressShort":"pressLong"==e.key&&(e.key="btn"+d+"pressLong")}return e};var x=function(){};x.prototype.getCommandStatusMap=
function(){return{status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorBat",options:["false","true"]}},{type:"enum",name:"passages detected",ref:{value:"passageCurrentDirection",options:["right_to_left","left_to_right"]}},{type:"enum",name:"previous passage",ref:{value:"passageLastDirection",options:["right_to_left","left_to_right"]}},{type:"int",name:"passage count from left to right",ref:{value:"passageL2RC",
extMeta:"0-127"}},{type:"enum",name:"passage count overflow from left to right",ref:{value:"passageL2RCOF",options:["false","true"]}},{type:"int",name:"passage count from right to left",ref:{value:"passageR2LC",extMeta:"0-127"}},{type:"enum",name:"passage count overflow from right to left",ref:{value:"passageR2LCOF",options:["false","true"]}}]}};x.prototype.getIPEvtMap=function(){return{ipevt:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",
ref:{value:"errorBat",options:["false","true"]}},{type:"enum",name:"passages detected",ref:{value:"passageCurrentDirection",options:["right_to_left","left_to_right"]}},{type:"enum",name:"previous passage",ref:{value:"passageLastDirection",options:["right_to_left","left_to_right"]}},{type:"int",name:"passage count from left to right",ref:{value:"passageL2RC",extMeta:"0-127"}},{type:"enum",name:"passage count overflow from left to right",ref:{value:"passageL2RCOF",options:["false","true"]}},{type:"int",
name:"passage count from right to left",ref:{value:"passageR2LC",extMeta:"0-127"}},{type:"enum",name:"passage count overflow from right to left",ref:{value:"passageR2LCOF",options:["false","true"]}}]}};x.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":case "errorBat":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "passageCurrentDirection":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,
b,{address:2},{value:"passageCurrentDirection"});break;case "passageLastDirection":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,b,{address:2},{value:"passageLastDirection"});break;case "passageR2LCurrent":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,b,{address:2},{value:"passageCurrent"});break;case "passageR2LLast":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,b,{address:2},{value:"passageLast"});
break;case "passageR2LC":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,b,{address:2},{value:"passageC"});break;case "passageR2LCOF":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,b,{address:2},{value:"passageCOF"});break;case "passageL2RCurrent":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,b,{address:3},{value:"passageCurrent"});break;case "passageL2RLast":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,
b,{address:3},{value:"passageLast"});break;case "passageL2RC":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,b,{address:3},{value:"passageC"});break;case "passageL2RCOF":d=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.buildStateScript(a,b,{address:3},{value:"passageCOF"})}return d};x.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":case "errorBat":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,
b);case "passageCurrentDirection":case "passageLastDirection":return xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.handleStatusResponse(a,b);case "passageR2LCurrent":case "passageL2RCurrent":return xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.handleStatusResponse(a,{value:"passageCurrent"});case "passageR2LLast":case "passageL2RLast":return xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.handleStatusResponse(a,{value:"passageLast"});case "passageR2LC":case "passageL2RC":return xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.handleStatusResponse(a,
{value:"passageC"});case "passageL2RCOF":case "passageR2LCOF":return xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.handleStatusResponse(a,{value:"passageCOF"});default:return"?"}};x.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var d=b.channel.substr(d+1),e=null;switch(d){case "0":e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case "2":case "3":e=xnm.aio.hm.HmIPChannel.PASSAGE_DETECTOR_DIRECTION_TRANSMITTER.resolveState(a,
b,c),"passageCurrentDirection"==e.key?e.key="passageCurrentDirection":"passageLastDirection"==e.key?e.key="passageLastDirection":"passageC"==e.key?e.key="2"==d?"passageR2LC":"passageL2RC":"passageCOF"==e.key&&(e.key="2"==d?"passageR2LCOF":"passageL2RCOF")}return e};var y=function(){};y.prototype.getCommandStatusMap=function(){return{status:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorBat",options:["false",
"true"]}},{type:"enum",name:"alarm state",ref:{value:"waterAlarmState",options:["on","off"]}},{type:"enum",name:"moisture detected",ref:{value:"waterMoistureDetected",options:["true","false"]}},{type:"enum",name:"water detected",ref:{value:"waterWaterDetected",options:["true","false"]}}]}};y.prototype.getIPEvtMap=function(){return{ipevt:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorBat",options:["false",
"true"]}},{type:"enum",name:"alarm state",ref:{value:"waterAlarmState",options:["on","off"]}},{type:"enum",name:"moisture detected",ref:{value:"waterMoistureDetected",options:["true","false"]}},{type:"enum",name:"water detected",ref:{value:"waterWaterDetected",options:["true","false"]}}]}};y.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":case "errorBat":d=xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "waterAlarmState":d=
xnm.aio.hm.HmIPChannel.WATER_DETECTION_TRANSMITTER.buildStateScript(a,b,{address:1},{value:"waterAlarmState"});break;case "waterMoistureDetected":d=xnm.aio.hm.HmIPChannel.WATER_DETECTION_TRANSMITTER.buildStateScript(a,b,{address:1},{value:"waterMoistureDetected"});break;case "waterWaterDetected":d=xnm.aio.hm.HmIPChannel.WATER_DETECTION_TRANSMITTER.buildStateScript(a,b,{address:1},{value:"waterWaterDetected"})}return d};y.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":case "errorBat":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,
b);case "waterAlarmState":case "waterMoistureDetected":case "waterWaterDetected":return xnm.aio.hm.HmIPChannel.WATER_DETECTION_TRANSMITTER.handleStatusResponse(a,b);default:return"?"}};y.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var e=null;switch(b.channel.substr(d+1)){case "0":e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case "1":e=xnm.aio.hm.HmIPChannel.WATER_DETECTION_TRANSMITTER.resolveState(a,b,c)}return e};
m.prototype.getIPEvtMap=function(){return{ipevt:[{type:"enum",name:"communication error",ref:{value:"errorComm",options:["false","true"]}},{type:"enum",name:"battery low",ref:{value:"errorLowbat",options:["false","true"]}},{type:"enum",name:"sabotage",ref:{value:"errorSabo",options:["false","true"]}},{type:"enum",name:"window state",ref:{value:"handleState",options:["closed","tilted","open"]}}]}};m.prototype.buildStateScript=function(a,b,c){if(!c)return null;var d=null;switch(c.value){case "errorComm":case "errorBat":case "errorSabo":d=
xnm.aio.hm.HmIPChannel.MAINTENANCE.buildStateScript(a,b,{address:0},c);break;case "handleState":d=xnm.aio.hm.HmIPChannel.ROTARY_HANDLE_TRANSCEIVER.buildStateScript(a,b,{address:1},c)}return d};m.prototype.handleStatusResponse=function(a,b){if("?"==a)return a;switch(b.value){case "errorComm":case "errorBat":case "errorSabo":return xnm.aio.hm.HmIPChannel.MAINTENANCE.handleStatusResponse(a,b);case "handleState":return xnm.aio.hm.HmIPChannel.ROTARY_HANDLE_TRANSCEIVER.handleStatusResponse(a,b);default:return"?"}};
m.prototype.resolveState=function(a,b,c){if(!b||!b.channel)return null;var d=b.channel.indexOf(":");if(-1==d)return null;var e=null;switch(b.channel.substr(d+1)){case "0":e=xnm.aio.hm.HmIPChannel.MAINTENANCE.resolveState(a,b,c);break;case "1":e=xnm.aio.hm.HmIPChannel.ROTARY_HANDLE_TRANSCEIVER.resolveState(a,b,c)}return e};return{"HmIP-BSM":new f,"HmIP-BDT":new e,"HMIP-WRC2":new g,"HmIP-ASIR":new h,"HmIP-SWSD":new k,"HmIP-SRH":new m,"HmIP-FSM":new t,"HmIP-PDT":new v,"HmIP-BROLL":new u,"HmIP-FROLL":new u,
"HmIP-BBL":new w,"HmIP-FBL":new w,"HmIP-WRC6":new r,"HmIP-SPDR":new x,"HmIP-SWD":new y,resolveJSON:function(e){if(!e||!e.type)return null;var f=null;if("HmIPW-DRS"==e.type.substr(0,9))f=a.parseJSON(e);else if("HmIPW-DRD"==e.type.substr(0,9))f=c.parseJSON(e);else if("HmIPW-DRBL"==e.type.substr(0,10))f=d.parseJSON(e);else if("HmIPW-DRI"==e.type.substr(0,9))f=b.parseJSON(e);else if("HmIPW-FIO"==e.type.substr(0,9)&&e.channels)for(var g in e.channels)if("MULTI_MODE_INPUT_TRANSMITTER"==g.substr(0,28)){f=
b.parseJSON(e);break}else if("SWITCH_TRANSMITTER"==g.substr(0,18)){f=a.parseJSON(e);break}return f}}}();
xnm.aio.hm.VirtualDevice=function(){var a=function(){return{"VIR-LG-ONOFF-CH":{buildCommandScript:function(a,c,d,g){if(!c.channels||!g.value)return null;var h=a=null;switch(g.value){case "onoffChOn":a="LEVEL";h="if(o!=null){o.State(0.9);}\n";break;case "onoffChOff":a="LEVEL";h="if(o!=null){o.State(0.0);}\n";break;case "onoffChToggle":a="LEVEL";h="if(o!=null){if(o.Value()>0.0){o.State(0.0);}else{o.State(0.9);}}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,a,h)},buildStateScript:function(a,
c,d,g){if(!c.channels||!g.value)return null;a=null;switch(g.value){case "onoffChState":a="LEVEL";break;case "onoffChLevel":a="LEVEL";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "onoffChState":return parseFloat(a)?"on":"off";default:return"?"}},resolveState:function(a,c,d){var g;switch(c.datapoint){case "LEVEL":g="onoffChState"}if(!g)return null;a=this.handleStatusResponse(d+"",{value:g});return{key:g,
value:a}}},"VIR-LG-RGBW-DIM-CH":{buildCommandScript:function(a,c,d,g){if(!c.channels||!g.value)return null;var h=null,k=null,h=k=null;switch(g.value){case "rgbwChOn":h="LEVEL";k="if(o!=null){o.State(1.0);}\n";break;case "rgbwChOff":h="LEVEL";k="if(o!=null){o.State(0.0);}\n";break;case "rgbwChUp":k=null==g.ext||"undefined"==typeof g.ext?.1:"number"==typeof g.ext?(parseInt(g.ext)/100).toFixed(2):g.ext.match(/^[-+]?[0-9]+$/)?(parseInt(g.ext)/100).toFixed(2):.1;a._statebuffer&&(h=this.getBufferedState(a._statebuffer,
c,d,{value:"rgbwChLevel"}));k=null==h||"undefined"==typeof h?"if(o!=null){var v=o.Value()+"+k+";if(v>1){v=1.0;}o.State(v);}\n":"if(o!=null){var v="+h/100+"+"+k+";if(v>1){v=1.0;}o.State(v);}\n";h="LEVEL";break;case "rgbwChDown":k=null==g.ext||"undefined"==typeof g.ext?.1:"number"==typeof g.ext?(parseInt(g.ext)/100).toFixed(2):g.ext.match(/^[-+]?[0-9]+$/)?(parseInt(g.ext)/100).toFixed(2):.1;a._statebuffer&&(h=this.getBufferedState(a._statebuffer,c,d,{value:"rgbwChLevel"}));null==h||"undefined"==typeof h?
k="if(o!=null){var v=o.Value()-"+k+";if(v<0){v=0.0;}o.State(v);}\n":(h/=100,k="if(o!=null){var v="+h+"-"+k+";if(v<0){v=0.0;}o.State(v);}\n");h="LEVEL";break;case "rgbwChLvlTo":if(null==g.ext||"undefined"==typeof g.ext)return null;if("number"==typeof g.ext)k=parseInt(g.ext);else if(g.ext.match(/^[-+]?[0-9]+$/))k=g.ext;else return null;h="LEVEL";k/=100;k=0>k?0:k;k="if(o!=null){o.State("+(1<k?1:k)+");}\n";break;case "rgbwChRgbwTo":if(null==g.ext||"undefined"==typeof g.ext)return null;k=g.ext;if(8>k.length)return null;
h="RGBW";a=parseInt(k.substr(0,2),16);g=parseInt(k.substr(2,2),16);var m=parseInt(k.substr(4,2),16),k=parseInt(k.substr(6,2),16),k='if(o!=null){o.State("rgb('+a+","+g+","+m+","+k+')");}\n';break;case "rgbwChCtTo":if(null==g.ext||"undefined"==typeof g.ext)return null;if("number"==typeof g.ext)k=parseInt(g.ext);else if(g.ext.match(/^[-+]?[0-9]+$/))k=g.ext;else return null;h="WHITE";k="if(o!=null){o.State("+k+");}\n";break;default:return null}return xnm.aio.hm.Channel.buildCommandScript(c,d,h,k)},buildStateScript:function(a,
c,d,g){if(!c.channels||!g.value)return null;a=null;switch(g.value){case "rgbwChLevel":a="LEVEL";break;case "rgbwChRgbw":a="RGBW";break;case "rgbwChCt":a="WHITE";break;default:return null}return xnm.aio.hm.Channel.buildStateScript(c,d,a)},handleStatusResponse:function(a,c){if("?"==a)return a;switch(c.value){case "rgbwChLevel":return parseFloat(a);case "rgbwChRgbw":return a;case "rgbwChCt":return parseInt(a);default:return"?"}},resolveState:function(a,c,d){var g;switch(c.datapoint){case "LEVEL":g="rgbwChLevel";
break;case "RGBW":g="rgbwChRgbw";break;case "WHITE":g="rgbwChCt"}if(!g)return null;a=this.handleStatusResponse(d+"",{value:g});return{key:g,value:a}}}}}(),c=function(){};c.prototype.executeCommand=function(b,c,d,g){if(d){var h=null;switch(d.value){case "onoffChOn":h=a["VIR-LG-ONOFF-CH"].buildCommandScript(b,c,{address:1},{value:"onoffChOn"});break;case "onoffChOff":h=a["VIR-LG-ONOFF-CH"].buildCommandScript(b,c,{address:1},{value:"onoffChOff"});break;case "onoffChToggle":h=a["VIR-LG-ONOFF-CH"].buildCommandScript(b,
c,{address:1},{value:"onoffChToggle"})}h?b._doRequestMarked(h,!0,{execute:function(a,c){"onoffChOn"!=d.value||a?setTimeout(function(){g&&g(a)},200):setTimeout(function(){b._doRequestMarked(h,!0,{execute:function(a,b){g&&g(a)}})},3E3)}}):g&&g(Error("invalid command"))}else g&&g(Error("command is null"))};c.prototype.buildStateScript=function(b,c,d){if(!d)return null;var g=null;switch(d.value){case "onoffChState":g=a["VIR-LG-ONOFF-CH"].buildStateScript(b,c,{address:1},d)}return g};c.prototype.handleStatusResponse=
function(b,c){if("?"==b)return b;switch(c.value){case "onoffChState":return a["VIR-LG-ONOFF-CH"].handleStatusResponse(b,c);default:return"?"}};c.prototype.resolveState=function(b,c,d){if(!c||!c.channel)return null;var g=c.channel.indexOf(":");if(-1==g)return null;var h=null;switch(c.channel.substr(g+1)){case "1":h=a["VIR-LG-ONOFF-CH"].resolveState(b,c,d)}return h};var d=function(){};d.prototype.executeCommand=function(b,c,d,g){d?(c=a["VIR-LG-RGBW-DIM-CH"].buildCommandScript(b,c,{address:1},d))?b._doRequestMarked(c,
!0,{execute:function(a,b){setTimeout(function(){g&&g(a)},200)}}):g&&g(Error("invalid command")):g&&g(Error("command is null"))};d.prototype.buildStateScript=function(b,c,d){return d?a["VIR-LG-RGBW-DIM-CH"].buildStateScript(b,c,{address:1},d):null};d.prototype.handleStatusResponse=function(b,c){return"?"==b?b:a["VIR-LG-RGBW-DIM-CH"].handleStatusResponse(b,c)};d.prototype.resolveState=function(b,c,d){if(!c||!c.channel)return null;var g=c.channel.indexOf(":");if(-1==g)return null;var h=null;switch(c.channel.substr(g+
1)){case "1":h=a["VIR-LG-RGBW-DIM-CH"].resolveState(b,c,d)}return h};return{"VIR-LG-ONOFF":c,"VIR-LG-RGBW-DIM":d,parseDevice:function(a){var c={sys:"hm"};c.id=a.name;c.type=a.hsstype;c.address=a.address;c["interface"]=a["interface"];c.channels={};var d=a.channels,g;for(g in d)if(d.hasOwnProperty(g)){var h=a.channels[g];if(h.address){var k=h.address.indexOf(":");-1!==k&&(k=h.address.substring(k+1),h.hsstype&&(c.channels[h.hsstype]={id:h.name,address:k,room:h.room,group:h.func}))}}return[c]}}}();
xnm.aio.hm.VirtualDevice_MAP={"VIR-LG-ONOFF-CH":{LEVEL:{command:[{type:"enum",name:"on",ref:{value:"onoffChOn"}},{type:"enum",name:"off",ref:{value:"onoffChOff"}}]}},"VIR-LG-RGBW-DIM-CH":{LEVEL:{command:[{type:"enum",name:"on",ref:{value:"rgbwChOn"}},{type:"enum",name:"off",ref:{value:"rgbwChOff"}},{type:"int",name:"dim to",ref:{value:"rgbwChLvlTo",ext:"%d",extMeta:"0-100"}}]},RGBW:{command:[{type:"rgbw",name:"set rgbw",ref:{value:"rgbwChRgbwTo",ext:"%s"}}]},WHITE:{command:[{type:"int",name:"set color temperature",
ref:{value:"rgbwChCtTo",ext:"%d",extMeta:"2000-6500",scale:"50"}}]}}};xnm.aio.hm.DMError=function(a,c){this.code=a;this.message=c;this.stack=Error().stack};xnm.aio.hm.DMError.prototype=Error();xnm.aio.hm.DMError.prototype.name="HomeMaticDeviceManagerError";xnm.aio.hm.DMError.prototype.code=0;xnm.aio.hm.DMError.ERROR_CODE={DEFAULT:0,INDEX_EXISTS:1,ID_EXISTS:2,INVALID:3,UNKNOW:4,NOT_FOUND:5,IP_EXISTS:6};
xnm.aio.hm.DM={SYS:"hm",SYSVAR:"SysVar",PROG:"Prog",getGatewayType:function(){return[{sys:this.SYS,name:"HomeMatic CCU"}]},createGateway:function(a,c,d){c=xnm.aio.hm.DMError;var b=xnm.aio.hm.DMError.ERROR_CODE;a?a.ip?d(null,a):d(new c(b.INVALID,"ip is invalid")):d(new c(b.INVALID,"info is invalid"))},updateGateway:function(a,c,d,b){a=xnm.aio.hm.DMError;d=xnm.aio.hm.DMError.ERROR_CODE;c?c.ip?b(null,c):b(new a(d.INVALID,"ip is invalid")):b(new a(d.INVALID,"update is invalid"))},deleteGateway:function(a,
c,d){d()},createDevice:function(a,c,d){var b=xnm.aio.hm.DMError,f=xnm.aio.hm.DMError.ERROR_CODE;if(a)if(a.gateway)if(a["interface"])if(a.address)if(a.type)if("SysVar"==a.type||"Prog"==a.type||a.channels)if(c.data&&c.data.gateways&&0!==c.data.gateways.length){c=c.data.gateways;var e,g;for(e=0;e<c.length;e++)if(c[e].index===a.gateway){g=c[e];break}g?d(null,a):d(new b(f.NOT_FOUND,"gateway with index "+a.gateway+" not exists"))}else d(new b(f.NOT_FOUND,"gateway with index "+a.gateway+" not exists"));
else d(new b(f.INVALID,"channels is invalid"));else d(new b(f.INVALID,"type is invalid"));else d(new b(f.INVALID,"address is invalid"));else d(new b(f.INVALID,"interface is invalid"));else d(new b(f.INVALID,"gateway is invalid"));else d(new b(f.INVALID,"info is invalid"))},updateDevice:function(a,c,d){var b=xnm.aio.hm.DMError,f=xnm.aio.hm.DMError.ERROR_CODE;if(a)if(a.address)if(a["interface"])if(a.type)if("SysVar"==a.type||"Prog"==a.type||a.channels)if(a.gateway){c=c.data.gateways;var e,g;for(e=0;e<
c.length;e++)if(c[e].index===a.gateway){g=c[e];break}g?d(null,a):d(new b(f.NOT_FOUND,"gateway with index "+a.gateway+" not exists"))}else d(new b(f.INVALID,"gateway is invalid"));else d(new b(f.INVALID,"channels is invalid"));else d(new b(f.INVALID,"type is invalid"));else d(new b(f.INVALID,"interface is invalid"));else d(new b(f.INVALID,"address is invalid"));else d(new b(f.INVALID,"info is invalid"))},deleteDevice:function(a,c,d){d()},_getChannels:function(a){var c={},d=void 0==xnm.aio.hm.TYPE[a.type];
a=d?a.channels:xnm.aio.hm.CATAGORY[xnm.aio.hm.TYPE[a.type]].channels;for(var b in a)if(a.hasOwnProperty(b)){var f=d?0:a[b];xnm.aio.hm.CHANNEL[b]&&xnm.aio.hm.CHANNEL[b].datapoints[f]&&(c[b]=xnm.aio.hm.CHANNEL[b].datapoints[f])}return c},_getHmIPChannels:function(a){var c={},d=void 0==xnm.aio.hm.HMIP_TYPE[a.type];a=d?a.channels:xnm.aio.hm.HMIP_CATAGORY[xnm.aio.hm.HMIP_TYPE[a.type]].channels;for(var b in a)if(a.hasOwnProperty(b)){var f=d?0:a[b];xnm.aio.hm.HMIP_CHANNEL[b]&&xnm.aio.hm.HMIP_CHANNEL[b].datapoints[f]&&
(c[b]=xnm.aio.hm.HMIP_CHANNEL[b].datapoints[f])}c.KEY_TRANSCEIVER&&delete c.KEY_TRANSCEIVER;return c},_getCUxDChannels:function(a){var c={};a.cuxd||(a.cuxd=xnm.aio.hm.MHMCCU._resolveCUxDType(a));var d=a.cuxd?!1:!0,b=a.channels,f;for(f in b)if(b.hasOwnProperty(f)){var e=d?0:xnm.aio.hm.CUxDTYPE[a.cuxd][f];xnm.aio.hm.CUxDCHANNEL[f]&&xnm.aio.hm.CUxDCHANNEL[f].datapoints[e]?c[f]=xnm.aio.hm.CUxDCHANNEL[f].datapoints[e]:xnm.aio.hm.CHANNEL[f]&&xnm.aio.hm.CHANNEL[f].datapoints[e]&&(e=0,c[f]=xnm.aio.hm.CHANNEL[f].datapoints[e])}return c},
applyUIFilter:function(a,c){var d=this,b=function(a,b){if("*"==a)return!0;for(var c=!1,d=0;d<a.length;d++)if(a[d]==b){c=!0;break}return c},f=function(a,b){switch(a.type){case "SysVar":return g(a,b);case "Prog":return e(a,b);default:return r(a,b)}},e=function(a,c){var d=[],e=c.elems;switch(c.catagory){case "command":[{type:"enum",name:"execute",ref:{value:"progExec"}}].forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),d.push(a))})}return d},g=function(a,c){var d=[],e=c.elems;if(a["class"]){var f=
xnm.aio.hm.MAP.SysVar[a["class"]];if(f)switch(c.catagory){case "command":f.command&&f.command.forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),d.push(a))});break;case "status":f.status&&f.status.forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),d.push(a))})}}return d},h=function(a,d,e,f,g){var h=[];if(a=a[d][e])switch(c.catagory){case "command":a.command&&f.access&&-1!=f.access.indexOf("w")&&a.command.forEach(function(a){b(g,a.type)&&(a=JSON.parse(JSON.stringify(a)),
h.push(a))});break;case "status":a.status&&f.access&&-1!=f.access.indexOf("r")&&a.status.forEach(function(a){b(g,a.type)&&(a=JSON.parse(JSON.stringify(a)),h.push(a))})}return h},k=function(a,c){var d=[],e=c.elems;switch(c.catagory){case "command":a.command&&a.command.forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),d.push(a))});break;case "status":a.status&&a.status.forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),d.push(a))})}return d},m=function(a,b){if(a&&a.type){var c=
xnm.aio.hm.HmIPDevice[a.type];if(c&&c.getCommandStatusMap&&(c=c.getCommandStatusMap(a)))return k(c,b)}var c=[],d,e=a.channels,f=xnm.aio.hm.DM._getHmIPChannels(a),g=b.elems,l;for(l in e)if(e.hasOwnProperty(l)){var m=f[l];if(m)for(var v in m)m.hasOwnProperty(v)&&xnm.aio.hm.HMIP_MAP[l]&&(d=h(xnm.aio.hm.HMIP_MAP,l,v,m[v],g),c=c.concat(d))}return c},t=function(a,c){var d=[],e=c.elems,f=xnm.aio.hm.HM_Sec_Sir_WM_MAP;switch(c.catagory){case "command":f.command.forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),
d.push(a))});break;case "status":f.status.forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),d.push(a))})}return d},v=function(a,c){var d=[],e=c.elems,f=xnm.aio.hm.HM_WDS30_OT2_SM_2_MAP;switch(c.catagory){case "status":f.status.forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),d.push(a))})}return d},u=function(a,c){var d=[],e=c.elems,f=xnm.aio.hm.HM_ES_TX_WM_MAP;switch(c.catagory){case "status":f.status.forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),
d.push(a))})}return d},w=function(a,c){var d=[],e=c.elems,f=[{type:"int",name:"dim to",ref:{value:"dimRaw",ext:"%d",extMeta:"0-100",scale:"10"}}];switch(c.catagory){case "command":f.forEach(function(a){b(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),d.push(a))})}return d},r=function(a,b){if("HmIP-HEATING"==a.type)return m(a,b);if(a["interface"]&&"CUxD"==a["interface"]){var c=[],e;a.cuxd||(a.cuxd=xnm.aio.hm.MHMCCU._resolveCUxDType(a));var f=a.channels,g=xnm.aio.hm.DM._getCUxDChannels(a),r=b.elems,l;
for(l in f)if(f.hasOwnProperty(l)){var x=g[l];if(x)for(var y in x)x.hasOwnProperty(y)&&("FHT_Multiventil"==a.cuxd&&"DIMMER"==l?l="FHT_Multiventil_Dimmer":"HMS_100_Contact"==a.cuxd&&"SENSOR"==l?l="HMS_100_Contact":"FHT_Contact"==a.cuxd&&"SENSOR"==l?l="FHT_Contact":"Security_Sensor"==a.cuxd&&"SENSOR"==l?l="Security_Sensor":"HMS_100_W/WD"==a.cuxd&&"SENSOR"==l&&(l="Security_Sensor"),xnm.aio.hm.CUxDMAP[l]?(e=h(xnm.aio.hm.CUxDMAP,l,y,x[y],r),c=c.concat(e)):xnm.aio.hm.MAP[l]&&(e=h(xnm.aio.hm.MAP,l,y,x[y],
r),c=c.concat(e)))}return c}if(a["interface"]&&"HmIP-RF"==a["interface"])return m(a,b);if(a["interface"]&&"HmIP-Wired"==a["interface"]){a:{if(a&&(c=xnm.aio.hm.HmIPDevice.resolveJSON(a))&&c.getCommandStatusMap&&(c=c.getCommandStatusMap(a))){c=k(c,b);break a}c=[]}return c}if(a["interface"]&&"BidCos-RF"==a["interface"]&&a.type&&xnm.aio.hm.BidCosDevice[a.type]&&(l=xnm.aio.hm.BidCosDevice[a.type])&&l.getCommandStatusMap&&(l=l.getCommandStatusMap(a))||a["interface"]&&"VirtualDevices"==a["interface"]&&-1==
a.type.indexOf("HM-CC-VG")&&(l=d._getVirtualDevicesMap(a)))return k(l,b);if("DimmerKey"==a.type)return w(a,b);if("HM-Sec-Sir-WM"==a.type)return t(a,b);if("HM-WDS30-OT2-SM-2"==a.type)return v(a,b);if("HM-ES-TX-WM"==a.type&&a.channels&&a.channels.POWERMETER_IEC1)return u(a,b);l=[];f=a.channels;g=xnm.aio.hm.DM._getChannels(a);r=b.elems;for(c in f)if(f.hasOwnProperty(c)&&(x=g[c]))for(e in x)x.hasOwnProperty(e)&&xnm.aio.hm.MAP[c]&&(y=h(xnm.aio.hm.MAP,c,e,x[e],r),l=l.concat(y));return l};if(!a.type)return null;
var x=JSON.parse(JSON.stringify(a)),y=null;switch(c.catagory){case "command":y=f(a,c);x.command=y;break;case "status":y=f(a,c);x.status=y;break;default:return null}return y&&0!=y.length?x:null},applyUIFilterGateway:function(a,c){var d=function(a,b){if("*"==a)return!0;for(var c=!1,d=0;d<a.length;d++)if(a[d]==b){c=!0;break}return c},b=function(a,b){var c=[],e=b.elems,f=xnm.aio.hm.MAP.CCU;if(f)switch(b.catagory){case "command":f.command&&f.command.forEach(function(a){d(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),
c.push(a))});break;case "status":f.status&&f.status.forEach(function(a){d(e,a.type)&&(a=JSON.parse(JSON.stringify(a)),c.push(a))})}return c},f=JSON.parse(JSON.stringify(a)),e=null;switch(c.catagory){case "command":e=b(a,c);f.command=e;break;case "status":e=b(a,c);f.status=e;break;default:return null}return e&&0!=e.length?f:null},applyIPEventFilter:function(a){if(!a||"SysVar"==a.type)return null;if("HM-MOD-EM-8Bit"==a.type)return c={},c.ipevt=xnm.aio.hm.HM_MOD_EM_8BIT_MAP.ipevt,c;if("VirtualDevices"==
a["interface"])return null;var c;if("HmIP-RF"==a["interface"]&&a.type&&(c=xnm.aio.hm.HmIPDevice[a.type])&&c.getIPEvtMap&&(c=c.getIPEvtMap(a))&&c.ipevt)return{ipevt:c.ipevt};if("HmIP-Wired"==a["interface"])return(c=xnm.aio.hm.HmIPDevice.resolveJSON(a))&&c.getIPEvtMap&&(c=c.getIPEvtMap(a))&&c.ipevt?{ipevt:c.ipevt}:null;c=xnm.aio.hm.DM.applyUIFilter(a,{catagory:"status",elems:"*"});"HmIP-RF"==a["interface"]&&a.type&&a.channels&&a.channels.KEY_TRANSCEIVER&&(c||(c={}),c.ipevt||(c.ipevt=[]),c.ipevt.push({type:"enum",
name:"short press",ref:{value:"pressShort",options:["true"]}}),c.ipevt.push({type:"enum",name:"long press",ref:{value:"pressLong",options:["true"]}}));"BidCos-Wired"==a["interface"]&&a.channels&&(a.channels.KEY||a.channels.VIRTUAL_KEY)&&(c||(c={}),c.ipevt||(c.ipevt=[]),c.ipevt.push({type:"enum",name:"short press",ref:{value:"pressShort",options:["true"]}}),c.ipevt.push({type:"enum",name:"long press",ref:{value:"pressLong",options:["true"]}}));"BidCos-RF"==a["interface"]&&a.channels&&(a.channels.KEY||
a.channels.VIRTUAL_KEY)&&(c||(c={}),c.ipevt||(c.ipevt=[]),c.ipevt.push({type:"enum",name:"short press",ref:{value:"pressShort",options:["true"]}}),c.ipevt.push({type:"enum",name:"long press",ref:{value:"pressLong",options:["true"]}}));if(!c)return null;c.ipevt||(c.ipevt=[]);c.status&&(c.ipevt=c.ipevt.concat(c.status),delete c.status);return c},_insertIntoArray:function(a,c){for(var d=-1,b=0;b<c.length;b++)if(c[b].index>a.index){d=b;break}-1===d?c.push(a):c.splice(d,0,a)},_getVirtualDevicesMap:function(a){if(!a||
!a.channels)return null;var c={command:[],status:[]},d;for(d in a.channels)if(a=xnm.aio.hm.VirtualDevice_MAP[d])for(var b in a){var f=a[b];f&&f.command&&(c.command=c.command.concat(f.command));f&&f.status&&(c.status=c.status.concat(f.status))}return c},supportSmartWidget:function(a){if(!a||"Prog"==a.type||"Sysvar"==a.type)return!1;var c=a.channels;if(!c)return!1;var d={},b;for(b in c)if(c.hasOwnProperty(b)){var f=b,e=f.indexOf(":");-1!=e&&(f=f.substr(0,e));d[f]=!0}return"BidCos-RF"==a["interface"]?
d.SWITCH||d.DIMMER||d.BLIND||d.JALOUSIE||d.POWERMETER||d.CLIMATECONTROL_REGULATOR||d.THERMALCONTROL_TRANSMIT||d.CLIMATECONTROL_RT_TRANSCEIVER||d.SHUTTER_CONTACT||d.ROTARY_HANDLE_SENSOR||d.WEATHER||d.MOTION_DETECTOR||d.SMOKE_DETECTOR||d.SMOKE_DETECTOR_TEAM||d.SMOKE_DETECTOR_TEAM_V2||d.RGBW_COLOR||d.KEYMATIC||d.WINMATIC||d.SENSOR_FOR_CARBON_DIOXIDE||d.WATERDETECTIONSENSOR?!0:!1:!a["interface"]||"HMIP-RF"!=a["interface"].toUpperCase()&&"HMIP-WIRED"!=a["interface"].toUpperCase()?!1:d.SWITCH_VIRTUAL_RECEIVER||
d.DIMMER_VIRTUAL_RECEIVER||d.SHUTTER_VIRTUAL_RECEIVER||d.BLIND_VIRTUAL_RECEIVER||d.ENERGIE_METER_TRANSMITTER||d.HEATING_CLIMATECONTROL_TRANSCEIVER||d.SHUTTER_CONTACT_TRANSCEIVER||d.ROTARY_HANDLE_TRANSCEIVER||d.CLIMATE_TRANSCEIVER||d.WEATHER_TRANSMIT||d.SHUTTER_CONTACT||d.MOTIONDETECTOR_TRANSCEIVER||d.SMOKE_DETECTOR||d.ANALOG_OUTPUT_TRANSCEIVER?!0:!1},applySmartWidgetFilter:function(a,c,d){return a&&"Prog"!=a.type&&"Sysvar"!=a.type?"BidCos-RF"==a["interface"]?this._applySmartWidget_BidCos(a,c,d):!a["interface"]||
"HMIP-RF"!=a["interface"].toUpperCase()&&"HMIP-WIRED"!=a["interface"].toUpperCase()?null:this._applySmartWidget_HmIP(a,c,d):null},_applySmartWidget_BidCos:function(a,c,d,b,f){if(!a.channels)return null;var e,g,h;b={};for(var k in a.channels)if(a.channels.hasOwnProperty(k)){f=k;var m=f.indexOf(":");-1!=m&&(f=f.substr(0,m));b[f]=!0}b.SWITCH&&(e={"%on%":{value:"on",name:"on"},"%off%":{value:"off",name:"off"},"%toggle%":{value:"toggle",name:"toggle"}},g={"%switchState%":{value:"switchState",options:["off",
"on"],name:"switch status"}},h=["switch"]);b.DIMMER&&(e={"%on%":{value:"dimOn",name:"on"},"%off%":{value:"dimOff",name:"off"},"%dimOn%":{value:"dimOn",name:"on"},"%dimOff%":{value:"dimOff",name:"off"},"%dimUp%":{value:"dimUp",name:"dim up"},"%dimDown%":{value:"dimDown",name:"dim down"},"%dimTo%":{value:"dimRaw",ext:"%d",extMeta:"0-100",name:"dim to"}},g={"%dimmerState%":{value:"dimmerLevel",ext:"%d",extMeta:"0-100",name:"dimmer status"}},h=["switch","dimmer"]);b.BLIND&&(e||(e={}),e["%stop%"]||(e["%stop%"]=
{value:"blindStop",name:"stop"}),e["%moveUp%"]||(e["%moveUp%"]={value:"blindUp",name:"move up"}),e["%moveDown%"]||(e["%moveDown%"]={value:"blindDown",name:"move down"}),e["%stepUp%"]||(e["%stepUp%"]={value:"blindStepUp",name:"step up"}),e["%stepDown%"]||(e["%stepDown%"]={value:"blindStepDown",name:"step down"}),e["%moveTo%"]||(e["%moveTo%"]={value:"blindRaw",ext:"%d",extMeta:"0-100",name:"move to"}),g={"%shutterState%":{value:"blindLevel",ext:"%d",extMeta:"0-100",name:"blind status"}},h=["shutter"]);
b.JALOUSIE&&(e||(e={}),e["%stop%"]||(e["%stop%"]={value:"jalStop",name:"stop"}),e["%moveUp%"]||(e["%moveUp%"]={value:"jalUp",name:"move up"}),e["%moveDown%"]||(e["%moveDown%"]={value:"jalDown",name:"move down"}),e["%stepUp%"]||(e["%stepUp%"]={value:"jalStepUp",name:"step up"}),e["%stepDown%"]||(e["%stepDown%"]={value:"jalStepDown",name:"step down"}),e["%moveTo%"]||(e["%moveTo%"]={value:"jalRaw",ext:"%d",extMeta:"0-100",name:"move to"}),e["%lamellaUp%"]||(e["%lamellaUp%"]={value:"jalLmlUp",name:"lamella up"}),
e["%lamellaDown%"]||(e["%lamellaDown%"]={value:"jalLmlDown",name:"lamella down"}),e["%lamellaStepUp%"]||(e["%lamellaStepUp%"]={value:"jalLmlStepUp",name:"lamella step up"}),e["%lamellaStepDown%"]||(e["%lamellaStepDown%"]={value:"jalLmlStepDown",name:"lamella step down"}),e["%lamellaTo%"]||(e["%lamellaTo%"]={value:"jalLmlRaw",ext:"%d",extMeta:"0-100",name:"lamella to"}),g={"%blindState%":{value:"jalLevel",ext:"%d",extMeta:"0-100",name:"status"},"%lamellaState%":{value:"jalLmlLevel",ext:"%d",extMeta:"0-100",
name:"lamella status"}},h=["shutter","blind"]);b.POWERMETER&&(g||(g={}),g["%meterVoltage%"]||(g["%meterVoltage%"]={value:"meterVoltage",extMeta:"0.0-6553.5",scale:"0.1",unit:"V",name:"voltage"}),g["%meterEnergyCounter%"]||(g["%meterEnergyCounter%"]={value:"meterEnergyCounter",extMeta:"0.0-838860.7",scale:"0.1",unit:"Wh",name:"energy counter"}),g["%meterFrequency%"]||(g["%meterFrequency%"]={value:"meterFrequency",extMeta:"48.72-51.27",scale:"0.01",unit:"Hz",name:"frequency"}),g["%meterPower%"]||(g["%meterPower%"]=
{value:"meterPower",extMeta:"0.0-167772.15",scale:"0.1",unit:"W",name:"power"}),g["%meterCurrent%"]||(g["%meterCurrent%"]={value:"meterCurrent",extMeta:"0.0-65535.0",scale:"0.1",unit:"mA",name:"current"}),h||(h=[]),-1==h.indexOf("powermeter")&&h.push("powermeter"));b.CLIMATECONTROL_REGULATOR&&(e||(e={}),e["%thermoTempUp%"]||(e["%thermoTempUp%"]={value:"themoRTempUp",name:"temperature up"}),e["%thermoTempDown%"]||(e["%thermoTempDown%"]={value:"themoRTempDown",name:"temperature down"}),e["%thermoTempTo%"]||
(e["%thermoTempTo%"]={value:"themoRTempRaw",ext:"%f",extMeta:"6-30",scale:"0.5",name:"temperature to"}),e["%thermoOn%"]||(e["%thermoOn%"]={value:"themoTempOn",name:"on"}),e["%thermoOff%"]||(e["%thermoOff%"]={value:"themoRTempClose",name:"close"}),g={"%thermoCurrentTemp%":{value:"weatherTemp",name:"temperature"},"%thermoHum%":{value:"weatherHum",name:"humidity"},"%thermoSetTemp%":{value:"themoRSetTemp",extMeta:"6-30",scale:"0.5",name:"set temperature"}},h=["thermostat"]);b.THERMALCONTROL_TRANSMIT&&
(e||(e={}),e["%thermoAuto%"]||(e["%thermoAuto%"]={value:"themoTAutoMode",name:"set auto mode"}),e["%thermoManu%"]||(e["%thermoManu%"]={value:"themoTManuMode",ext:"20.0",name:"set manual mode"}),e["%thermoBoost%"]||(e["%thermoBoost%"]={value:"themoTBoostMode",name:"set boost mode"}),e["%thermoTempUp%"]||(e["%thermoTempUp%"]={value:"themoTTempUp",name:"temperature up"}),e["%thermoTempDown%"]||(e["%thermoTempDown%"]={value:"themoTTempDown",name:"temperature down"}),e["%thermoTempTo%"]||(e["%thermoTempTo%"]=
{value:"themoTTempRaw",ext:"%f",extMeta:"4.5-30.5",scale:"0.5",name:"temperature to"}),e["%thermoOff%"]||(e["%thermoOff%"]={value:"themoTTempOff",name:"off"}),g={"%thermoCurrentTemp%":{value:"themoTActualTemp",name:"actual temperature"},"%thermoHum%":{value:"themoTActualHum",name:"actual humidity"},"%thermoMode%":{value:"themoTMode",options:["auto","manu","party","boost"],name:"mode"},"%thermoSetTemp%":{value:"themoTSetTemp",extMeta:"4.5-30.5",scale:"0.5",name:"set temperature"},"%thermoWindow%":{value:"themoTWin",
options:["open","closed"],name:"window open"}},h=["thermostat"]);b.CLIMATECONTROL_RT_TRANSCEIVER&&(e||(e={}),e["%thermoAuto%"]||(e["%thermoAuto%"]={value:"themoAutoMode",name:"set auto mode"}),e["%thermoManu%"]||(e["%thermoManu%"]={value:"themoTManuMode",ext:"20.0",name:"set manual mode"}),e["%thermoBoost%"]||(e["%thermoBoost%"]={value:"themoBoostMode",name:"set boost mode"}),e["%thermoTempUp%"]||(e["%thermoTempUp%"]={value:"themoTempUp",name:"temperature up"}),e["%thermoTempDown%"]||(e["%thermoTempDown%"]=
{value:"themoTempDown",name:"temperature down"}),e["%thermoTempTo%"]||(e["%thermoTempTo%"]={value:"themoTempRaw",ext:"%f",extMeta:"4.5-30.5",scale:"0.5",name:"temperature to"}),e["%thermoOff%"]||(e["%thermoOff%"]={value:"themoTempOff",name:"off"}),g={"%thermoCurrentTemp%":{value:"themoActualTemp",name:"actual temperature"},"%thermoHum%":{value:"themoActualHum",name:"actual humidit"},"%thermoMode%":{value:"themoMode",options:["auto","manu","party","boost"],name:"mode"},"%thermoSetTemp%":{value:"themoSetTemp",
extMeta:"4.5-30.5",scale:"0.5",name:"set temperature"},"%thermoWindow%":{value:"themoWinState",options:["open","closed"],name:"window state"}},h=["thermostat"]);b.SHUTTER_CONTACT&&(g={"%contactState%":{value:"shutterState",options:["closed","open"],name:"shutter state"}},h=["contact"]);b.ROTARY_HANDLE_SENSOR&&(g={"%windowState%":{value:"handleState",options:["closed","tilted","open"],name:"handle state"}},h=["window"]);b.WEATHER&&((a=a.type)&&"HM-WDS30"==a.substr(0,8)?(g={"%tempState%":{value:"weatherTemp",
name:"temperature"}},h=["climate"]):a&&"HM-WDS100"==a.substr(0,9)?(g={"%tempState%":{value:"weatherTemp",name:"temperature"},"%humState%":{value:"weatherHum",name:"humidity"},"%brightnessState%":{value:"weatherBright",name:"brightness"},"%sunshineState%":{value:"weatherSunD",name:"sunshine duration"},"%windDirection%":{value:"weatherWindD",name:"wind direction",options:"N NO O SO S SW W NW".split(" ")},"%windspeedState%":{value:"weatherWindS",name:"wind speed"},"%rainingState%":{value:"weatherRaining",
name:"raining"},"%rainingCounterState%":{value:"weatherRainCounter",name:"rain counter"}},h=["weather_station"]):(g={"%tempState%":{value:"weatherTemp",name:"temperature"},"%humState%":{value:"weatherHum",name:"humidity"}},h=["climate"]));b.MOTION_DETECTOR&&(g={"%motionState%":{value:"motionState",options:["on","off"],name:"state"},"%motionBrightness%":{value:"motionBright",name:"brightness"}},h=["motion"]);b.SMOKE_DETECTOR&&(g={"%smokeState%":{value:"smokeState",options:["on","off"],name:"state"}},
h=["smoke"]);b.SMOKE_DETECTOR_TEAM&&(g={"%smokeState%":{value:"smokeGroup1State",options:["on","off"],name:"state"}},h=["smoke"]);b.SMOKE_DETECTOR_TEAM_V2&&(g={"%smokeState%":{value:"smokeGroupState",options:["on","off"],name:"state"}},h=["smoke"]);b.RGBW_COLOR&&(e||(e={}),e["%rgb%"]||(e["%rgb%"]={value:"rgb",ext:"%s",name:"rgb color"}),e["%white%"]||(e["%white%"]={value:"white",name:"white"}),h||(h=[]),-1==h.indexOf("rgb")&&h.push("rgb"));b.WINMATIC&&(e||(e={}),e["%windowUp%"]||(e["%windowUp%"]=
{value:"windowUp"}),e["%windowDown%"]||(e["%windowDown%"]={value:"windowDown"}),e["%windowTo%"]||(e["%windowTo%"]={value:"windowTo",ext:"%d",extMeta:"0-100"}),e["%windowLock%"]||(e["%windowLock%"]={value:"winLock"}),e["%windowStop%"]||(e["%windowStop%"]={value:"winStop"}),g={"%windowLevel%":{value:"winLevel"}},h=["winmatic"]);b.KEYMATIC&&(e||(e={}),e["%lock%"]||(e["%lock%"]={value:"keyLock"}),e["%unlock%"]||(e["%unlock%"]={value:"keyOpen"}),e["%open%"]||(e["%open%"]={value:"keyOpenDo"}),g={"%lockStatus%":{value:"keyState",
options:["open","lock"]}},h=["keymatic"]);b.SENSOR_FOR_CARBON_DIOXIDE&&(g={"%co2State%":{value:"co2State",options:["normal","added","added_strong"]}},h=["sensor_co2"]);b.WATERDETECTIONSENSOR&&(g={"%waterState%":{value:"waterState",options:["dry","wet","water"]}},h=["sensor_water"]);return h&&0!=h.length?this._injectToSmartWidgetTemplate(c,h,d,e,g):null},_applySmartWidget_HmIP:function(a,c,d,b,f){if(!a.channels)return null;var e,g,h;b={};for(var k in a.channels)if(a.channels.hasOwnProperty(k)){f=k;
var m=f.indexOf(":");-1!=m&&(f=f.substr(0,m));b[f]=!0}b.SWITCH_VIRTUAL_RECEIVER&&(e||(e={}),"HmIP-BSM"==a.type?(e["%on%"]||(e["%on%"]={value:"ch4on",name:"ch.4 on"}),e["%off%"]||(e["%off%"]={value:"ch4off",name:"ch.4 off"}),e["%toggle%"]||(e["%toggle%"]={value:"ch4toggle",name:"ch.4 toggle"})):(e["%on%"]||(e["%on%"]={value:"on",name:"on"}),e["%off%"]||(e["%off%"]={value:"off",name:"off"}),e["%toggle%"]||(e["%toggle%"]={value:"toggle",name:"toggle"})),g||(g={}),g["%switchState%"]||(g["%switchState%"]=
{value:"switchState",options:["off","on"],name:"switch status"}),h||(h=[]),-1==h.indexOf("switch")&&h.push("switch"));b.DIMMER_VIRTUAL_RECEIVER&&(e||(e={}),e["%on%"]||(e["%on%"]={value:"dimTo",ext:100,name:"dim to"}),e["%off%"]||(e["%off%"]={value:"dimOff",name:"off"}),e["%dimOn%"]||(e["%dimOn%"]={value:"dimTo",ext:100,name:"dim to"}),e["%dimOff%"]||(e["%dimOff%"]={value:"dimOff",name:"off"}),e["%dimUp%"]||(e["%dimUp%"]={value:"dimUp",ext:5,name:"dim up"}),e["%dimDown%"]||(e["%dimDown%"]={value:"dimDown",
ext:5,name:"dim down"}),e["%dimTo%"]||(e["%dimTo%"]={value:"dimTo",ext:"%d",extMeta:"0-100",name:"dim to"}),g={"%dimmerState%":{value:"dimmerTLevel",ext:"%d",extMeta:"0-100",name:"dimmer status"}},h=["switch","dimmer"]);b.SHUTTER_VIRTUAL_RECEIVER&&(e||(e={}),e["%stop%"]||(e["%stop%"]={value:"stop",name:"stop"}),e["%moveUp%"]||(e["%moveUp%"]={value:"moveUp",name:"move up"}),e["%moveDown%"]||(e["%moveDown%"]={value:"moveDown",name:"move down"}),e["%stepUp%"]||(e["%stepUp%"]={value:"stepUp",ext:5,name:"step up"}),
e["%stepDown%"]||(e["%stepDown%"]={value:"stepDown",ext:5,name:"step down"}),e["%moveTo%"]||(e["%moveTo%"]={value:"moveTo",ext:"%d",extMeta:"0-100",name:"move to"}),g={"%shutterState%":{value:"blindTLevel",ext:"%d",extMeta:"0-100",name:"blind status"}},h=["shutter"]);b.BLIND_VIRTUAL_RECEIVER&&(e||(e={}),e["%stop%"]||(e["%stop%"]={value:"stop",name:"stop"}),e["%moveUp%"]||(e["%moveUp%"]={value:"moveUp",name:"move up"}),e["%moveDown%"]||(e["%moveDown%"]={value:"moveDown",name:"move down"}),e["%stepUp%"]||
(e["%stepUp%"]={value:"stepUp",ext:5,name:"step up"}),e["%stepDown%"]||(e["%stepDown%"]={value:"stepDown",ext:5,name:"step down"}),e["%moveTo%"]||(e["%moveTo%"]={value:"moveTo",ext:"%d",extMeta:"0-100",name:"move to"}),e["%lamellaUp%"]||(e["%lamellaUp%"]={value:"lamellaUp",name:"lamella up"}),e["%lamellaDown%"]||(e["%lamellaDown%"]={value:"lamellaDown",name:"lamella down"}),e["%lamellaStepUp%"]||(e["%lamellaStepUp%"]={value:"lamellaStepUp",ext:5,name:"lamella step up"}),e["%lamellaStepDown%"]||(e["%lamellaStepDown%"]=
{value:"lamellaStepDown",ext:5,name:"lamella step down"}),e["%lamellaTo%"]||(e["%lamellaTo%"]={value:"lamellaTo",ext:"%d",extMeta:"0-100",name:"lamella to"}),g={"%blindState%":{value:"blindTPos",ext:"%d",extMeta:"0-100",name:"blind status"},"%lamellaState%":{value:"lamellaTPos",ext:"%d",extMeta:"0-100",name:"lamella status"}},h=["shutter","blind"]);b.ENERGIE_METER_TRANSMITTER&&(g||(g={}),g["%meterVoltage%"]||(g["%meterVoltage%"]={value:"meterVoltage",extMeta:"0.0-409.5",scale:"0.1",unit:"V",name:"voltage"}),
g["%meterEnergyCounter%"]||(g["%meterEnergyCounter%"]={value:"meterEnergyCounter",extMeta:"0.0-838859.1",scale:"0.1",unit:"Wh",name:"energy counter"}),g["%meterFrequency%"]||(g["%meterFrequency%"]={value:"meterFrequency",extMeta:"29.52-70.47",scale:"0.01",unit:"Hz",name:"frequency"}),g["%meterPower%"]||(g["%meterPower%"]={value:"meterPower",extMeta:"0.0-163830.0",scale:"0.1",unit:"W",name:"power"}),g["%meterCurrent%"]||(g["%meterCurrent%"]={value:"meterCurrent",extMeta:"0.0-65535.0",scale:"0.1",unit:"mA",
name:"current"}),h||(h=[]),-1==h.indexOf("powermeter")&&h.push("powermeter"));b.HEATING_CLIMATECONTROL_TRANSCEIVER&&(e||(e={}),e["%thermoAuto%"]||(e["%thermoAuto%"]={value:"themoAutoMode",name:"set auto mode"}),e["%thermoManu%"]||(e["%thermoManu%"]={value:"themoManuMode",name:"set manu mode"}),e["%thermoBoost%"]||(e["%thermoBoost%"]={value:"themoBoostOn",name:"boost on"}),e["%thermoTempUp%"]||(e["%thermoTempUp%"]={value:"themoTempUp",name:"temperature up"}),e["%thermoTempDown%"]||(e["%thermoTempDown%"]=
{value:"themoTempDown",name:"temperature down"}),e["%thermoTempTo%"]||(e["%thermoTempTo%"]={value:"themoTemp",ext:"%f",extMeta:"4.5-30.5",scale:"0.5",name:"set temperature"}),e["%thermoOn%"]||(e["%thermoOn%"]={value:"themoTempOn",name:"on"}),e["%thermoOff%"]||(e["%thermoOff%"]={value:"themoTempOff",name:"off"}),e["%thermoBoostOff%"]||(e["%thermoBoostOff%"]={value:"themoBoostOff",name:"boost off"}),e["%thermoProfile%"]||(e["%thermoProfile%"]={value:"themoProf",ext:"%d",extMeta:"1-6",scale:"1",name:"set profile"}),
g={"%thermoCurrentTemp%":{value:"themoActualTemp",name:"actual temperature"},"%thermoHum%":{value:"themoHum",name:"humidity"},"%thermoMode%":{value:"themoMode",options:["auto","manu"],name:"mode"},"%thermoSetTemp%":{value:"themoTemp",extMeta:"4.5-30.5",scale:"0.5",name:"set temperature"},"%thermoProfile%":{value:"themoProf",ext:"%d",extMeta:"1-6",scale:"1",name:"set profile"},"%thermoBoostMode%":{value:"themoBoostMode",options:["off","on"],name:"boost mode"},"%thermoWindow%":{value:"themoWinState",
options:["open","closed"],name:"window state"}},h=["thermostat"]);b.SHUTTER_CONTACT&&(g={"%contactState%":{value:"shutterState",options:["closed","open"],name:"shutter state"}},h=["contact"]);b.SHUTTER_CONTACT_TRANSCEIVER&&(g={"%contactState%":{value:"shutterTState",options:["closed","open"],name:"shutter state"}},h=["contact"]);b.ROTARY_HANDLE_TRANSCEIVER&&(g={"%windowState%":{value:"handleState",options:["closed","tilted","open"],name:"handle state"}},h=["window"]);b.CLIMATE_TRANSCEIVER&&(g={"%tempState%":{value:"climateActualTemp",
extMeta:"-3276.8-3276.7",scale:"0.1",name:"actual temperature"},"%humState%":{value:"climateHum",name:"humidity"}},h=["climate"]);b.WEATHER_TRANSMIT&&(g={"%tempState%":{value:"weatherActualTemp",name:"actual temperature"},"%humState%":{value:"weatherHum",name:"humidity"},"%brightnessState%":{value:"weatherIllu",name:"brightness"},"%sunshineState%":{value:"weatherSunD",name:"sunshine duration"},"%windspeedState%":{value:"weatherWindS",name:"wind speed"},"%rainingState%":{value:"weatherRain",name:"raining"},
"%rainingCounterState%":{value:"weatherRainC",name:"rain counter"}},h=["weather_station"]);b.MOTIONDETECTOR_TRANSCEIVER&&(e||(e={}),e["%motionActivate%"]||(e["%motionActivate%"]={value:"motionOn",name:"activate detection"}),e["%motionDeactivate%"]||(e["%motionDeactivate%"]={value:"motionOff",name:"deactivate detection"}),e["%motionToggle%"]||(e["%motionToggle%"]={value:"motionToggle",name:"toggle detection"}),e["%motionReset%"]||(e["%motionReset%"]={value:"motionReset",name:"reset"}),g={"%motionState%":{value:"motionState",
options:["on","off"],name:"state"},"%motionBrightness%":{value:"motionIllu",name:"illumination"},"%motionActivate%":{value:"motionActivate",options:["off","on"],name:"detection activated"}},h=["motion"]);b.SMOKE_DETECTOR&&(g={"%smokeState%":{value:"smokeState",options:["on","off"],name:"alarm state"}},h=["smoke"]);b.ANALOG_OUTPUT_TRANSCEIVER&&(e||(e={}),e["%dimOn%"]||(e["%dimOn%"]={value:"analogOutputTo",ext:100,name:"output to"}),e["%dimOff%"]||(e["%dimOff%"]={value:"analogOutputOff",name:"off"}),
e["%dimUp%"]||(e["%dimUp%"]={value:"analogOutputUp",ext:5,name:"up"}),e["%dimDown%"]||(e["%dimDown%"]={value:"analogOutputDown",ext:5,name:"down"}),e["%dimTo%"]||(e["%dimTo%"]={value:"analogOutputTo",ext:"%d",extMeta:"0-100",name:"output to"}),g={"%dimmerState%":{value:"analogOutputLevel",ext:"%d",extMeta:"0-100",name:"output status"}},h=["dimmer"]);return h&&0!=h.length?this._injectToSmartWidgetTemplate(c,h,d,e,g):null},_injectToSmartWidgetTemplate:function(a,c,d,b,f){var e=[];a||(b={});b||(b={});
f||(f={});for(var g=0;g<a.length;g++){var h=a[g];if(h.meta&&-1!=c.indexOf(h.meta.type)&&h.elements){var h=JSON.parse(JSON.stringify(h)),k=!1,m;for(m in h.elements){var t=h.elements[m];if(t&&Array.isArray(t))for(var v=0;v<t.length;v++){var u=t[v];if(u){if(u.action&&"command"==u.action.type&&u.action.ref&&u.action.ref.value){var w=u.action.ref.ext;b[u.action.ref.value]?(u.action.ref=b[u.action.ref.value],w&&(u.action.ref.ext=w),u.action.device=d,k=!0):u.action=null}u.status&&u.status.ref&&u.status.ref.value&&
(f[u.status.ref.value]?(u.status.ref=f[u.status.ref.value],u.status.device=d,k=!0):u.status=null)}}}k&&e.push(h)}}return e}};xnm.aio.hm.Handler=function(){var a=require("x.logger.js");this._logger=a?a.getLogger("xnm.aio.hm.Handler"):{log:function(){}};xnm.aio.hm.Handler._logger=a?a.getLogger("xnm.aio.hm.Handler"):{log:function(){}}};
xnm.aio.hm.Handler.prototype={CCU:xnm.aio.hm.MHMCCU,devicemanager:xnm.aio.hm.DM,_discoveryCallbacks:[],_upnpCallback:null,_udpSockets:null,registModule:function(a){a.register(this.devicemanager.SYS,"hm")},discoverCCUs:function(a){var c=require("x.upnp.js");if(c){var d=!1;this._discoveryCallbacks.forEach(function(b){b==a&&(d=!0)});d||this._discoveryCallbacks.push(a);if(!this._upnpCallback){var b=this;this._upnpCallback=function(a,c){b._onDiscover(a,c)}}c.discoverDevices(this._upnpCallback);this._discoverUdp()}else a&&
a(Error("upnp module is not avaliable"))},_discoverUdp:function(){var a=function(a){for(var b=0;b<a.length-1;b+=2)if("00"==a.substr(b,2))return b;return-1},c=function(b,c){var d=b.address,f=c.toString("hex");if(8<f.length&&"02a5db30"==f.substr(0,8)){var f=f.substr(8),m=a(f);if(-1!=m&&m<f.length-2){var t=f.substr(2,m-2),v=(new Buffer(t,"hex")).toString(),t=1;-1!=v.indexOf("CCU2")?t=2:-1!=v.indexOf("CCU3")&&(t=3);f=f.substr(m+2);m=a(f);if(-1!=m&&(f=f.substr(0,m))){var f=(new Buffer(f,"hex")).toString(),
u=new xnm.aio.hm.MHMCCU(d,"",80,8181,f,t);this._discoveryCallbacks&&this._discoveryCallbacks.forEach(function(a){a&&a(u)})}}}},d=function(a,b,d){xnm.aio.hm.Handler._logger.log("debug","create discover socket @:"+b);var f=require("dgram"),m=this,t;try{t=f.createSocket({reuseAddr:!0,type:"udp4"})}catch(v){t=f.createSocket("udp4")}var u=d;t.on("listening",function(){t.setBroadcast&&t.setBroadcast(!0);u&&(u(null,t),u=null)});t.on("message",function(a,b){c.call(m,b,a)});t.on("error",function(a){xnm.aio.hm.Handler._logger.log("warn",
"create discover socket error:"+a);u&&(u(a),u=null)});t.bind(a,b);return t},b=function(a,b){var c=new Buffer([2,165,219,48,1,101,81,51,45,42,0,42,0,73]);a.send(c,0,c.length,43439,"255.255.255.255",function(){b&&a.close()})},f=this;(function(a){var b=[],f,k=this,m=require("os"),t=require("dgram");m&&m.networkInterfaces?(f=t.createSocket("udp4"),f.on("listening",function(){f.setBroadcast(!0);var c=m.networkInterfaces(),u=[],t;for(t in c)for(var r=c[t],x=0;x<r.length;x++)"IPv4"==r[x].family&&0==r[x].internal&&
u.push(r[x].address);var y=u.length;if(y)for(c=0;c<u.length;c++)d.call(k,f.address().port,u[c],function(c,d){y--;!c&&d&&b.push(d);y||a&&a(null,b)});else a&&a(null,b)}),f.on("message",function(a,b){c.call(k,b,a)}),f.bind(null)):d.call(k,null,null,function(c,d){!c&&d&&b.push(d);a&&a(null,b)})}).call(this,function(a,c){if(!a&&c){for(var d=0;d<c.length;d++)b.call(f,c[d]);setTimeout(function(){for(var a=0;a<c.length;a++)c[a].close();f._udpSockets=null},3E3)}})},discoverCCUsWithTimeout:function(a,c){var d=
this,b=[],f=function(a){if(a){for(var c=0;c<b.length;c++)if(b[c].uuid==a.uuid)return;b.push(a)}};setTimeout(function(){d.removeDiscoveryCallback(f);c&&c(b)},1E3*a);this.discoverCCUs(f)},removeDiscoveryCallback:function(a){if(this._discoveryCallbacks){for(var c=-1,d=0;d<this._discoveryCallbacks.length;d++)if(this._discoveryCallbacks[d]===a){c=d;break}-1!=c&&this._discoveryCallbacks.splice(c,1)}},_onDiscover:function(a,c){if(a.name&&0<=a.name.indexOf("HomeMatic Central")){var d="";if(a.uuid){var d=
a.uuid.replace("upnp-BasicDevice-",""),b=d.split("-");1<b.length&&(d=b[1])}var f=new xnm.aio.hm.MHMCCU(a.ip,"",80,8181,d);this._discoveryCallbacks&&this._discoveryCallbacks.forEach(function(a){a&&a(f,c)})}},getDeviceListWithTimeout:function(a,c,d){if(a=this.resolveGateway(a)){var b=d,f=setTimeout(function(){b&&b(Error("get device list timeout"));b=null},1E3*c);a.getDeviceList(function(a,c){clearTimeout(f);b&&b(a,c)})}else d&&d(Error("gateway json format invalid"))},getDeviceCommands:function(a,c){var d=
xnm.aio.hm.DM.applyUIFilter(a,{catagory:"command",elems:"*"}),d=d?d.command:[];c&&c(null,d)},getDeviceCommandList:function(a,c){var d=[];"HM-ES-PMSw1-Pl"==a.type?(d.push({id:window.XC_Text.on,cmd:"1:SWITCH:on"}),d.push({id:window.XC_Text.off,cmd:"1:SWITCH:off"})):"FHT80b"!=a.subtype&&(d.push({id:window.XC_Text.on,cmd:"on"}),d.push({id:window.XC_Text.off,cmd:"off"}));return d},getDeviceStatus:function(a,c){var d=xnm.aio.hm.DM.applyUIFilter(a,{catagory:"status",elems:"*"}),d=d?d.status:[];c&&c(null,
d)},doCommand:function(a,c,d,b){this.resolveGateway(a).executeCommandCreator(c,d,function(a){b&&b(a)})},doStatus:function(a,c,d,b,f){(c=this.resolveGateway(c))?c.getStatesCreator(null,[{id:a,device:d,status:b}],function(a,b){a?f&&f(a):f&&f(null,b[0])}):f&&f(Error("gateway json invalid"))},getCCUServiceMessages:function(a,c){this.resolveGateway(a).getServiceMessage(function(a,b){c&&c(a,b)})},resolveGateway:function(a){return a.ip?new xnm.aio.hm.MHMCCU(a.ip,a.password,a.port,a.tclport,a.uuid,a.type,
a.username,a.cloudmatic):null}};"undefined"!=typeof module&&module&&module.exports&&(module.exports=new xnm.aio.hm.Handler);
